define("model/AppConfig",function(){"use strict";var n=function(){return window.sd.env=="qa"?{Staging1:"https://c4w19235.americas.hpqcorp.net"}:window.sd.env=="Staging"?{Staging1:"https://c4w17196.americas.hpqcorp.net",Staging2:"https://c4w17197.americas.hpqcorp.net",Staging3:"https://c4w17198.americas.hpqcorp.net",Staging4:"https://c4w17199.americas.hpqcorp.net"}:{Staging1:"https://c4w17099.americas.hpqcorp.net",Staging2:"https://c4w17100.americas.hpqcorp.net",Staging3:"https://c4w17101.americas.hpqcorp.net",Staging4:"https://c4w17102.americas.hpqcorp.net"}},t={siteRelativeUrl:_spPageContextInfo.siteServerRelativeUrl,siteAbsoluteUrl:_spPageContextInfo.siteAbsoluteUrl,userId:_spPageContextInfo.userId,SectionLoaderUrl:_spPageContextInfo.siteServerRelativeUrl+"/SitePages/SDSectionLoader.aspx",SDContentsUrl:_spPageContextInfo.siteServerRelativeUrl+"/SitePages/SDContents.aspx",SDDocLibUrl:_spPageContextInfo.siteServerRelativeUrl+"/SSDocLib/"};return{ListCollection:{Core:"Core",SDCore:"SD%20Core",SSDocLib:"SSDocLib"},ReleaseVersion:1,datetimepickerOption:{format:"MMM D YYYY",sideBySide:!0},WebAPI:{Grip:"https://c4w04012.americas.hpqcorp.net/api/salesforce",GDT:"https://c4w04012.americas.hpqcorp.net/api/salesforce",HRSoln:"https://c4w03910.americas.hpqcorp.net/api/salesforce"},ApiStaging:n(),ENV:t}});define("util/AppUtility",function(n){"use strict";function f(n){ExecuteOrDelayUntilScriptLoaded(function(){SP.UI.ModalDialog.showModalDialog(n)},"SP.js")}function e(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function s(n,t){ExecuteOrDelayUntilScriptLoaded(function(){SP.UI.ModalDialog.commonModalDialogClose(n,t)},"SP.js")}function h(n,t){var i=n,r=t||0;return typeof i=="number"?i:typeof i=="string"?(i=i.replace(/\$/g,""),i=i.replace(/,/g,""),i=parseFloat(i),isNaN(i)&&(i=r),i):r}function i(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function c(n){var t=r(n);return t!==null&&!isNaN(t)}function r(n){var t=new Date(n);return typeof n=="undefined"||n===null||n===""?null:isNaN(t.getTime())?(n=n.replace(/-/g,"/"),n=n.replace(/\u5e74/g,"/").replace(/\u6708/g,"/").replace(/\u65e5/g,"/"),t=new Date(n),!isNaN(t.getTime()))?t:null:t}function u(n){return typeof n=="object"&&n!==null?n.getFullYear().toString()+"-"+(n.getMonth()+1).toString()+"-"+n.getDate().toString():u(new Date)}function l(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function a(){return t.Deferred(function(n){whenReady("_spWebPermMasks",function(){n.resolve((_spWebPermMasks.Low&31)==31)})}).promise()}function v(n){return n=String(n).replace(/\,/g,"&#44;").replace(/\"/g,'\\"'),n.split("\n").toString().replace(/\,/g,"")}function y(n){var t;return t=n.lastIndexOf("."),t>=0?n.substr(t+1):""}function p(n){var i;i=t('[id*="'+n+'"] a[rel=popover]');i.popover({html:!0,trigger:"hover",placement:"bottom",content:function(){var n="",i=t(this).data("file"),r=y(i).toLowerCase();switch(r){case"jpg":case"png":case"gif":n='<img src="'+i+'" />';break;case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":n='<div class="js-frame-wrapper" style="line-height:0">    <iframe src="/teams/ESSolutionDesign-Staging/_layouts/15/WopiFrame.aspx?sourcedoc='+i+'&amp;action=interactivepreview&amp;wdSmallView=1" frameborder="0" style="width:350px; height:221px;"><\/iframe><\/div>';break;default:alert("unsupported file type, please choose another file!")}return n}})}function w(){var i=t.Deferred(),n=_spPageContextInfo.userLoginName,r=_spPageContextInfo.userId,u=_spPageContextInfo.webAbsoluteUrl+"/_api/web/getuserbyid("+r+")";return n!==undefined?i.resolve(n):t.ajax({url:u,contentType:"application/json;odata=verbose",headers:{accept:"application/json;odata=verbose"},async:!1,success:function(t){n=t.d.LoginName.split("|")[1];_spPageContextInfo.user=t.d;_spPageContextInfo.userLoginName=n;_spPageContextInfo.userLoginNameClean=n.replace("i:0#.w|","");i.resolve(n)},error:function(n){i.fail(n)}}),i.promise()}function b(n){return new Date(n).format("yyyy-MM-ddTHH:mm:ss")}function k(n){return new Date(n).format("MMM d yyyy")}function d(){var n=t("#suiteBarLeft").find("div.ms-core-brandingText:contains('The Solution Source')"),i=n.parent();i.after('<span class="sd-head-separate"> / <\/span><a title="Solution Design" class="ms-core-suiteLink-a" href="SDMyOppty.aspx">    <div class="ms-core-brandingText sd-head-text">Solution Design<\/div><\/a>');t("#suiteBar").height(30)}var t=n("jquery"),o=function(){var n=null;return function(t){function u(){r.dialog!==null?r.token===n&&(r.dialog.close(),n=null):setTimeout(u,50)}var r={dialog:null,token:i(),close:u};return n===null?(n=r.token,ExecuteOrDelayUntilScriptLoaded(function(){r.dialog=SP.UI.ModalDialog.showWaitScreenWithNoClose(SP.Res.dialogLoading15);typeof t=="function"&&t(r.dialog)},"SP.js")):(r.dialog={close:function(){}},typeof t=="function"&&t(r.dialog)),r}}();return{showWorkingOnItDialog:o,closeLastDialog:s,parseCurrency:h,newGuid:i,isDate:c,parseDate:r,toDateString:u,getUrlParameter:e,showModalDialog:f,trimString:l,isCurrentUserWebAdmin:a,htmlEscape:v,initPopover:p,getCurrentUser:w,transformDateToISO8601:b,transformIOSDateToen:k,addSDLinkAfterAppHome:d}});define("model/Oppty",function(n){"use strict";function f(n){var t=this;t.ID=0;t.opptyID="";t.opptyName="";t.clientName="";t.dealStatus="";t.salesStage="";t.statusCheck="";t.json={};n!==undefined&&(t.ID=n.ID,t.opptyID=n.Title,t.opptyName=n.OpptyName,t.clientName=n.ClientName,t.dealStatus=n.DealStatus,t.salesStage=n.SalesStage,t.statusCheck=n.StatusCheck,t.json=n.JSON)}function u(n,t){this.opptyID=n.OpportunityID;this.opptyName=n.OpportunityName;this.salesStage=n.CurrentSalesStage;this.opptyType=n.OpportunityType;this.dealStatus=n.OpportunityStatus;this.clientName=n.CustomerProfileName;this.leadBizUnit=n.PrimaryGBU;this.opptyTcv=n.OpportunityTotalValueUSD;this.opptyFyr=n.OpportunityTotalFFYRevenueUSD;this.apps=n.APPSUSD;this.bps=n.BPOUSD;this.ito=n.ITOUSD;this.contractTerm=n.ContractLengthinMonths;this.contractSignDate=n.SignDate;this.leadCntry=n.ESSubregion;this.clientCntry=n.CRPCountryName;this.region=n.ESGeo;this.productLine=t}function e(n){this.serviceLine=n.LineItemProductLineName;this.offering=n.LineItemSubProductLineName}function o(){var n,r=t.Deferred();return t.ajax({url:i+"/items/?$select=OpptyID,OpptyName,ClientName",type:"get",dataType:"JSON",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(t){n=t.d.results;r.resolve(n)},async:!0}),r.promise()}function s(){var n=t.Deferred(),r=[];return t.ajax({url:i+"/items/?$select=ID,Title,OpptyID,OpptyName,ClientName,DealStatus,SalesStage",type:"get",dataType:"json",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(t){var i=t.d.results,u,e;for(u in i)e=new f(i[u]),r.push(e);n.resolve(r)}}),n.promise()}function h(n){var r=t.Deferred(),u={},f=i+"/items/?$filter=OpptyID eq '"+n+"'";return t.ajax({url:i+"/items/?$filter=OpptyID eq '"+n+"'",type:"get",dataType:"JSON",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){u=n.d.results;u.length==0?r.resolve():r.resolve(u[0])}}),r.promise()}function c(n){var r=t.Deferred(),u=String.format("{{'__metadata':{{'type':'SP.Data.CoreListItem'}},'Title':'{0}','OpptyID':'{1}','JSON':'{2}'}}",n.opptyID,n.opptyID,n.JSON);return t.ajax({url:i+"/items("+n.ID+")",method:"post",data:u,headers:{"X-RequestDigest":t("#__REQUESTDIGEST").val(),"content-type":"application/json;odata=verbose","IF-MATCH":"*","X-HTTP-Method":"MERGE"},success:function(){r.resolve()}}),r.promise()}function l(n){var r=t.Deferred(),u=String.format("{{'__metadata':{{'type':'SP.Data.CoreListItem'}},'Title':'{0}','OpptyID':'{1}','OpptyName':'{2}','ClientName':'{3}','DealStatus':'{4}','SalesStage':'{5}','JSON':'{6}'}}",n.title,n.opptyID,n.opptyName,n.clientName,n.dealStatus,n.salesStage,n.JSON);return t.ajax({url:i+"/items("+n.ID+")",method:"post",data:u,headers:{"X-RequestDigest":t("#__REQUESTDIGEST").val(),"content-type":"application/json;odata=verbose","IF-MATCH":"*","X-HTTP-Method":"MERGE"},success:function(){r.resolve()}}),r.promise()}function a(n){var r=t.Deferred(),u=String.format("{{'__metadata':{{'type':'SP.Data.CoreListItem'}},'Title':'{0}','OpptyID':'{1}','OpptyName':'{2}','ClientName':'{3}','DealStatus':'{4}','SalesStage':'{5}','JSON':'{6}'}}",n.title,n.opptyID,n.opptyName,n.clientName,n.dealStatus,n.salesStage,n.JSON);return t.ajax({url:i+"/items",type:"post",data:u,headers:{"X-RequestDigest":jQuery("#__REQUESTDIGEST").val(),"content-type":"application/json;odata=verbose"},success:function(n){r.resolve(n)}}),r.promise()}function v(n){var o=r.WebAPI.HRSoln+"?id="+n,f=null,i=t.Deferred();return t.ajax({url:o,type:"get",dataType:"JSON",headers:{accept:"application/JSON","content-type":"application/JSON"},success:function(n){var r,t,o;if(n===undefined)i.resolve();else{r=[];t=n.__ProductLines;for(o in t)t[o].serviceLine!==""&&r.push(new e(t[o]));f=new u(n,r);i.resolve(f)}},error:function(n){n.status=="404"&&i.resolve(undefined)},async:!0}),i.promise()}var t=n("jquery"),r=n("model/AppConfig"),i=r.ENV.siteRelativeUrl+"/_api/web/Lists/getbytitle('"+r.ListCollection.SDCore+"')";return{getMyOpptyAsync:s,getAllOpptyAsync:o,getOpptyByIDAsync:h,updateOpptyAsync:c,addNewOppty:a,opptyOverview:u,getOpptyOverviewAsync:v,updateOpptyOverviewAsync:l}});define("model/RequestAPI",function(n){"use strict";function e(n,t){for(var i in n)if(n[i].sid===t)return n[i].title;return"Error Title"}function o(n,t){for(var i in n)if(n[i].sid===t)return n[i].sectionName;return"Error Section Name"}function u(n,t,r){return n===undefined&&n=="A",(r===undefined||t!="apps")&&(r=!1),[new i("0201","Opportunity Overview","","0202","opportunity-data"),new i("0202","Pursuit Team Contacts","0201","0301","contacts"),new i("0301","Client Overview and Decision Factors","0202","030201","client-overview"),new i("030201","HPE Win Strategy > Sales Approach","0301","030202","sales-approach"),new i("030202","HPE Win Strategy > Competitors","030201","030203","competitors"),new i("030203","HPE Win Strategy > Message Map/Value Proposition","030202","030204","map-value-propositions"),new i("030204","HPE Win Strategy > Pricing Approach","030203","040101","pricing-approach"),new i("040101","Scope > All Offerings","030204","040102","unknown"),new i("040102","Scope > Key Scope Items","040101",n=="A"||n=="B"?"040301":"0402","unknown"),new i("0402","Current State Client Architecture","040102","040301","unknown"),new i("040301","Solution Approach > Summary",n=="A"||n=="B"?"040102":"0402","040302","unknown"),new i("040302","Solution Approach > Outsourcing CMO/TMO/FMO","040301","040303","unknown"),new i("040303","Solution Approach > HR Solution","040302","040304","unknown"),new i("040304","Solution Approach > HPE Internal Challenges and Constraints","040303",t=="apps"&&r?"040305":"040307","unknown"),new i("040305","Solution Approach > Design Parameters","040304","040306","unknown"),new i("040306","Solution Approach > Deployment Strategy","040305","040307","unknown"),new i("040307","Solution Approach > Additional Information",t=="apps"&&r?"040306":"040304","0404","unknown"),new i("0404","Innovative Aspects of the Solution","040307","040501","unknown"),new i("040501","Delivery Strategies > Delivery Location Targets","0404","040505","unknown"),new i("040505","Delivery Strategies > In-Scope Services Delivery Responsibility","040501",n=="A"||n=="B"?"040503":"040506","unknown"),new i("040506","Delivery Strategies > Client-Retained Services Delivery Responsibility","040505","040503","unknown"),new i("040503","Delivery Strategies > ESM Tooling and Automation Approach",n=="A"||n=="B"?"040505":"040506","0406","unknown"),new i("0406","Key Client Constraints","040503",n=="A"||n=="B"?"0201":"0407","unknown"),new i("0407","Summary Costing & FTE Reports\u2014Costing Approach","0406","0201","unknown")]}function i(n,t,i,r,u){this.sid=n;this.title=t;this.prevSid=i;this.nextSid=r;this.sectionName=u}function s(n,t,i){c(n,t,i)}function h(n,i,r,u){var f=t.Deferred(),e=new FileReader;return e.onloadend=function(u){if(u.target.readyState==FileReader.DONE){var e=u.target.result,o=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/getfolderbyserverrelativeurl('"+n+i+"')/files/add(overwrite=true,url='"+r+"')";t.ajax({url:o,type:"POST",data:e,processData:!1,headers:{accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){f.resolve(n)},complete:function(n){f.resolve(n)},error:function(n){f.resolve(n)}})}},e.readAsArrayBuffer(u),f.promise()}function c(n,i,r){var u=t.Deferred(),f=new FileReader;return f.onloadend=function(r){if(r.target.readyState==FileReader.DONE){var f=r.target.result,e=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/lists/getByTitle('"+n+"')/RootFolder/Files/add(url='"+i+"',overwrite='true')";t.ajax({url:e,type:"POST",data:f,processData:!1,headers:{accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){u.resolve(n)},complete:function(n){u.resolve(n)},error:function(n){u.resolve(n)}})}},f.readAsArrayBuffer(r),u.promise()}function l(n,i,r){var u=t.Deferred(),f=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/lists/getByTitle('"+n+"')/RootFolder/Folders/add(url='"+i+"')";t.ajax({url:f,type:"POST",headers:{accept:"application/json; odata=verbose","content-type":"application/json; odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(){a(n,i,r)},complete:function(n){u.resolve(n)},error:function(n){u.resolve(n)}})}function a(n,i,r){var u=t.Deferred(),f=_spPageContextInfo.siteServerRelativeUrl+"/_api/Web/Folders/add('"+n+"/"+i+"/"+r+"')";t.ajax({url:f,type:"POST",headers:{accept:"application/json; odata=verbose","content-type":"application/json; odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){u.resolve(n)},complete:function(n){u.resolve(n)},error:function(n){u.resolve(n)}})}function v(n){var i=t.Deferred(),u=r.ReleaseVersion,f=r.ListCollection.SSDocLib,e=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/getfolderbyserverrelativeurl('"+f+"/"+n+"/"+u+"')/Files";return t.ajax({url:e,type:"get",dataType:"JSON",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){i.resolve(n)},error:function(n){i.resolve(n)}}),i.promise()}function y(){var n=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents",method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(t){n.resolve(t)}).fail(function(t){n.resolve(t)}),n.promise()}function p(){var n=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents/my",method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(t){n.resolve(t)}).fail(function(t){n.resolve(t)}),n.promise()}function w(n){var i=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents",method:"POST",data:JSON.stringify(n),contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n){i.resolve(n)}).fail(function(n){i.resolve(n)}),i.promise()}function b(n){var i=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents/"+n,method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,r){i.resolve(n,r)}).fail(function(n){i.resolve(n)}),i.promise()}function k(n){var i=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents/"+n,method:"GET",async:!1,contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,r){i.resolve(n,r)}).fail(function(n){i.resolve(n)}),i.promise()}function d(n,i){var u=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents/"+n+"/sections/"+i,method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,i){u.resolve(n,i)}).fail(function(n){u.resolve(n)}),u.promise()}function g(n,i){var u=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents/"+n+"/sections/"+i,method:"GET",async:!1,contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,i){u.resolve(n,i)}).fail(function(n){u.resolve(n)}),u.promise()}function nt(n,i,u,f){var e=t.Deferred();return t.ajax({url:r.ApiStaging.Staging1+"/api/documents/"+n+"/sections/"+i,method:"POST",data:JSON.stringify(u),contentType:"application/json",headers:{"If-Match":f,Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")},success:function(n,t,i){e.resolve(n,t,i)},error:function(n){e.resolve(n)}}),e.promise()}function tt(n){switch(n){case"400":alert("You don't have OpptyID in your url! You will redirect to My Opportunity Page!");window.location.href=r.ENV.siteRelativeUrl+"/SitePages/SDMyOppty.aspx";break;case"404":alert("OpptyID is not avaiable! Please try another or navigator to home page!");window.location.href=r.ENV.siteRelativeUrl+"/SitePages/SDMyOppty.aspx"}}function it(n,i){var c=u(undefined,undefined,undefined),s=i!=null?e(c,i):"",r="",o=0,h;n==undefined?(o=0,r="Update Section ("+s+") Successfully!"):n.status>=400&&n.status<500?(o=n.status,i==null?r="Error: The length of the URL for this request exceeds the configured maxUrlLength value or object file too large .":(h=JSON.parse(n.responseText),r="Error: "+o+" Section: "+s+", Message: "+h.Message)):n.status>=500&&(o=n.status,r="Error occur in the server, please contact the server administrator!");t(window).trigger("generateMsg",[s,o,r]);f()}function f(){var n="#suiteBar",r=t(window).width(),i;i=t(n).length?t(window).height()-t(n).height():t(window).height();t("#s4-workspace").width(r).height(i)}var t=n("jquery"),r=n("model/AppConfig");return{createSectionModel:u,createFolder:l,uploadFile:s,uploadtoSpecificFolder:h,createOpptyDocument:w,getAllAttachments:v,getAllOpptyAsync:y,getMyOpptyAsyc:p,getSectionByIDAndSectionNameAsync:d,getSectionByIDAndSectionNameSync:g,getOpptyByIDAsync:b,updateSection:nt,errorOppty:tt,getOpptyByIDSync:k,errorUpdateSection:it,getSectionNameBySid:o,FixWorkspace:f}});define("component/TopLink",function(n){"use strict";function i(){return{}}var r=n("knockout"),u=n("bootstrap"),t=n("text!./TopLinkTemplate.html");return{name:["TopLink","sd-toplink"],template:t,viewModel:{createViewModel:i}}});define("component/TopLinkHome",function(n){"use strict";function i(){var n={};return n.navToNewRequestForm=function(){location.href="NewRequestForm.aspx"},n}var r=n("knockout"),u=n("bootstrap"),t=n("text!./TopLinkHomeTemplate.html");return{name:["TopLinkHome","sd-toplink-home"],template:t,viewModel:{createViewModel:i}}});define("component/OpptyID",function(n){"use strict";function r(){}function u(n){r();var i=function(n){var i=this;i.opptyID=t.observable("");i.editable=t.observable(!1);n===undefined||n.opptyID===undefined?(i.opptyID("OPP-"),i.editable(!0)):(i.opptyID(n.opptyID),i.editable(!1));i.edit=function(){i.editable(!0)};i.save=function(){i.editable(!1)}};return new i(n.oppty)}var f=n("jquery"),t=n("knockout"),i=n("text!./OpptyIDTemplate.html");return{name:["OpptyID","sd-oppty-id"],template:i,viewModel:{createViewModel:u}}});define("component/DateTimePicker",function(n){"use strict";function f(){}function e(n,i){f();var u=function(n){var i={guid:"sd-dtPicker-"+r.newGuid(),dateTime:n.dateTime,dateTimePickerOptions:{},title:t.observable(),hint:t.observable(),mandatory:t.observable(!1),editable:t.observable(!0),formattext:function(){return new Date(n.dateTime()).format("MMM dd yyyy")},edit:function(){i.editable()||i.editable(!0)},editCompleted:function(){i.editable()&&i.editable(!1)}};return n!==undefined&&(n.editable!=undefined&&i.editable(n.editable()),n.title!==undefined&&i.title(n.title),n.hint!==undefined&&i.hint(n.hint),n.mandatory!==undefined&&i.mandatory(n.mandatory),i.dateTimePickerOptions=n.dateTimePickerOptions!==undefined?n.dateTimePickerOptions:{format:"YYYY-MM-DD",sideBySide:!0}),i};return new u(n,i)}var i=n("jquery"),t=n("knockout"),o=n("jasnybs"),s=n("datetimepicker"),r=n("util/AppUtility"),u=n("text!./DateTimePickerTemplate.html");return t.bindingHandlers.dateTimePicker={init:function(n,r,u){var f=r(),e=t.bindingHandlers.dateTimePicker,o=u().dateTimePickerOptions||{},s=function(t){typeof t.__updateSubscribe=="undefined"&&(t.__updateSubscribe=t.subscribe(function(){e.update(n,r,u)},100))};i(n).datetimepicker(o);t.utils.registerEventHandler(n,"dp.change",function(n){var i=r();t.isObservable(i)&&(n.date==null||n.date instanceof Date?i(n.date):n.date?i(n.date.toISOString()):i(""))});t.utils.domNodeDisposal.addDisposeCallback(n,function(){var t=i(n).data("DateTimePicker");t&&t.destroy()});s(f)},update:function(n,r){var o=r(),e=e=t.bindingHandlers.dateTimePicker,u=i(n).data("DateTimePicker"),f;u&&(f=new Date(t.utils.unwrapObservable(r())),e.isValidDate(f)?u.date(f):u.date(null))},isValidDate:function(n){return Object.prototype.toString.call(n)==="[object Date]"?isNaN(n.getTime())?!1:!0:!1}},{name:["DateTimePicker","sd-datetimepicker"],template:u,viewModel:{createViewModel:e}}});define("component/PeoplePicker",function(n){"use strict";function f(n,t){var i;if(SP.SOD.loadMultiple){for(i=0;i<n.length;i=i+1)_v_dictSod[n[i]]||SP.SOD.registerSod(n[i],"/_layouts/15/"+n[i]);SP.SOD.loadMultiple(n,t)}else ExecuteOrDelayUntilScriptLoaded(t,n[0])}function e(){}function o(n,t){e();var u=function(n){var t={guid:"sd-people-"+r.newGuid(),users:n.users,peopleOnly:n.peopleOnly,multiple:n.multiple,title:i.observable(),hint:i.observable(),mandatory:i.observable(!1),editable:i.observable(!0),edit:function(){t.editable()||t.editable(!0)},editCompleted:function(){t.editable()&&t.editable(!1)}};return n!==undefined&&(n.editable!==undefined&&t.editable(n.editable()),n.title!==undefined&&t.title(n.title),n.hint!==undefined&&t.hint(n.hint),n.mandatory!==undefined&&t.mandatory(n.mandatory)),t};return u(n,t)}var t=n("jquery"),i=n("knockout"),s=n("jasnybs"),r=n("util/AppUtility"),u=n("text!./PeoplePickerTemplate.html");return i.bindingHandlers.clientPeoplePicker={currentId:0,init:function(n,r,u){var f=r(),s=u(),e=i.bindingHandlers.clientPeoplePicker,o,h=function(t){typeof t.__updateSubscribe=="undefined"&&(t.__updateSubscribe=t.subscribe(function(){e.updateUserValue(n,t,s)},100))},c=function(n){typeof n.__updateSubscribe!="undefined"&&(n.__updateSubscribe.dispose(),delete n.__updateSubscribe)};if(e.currentId=e.currentId+1,o="ClientPeoplePicker"+e.currentId,!i.isObservable(f))throw"clientPeoplePicker binding requires an observable";n.setAttribute("id",o);f._peoplePickerId=o+"_TopSpan";e.initPeoplePicker(o,s).done(function(i){f._peoplePicker=i;i.OnUserResolvedClientScript=function(i,r){var u=[],o=e.removeMultipleItem(n,r);t.each(o,function(n,t){t.Resolved&&u.push({title:t.DisplayText,name:t.Key,email:t.EntityData.Email,sipAddress:t.EntityData.SIPAddress==""?null:t.EntityData.SIPAddress,type:t.EntityType})});c(f);f(u);h(f)};e.updateUserValue(n,f,s);h(f)});i.utils.domNodeDisposal.addDisposeCallback(n,function(){typeof f.updateSubscribe!="undefined"&&(f.updateSubscribe.dispose(),delete f.updateSubscribe)})},initPeoplePicker:function(n,i){var u={PrincipalAccountType:"User, DL, SecGroup, SPGroup",SearchPrincipalSource:15,ResolvePrincipalSource:15,MaximumEntitySuggestions:10,width:"280px",AllowMultipleValues:typeof i.multiple!="undefined"&&i.multiple===!0},r=t.Deferred();return f(["sp.js","clienttemplates.js","clientforms.js","clientpeoplepicker.js","autofill.js"],function(){SPClientPeoplePicker_InitStandaloneControlWrapper(n,null,u);var t=SPClientPeoplePicker.SPClientPeoplePickerDict[n+"_TopSpan"];r.resolve(t)}),r.promise()},removeMultipleItem:function(n,i){var r=[],u=[];return typeof i!="undefined"&&i.length>0&&t.each(i,function(i,f){t.inArray(f.Key,r)!==-1?t(n).find(".sp-peoplepicker-resolveList [title='"+f.DisplayText+"']:eq(0)").parent().find(".sp-peoplepicker-delImage").click():(u.push(f),r.push(f.Key))}),u},getResolvedUserMails:function(n){var r=n.GetAllUserInfo(),i=[];return t.each(r,function(n,t){t.IsResolved&&i.push(t.EntityData.Email)}),i},getResolvedUserKeys:function(n){var r=n.GetAllUserInfo(),i=[];return t.each(r,function(n,t){t.IsResolved&&i.push(t.Key)}),i},updateUserValue:function(n,r,u){var e,o,f,s,c,l,h,a,v=t(n).attr("id"),y=i.bindingHandlers.clientPeoplePicker;a=t("#"+v);f=r._peoplePicker;c=y.getResolvedUserMails(f);l=y.getResolvedUserKeys(f);e=[];r()&&(t.isArray(r())?t.each(r(),function(n,t){e.push(t)}):e.push(r()));s=[];o=[];t.each(e,function(n,i){var r;typeof i!="undefined"&&(typeof i=="string"?r=i:typeof i=="object"&&(typeof i.email!="undefined"?r=i.email:typeof i.name!="undefined"&&(r=i.name)));o.push(r);typeof r!="undefined"&&t.inArray(r,l)===-1&&t.inArray(r,c)===-1&&s.push(r)});h=[];t.each(f.GetAllUserInfo(),function(n,i){t.inArray(i.Key,o)===-1&&(typeof i.EntityData=="undefined"||t.inArray(i.EntityData.Email,o)===-1)&&h.push(i.DisplayText)});t.each(h,function(n,t){typeof t!="undefined"&&t.length>0&&a.find(".sp-peoplepicker-resolveList [title='"+t+"']:eq(0)").parent().find(".sp-peoplepicker-delImage").click()});s.length>0&&f.AddUserKeys(s.join(";"));(typeof u.enable!="undefined"&&u.enable===!1||typeof u.disable!="undefined"&&u.enable===!0)&&(f.SetEnabledState(!1),t("#"+v+" .sp-peoplepicker-delImage").css("display","none"))}},{name:["PeoplePicker","sd-peoplepicker"],template:u,viewModel:{createViewModel:o}}});define("component/PopQuesArea",function(n){"use strict";function u(){}function f(n,r){u();var f=function(n){var r=this;r.guid="sd-question-"+i.newGuid();r.config={theme:"modern",menubar:!1,statusbar:!1,plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality filemanager"],toolbar1:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | table | link image filemanager",image_advtab:!0};r.content=t.observable("");n!==undefined&&n.content!=undefined&&r.content(n.content)};return new f(n,r)}var e=n("jquery"),t=n("knockout"),o=n("jasnybs"),s=n("ko_tinyMCE"),i=n("util/AppUtility"),r=n("text!./PopQuesAreaTemplate.html");return{name:["PopQuesArea","sd-popquesarea"],template:r,viewModel:{createViewModel:f}}});define("component/QuestionArea",function(n){"use strict";function h(n){if(n.substr(0,12)=="C:\\fakepath\\")return n.substr(12);var t;return(t=n.lastIndexOf("/"),t>=0)?n.substr(t+1):(t=n.lastIndexOf("\\"),t>=0)?n.substr(t+1):n}function f(n){var t;return t=n.lastIndexOf("."),t>=0?n.substr(t+1):""}function o(n){var i;i=t('[id="'+n.guid+'"] a[rel=popover]');i.popover({html:!0,trigger:"hover focus",delay:{hide:5e3},placement:function(n,i){var r=t(i).position();return r.left>515?"left":r.left<515?"right":r.top<110?"bottom":"auto"},title:function(){var n='<table border="0" width="100%"><tr>',i=t(this).data("file");return n+="<td>File Information: ",i!=null&&(n+=h(i)),n+='<\/td><td class="text-right"><a class="close" contenteditable="false" role="button" name="closePop">&nbsp;&times;<\/a><\/td>',n+"<\/tr><\/table>"},content:function(){var i='<div contenteditable="false">',u,e;u=t(this).data("file");e=f(u).toLowerCase();u=r.ENV.SDDocLibUrl+n.opptyID()+"/"+u;switch(e){case"jpg":case"png":case"gif":i+='<img src="'+u+'" style="max-width:550px;max-height:550px;" />';i+="<hr>";break;case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":case"pdf":default:i+="<hr>"}return i+="<ul>",i+='<li><a href="'+u+'" title="'+u+'" download>Download a copy<\/a><\/li>',i+="<ul>",i+='<div class="text-right"><a style="cursor:hand;" class="btn btn-default" name="closePop">Close<\/a><\/div>',i+"<\/div>"}}).mouseover(function(n){n.target.nextSibling.id&&t("[rel=popover]").each(function(){t(this).is(n.target)||t(this).popover("hide")});var i=t(".popover").offset();i.top<30&&t(".popover").offset({top:30})})}function c(n,t){var i=n.indexOf(t);return n.substr(i+1,n.length)}function l(n){var i=n.fileUploader.prop("files")[0],t=f(i.name).toLowerCase();e.uploadtoSpecificFolder(r.ListCollection.SSDocLib,"/"+n.opptyID()+"/"+r.ReleaseVersion,i.name,i).done(function(i){if(i.status!=undefined&&i.status==400)e.errorUpdateSection(i,null,null);else{var s=c(i.d.ServerRelativeUrl,"/"+r.ReleaseVersion+"/"),u="",f=".gif";"jpg;#png;#gif;#doc;#docx;#xls;#xlsx;#ppt;#pptx".indexOf(t)==-1&&("#pdf".indexOf(t)!==-1?f=".png":t="disc");u='<a class="btn" rel="popover" data-file="'+s+'"><img style="width: 16px; height: 16px; border: 0" src="/_layouts/images/ic'+t+f+'" /><\/a>';n.editor.execCommand("mceInsertContent",!1,u);o(n)}})}function a(n){t("#"+n+" .mceToolbar").hide()}function v(){}function y(n){n.opptyID(u.getUrlParameter("OpptyID"));p()}function p(){t(".popover").popover("hide");t(".popover").remove()}function w(n,r){var f,s;v();var e="";return e=n.inLoop?"code | styleselect | numlist outdent indent | table link image sd-attachment":"code | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify  bullist numlist outdent indent | table | link image sd-attachment",s=function(n){var r=this,f=u.newGuid();r.areaID=i.observable();r.inLoop=i.observable(!1);r.guid="sd-question-"+f;r.config={selector:"#sd-question-"+f,theme:"modern",menubar:!1,statusbar:!1,inline:!0,object_resizing:"table",fix_list_elements:!0,convert_urls:!1,end_container_on_empty_block:!0,fixed_toolbar_container:"#"+r.guid+"-container",plugins:["advlist autolink lists link pagebreak table code",],toolbar1:e,image_advtab:!0,file_browser_callback:function(n,i,u){return u=="image"&&t("#sd-img-"+r.guid).click(),!1},setup:function(n){r.editor=n;r.fileUploader=t("#"+r.guid+"-file");n.addButton("sd-attachment",{text:"",icon:"image",tooltip:"Add Attachment",onclick:function(){r.fileUploader.replaceWith(r.fileUploader=r.fileUploader.clone(!0));r.fileUploader.click()}});n.on("focus",function(){o(r)});n.on("init",function(){a(r.guid)});n.on("mouseup",function(n){n.target.nodeName.toLowerCase()=="a"&&n.target.name!="closePop"&&window.open(n.target.href,"_blank")});n.on("mousedown",function(n){if(n.target.nodeName.toLowerCase()=="a"&&n.target.name=="closePop"){n.preventDefault();return}});n.on("blur",function(){t(".popover").popover("hide");t(".popover").remove()});n.on("keydown",function(t,i){if(n.getBody().textContent!=""){var r=n.selection.getRng();r.startOffset===0&&i.keyCode===8&&t.preventDefault()}})}};r.editor={};r.fileUploader={};r.title=i.observable();r.opptyID=i.observable();r.version=i.observable(1);r.popoverInitialized=i.observable(!1);r.content=i.observable();r.hint=i.observable();r.mandatory=i.observable(!1);r.editable=i.observable(!1);r.attachmentSelected=function(){l(r)};r.viewExpand=i.observable(!1);r.editTimes=i.observable(0);r.answerVisible=i.observable(!0);r.isStartEdit=i.computed(function(){return r.editTimes()==0?n.content()==undefined||n.content()==""||n.content()=="<p><\/p>"?!1:!0:r.answerVisible()});r.unfoldAnsw=function(){r.isStartEdit()==!1?r.answerVisible(!0):r.answerVisible(!1);r.editTimes(1)};r.msoverHandler=function(){r.viewExpand(!0)};r.msoutHandler=function(){r.viewExpand(!1)};r.msupHandler=function(){return!r.isStartEdit()||!r.answerVisible()?!0:!1};n!==undefined&&(n.content!=undefined&&n.content!=null&&(r.content=typeof n.content=="function"?n.content:i.observable(n.content)),n.editable!==undefined&&r.editable(n.editable()),n.inLoop!==undefined&&r.inLoop(n.inLoop),n.title!==undefined&&r.title(n.title),n.opptyID!==undefined&&r.opptyID(n.opptyID),n.version!==undefined&&r.version(n.version),n.hint!==undefined&&r.hint(n.hint),n.mandatory!==undefined&&r.mandatory(n.mandatory));r.opptyID(u.getUrlParameter("OpptyID"));t(function(){t("body").on("click",function(n){r.editable()===!0&&t('[rel="popover"]').each(function(){t(this).is(n.target)||t(this).has(n.target).length!==0||t(".btn").has(n.target).length!==0||t(this).popover("hide")});n.target.name=="closePop"&&t(".popover").popover("hide")});t('a[rel="popover"]').mouseenter(function(n){return r.editable()===!1&&b(t(this),t(this).attr("data-file"),r),n.preventDefault(),n.stopPropagation(),!1})})},f=new s(n,r),y(f),f}function b(n,t,i){n.popover({html:!0,trigger:"click",placement:"auto",title:"File Information:"+t,content:function(){var n='<div contenteditable="false">',e="",u;e=f(t).toLocaleLowerCase();u=r.ENV.SDDocLibUrl+i.opptyID()+"/"+t;switch(e){case"jpg":case"png":case"gif":n+='<img src="'+u+'" style="max-width:550px;max-height:550px;" />';n+="<hr>";break;case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":case"pdf":default:n+="<hr>"}return n+="<ul>",n+='<li><a href="'+u+'" title="'+u+'" download>Download a copy<\/a><\/li>',n+="<ul>",n+='<div class="text-right"><a style="cursor:hand;" class="btn btn-default closePop" name="closePop">Close<\/a><\/div>',n+"<\/div>"}})}var t=n("jquery"),i=n("knockout"),k=n("jasnybs"),d=n("ko_tinyMCE"),r=n("model/AppConfig"),u=n("util/AppUtility"),e=n("model/RequestAPI"),g=n("ko_bootstrap"),s=n("text!./QuestionAreaTemplate.html");return{name:["QuestionArea","sd-questionarea"],template:s,viewModel:{createViewModel:w}}});define("component/AllOppty",function(n){"use strict";function s(){i("#table_sorting_paging").dataTable({retrieve:!0,paging:!1,dom:'T<"clear">lfrtip'})}function h(){}function c(n){a(n)}function l(n){h();var i=function(){var n=this;n.urlPrefix=o.ENV.SDContentsUrl+"?OpptyID=";n.opptyList=r.observable()};return t=new i(n),c(t),t}function a(n){var t=n;u.getAllOpptyAsync().done(function(n){t.opptyList(n);s()})}var i=n("jquery"),r=n("knockout"),v=n("jasnybs"),y=n("dataTables"),u=n("model/RequestAPI"),f=n("text!./AllOpptyTemplate.html"),p=n("model/Oppty"),e=n("./TopLinkHome"),o=n("model/AppConfig"),t={};return{name:["AllOppty","sd-alloppty"],template:f,viewModel:{createViewModel:l},subComponents:[e]}});define("component/AppHome",function(n){"use strict";function e(n){this.opptyId="";this.clientName="";this.opptyName="";this.displayName="";n!==undefined&&(this.opptyId=n.opptyId,this.opptyName=n.opptyName,this.clientName=n.clientName,this.displayName=n.opptyId+" "+n.clientName+" "+n.opptyName)}function o(){}function s(){o();var n=function(){var n=this;n.myValue=t.observable();n.opptyCollection=t.observableArray();r.getAllOpptyAsync().done(function(t){for(var i in t)n.opptyCollection.push(new e(t[i]))},n);n.redirect2SdContent=function(){n.myValue().opptyId!=undefined?window.location.href=i.ENV.SDContentsUrl+"?OpptyID="+n.myValue().opptyId:alert("Opportunity not found!")}};return new n}var h=n("jquery"),t=n("knockout"),c=n("util/AppUtility"),l=n("model/Oppty"),i=n("model/AppConfig"),r=n("model/RequestAPI"),a=n("ko_autocomplete"),u=n("text!./AppHomeTemplate.html"),f=n("./TopLinkHome");return{name:"AppHome",template:u,viewModel:{createViewModel:s},subComponents:[f]}});define("component/MyOppty",function(n){"use strict";function o(){t("#table_sorting_paging").dataTable({retrieve:!0,paging:!1,dom:'T<"clear">lfrtip'})}function s(){}function h(n){l(n)}function c(n){s();var t,r=function(){var n=this;n.urlPrefix=e.ENV.SDContentsUrl+"?OpptyID=";n.opptyList=i.observable()};return t=new r(n),h(t),t}function l(n){var t=n;r.getMyOpptyAsyc().done(function(n){t.opptyList(n);o()})}var t=n("jquery"),i=n("knockout"),a=n("jasnybs"),v=n("dataTables"),r=n("model/RequestAPI"),u=n("text!./MyOpptyTemplate.html"),f=n("./TopLinkHome"),e=n("model/AppConfig"),y=n("model/Oppty");return{name:["MyOppty","sd-myoppty"],template:u,viewModel:{createViewModel:c},subComponents:[f]}});define("component/SDInputText",function(n){"use strict";function u(){}function f(n,r){u();var f=function(n){var i=this;i.content=n.content;i.type=t.observable("text");i.minVal=t.observable(0);i.editable=t.observable(!0);i.hint=t.observable();n!=undefined&&n!=null&&(n.type!=undefined&&i.type(n.type),n.minVal!=undefined&&i.minVal(n.minVal),n.editable()!=undefined&&i.editable(n.editable()),n.hint!==undefined&&i.hint(n.hint))};return i=new f(n,r)}var e=n("jquery"),t=n("knockout"),o=n("jasnybs"),r=n("text!./SDInputTextTemplate.html"),i={};return{name:["SDInputText","sd-inputtext"],template:r,viewModel:{createViewModel:f}}});define("component/SDErrorPage",function(n){"use strict";function i(){}function r(){i();return function(){var n=this}}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./SDErrorPageTemplate.html");return{name:["SDErrorPage","sd-errorpage"],template:t,viewModel:{createViewModel:r}}});define("component/CountrySelector",function(n){"use strict";function t(n,t){return{key:n,value:t}}function f(n,t){return{label:n,mapList:t}}function h(){}function c(){var t=[],r,n;for(r in i.data())for(n in u)i.data()[r]===u[n].key&&t.push(u[n].value);i.selectedcountries(t)}function l(n,t){h();var u=function(n){var t=this;t.guid="sd-cntry-"+e.newGuid();t.title=r.observable();t.data=n.data;t.editable=r.observable(!0);t.selectedcountries=r.observable();n!==undefined&&(n.editable!=undefined&&(i.editable=n.editable()),n.title!==undefined&&(i.title=n.title))};return i=new u(n,t),c(i),i}var a=n("jquery"),r=n("knockout"),v=n("jasnybs"),y=n("select2"),e=n("util/AppUtility"),o=n("text!./CountrySelectorTemplate.html"),i={},u,s;return r.bindingHandlers.option={update:function(n,t){var i=r.utils.unwrapObservable(t());r.selectExtensions.writeValue(n,i)}},u=[new t("AR","Argentina"),new t("BR","Brazil"),new t("CA","Canada"),new t("CL","Chile"),new t("CO","Colombia"),new t("CR","Costa Rica"),new t("MX","Mexico"),new t("OtherAMS","Other AMS"),new t("PA","Panama"),new t("PE","Peru"),new t("US","United States"),new t("AU","Australia"),new t("CN","China"),new t("HK","Hong Kong"),new t("IN","India"),new t("ID","Indonesia"),new t("JP","Japan"),new t("KR","Korea"),new t("MY","Malaysia"),new t("NZ","New Zealand"),new t("OtherAPJ","Other APJ"),new t("PH","Philippines"),new t("SG","Singapore"),new t("TW","Taiwan"),new t("TH","Thailand"),new t("VN","Vietnam"),new t("AT","Austria"),new t("BE","Belgium"),new t("BG","Bulgaria"),new t("CZ","Czech Republic"),new t("DK","Denmark"),new t("EG","Egypt"),new t("FI","Finland"),new t("FR","France"),new t("DE","Germany"),new t("GR","Greece"),new t("HU","Hungary"),new t("IE","Ireland"),new t("IL","Israel"),new t("IT","Italy"),new t("LU","Luxembourg"),new t("NL","Netherlands"),new t("NO","Norway"),new t("OtherEMEA","Other EMEA"),new t("PL","Poland"),new t("PT","Portugal"),new t("RO","Romania"),new t("RU","Russia"),new t("SA","Saudi Arabia"),new t("ZA","South Africa"),new t("ES","Spain"),new t("SE","Sweden"),new t("CH","Switzerland"),new t("TR","Turkey"),new t("AE","UAE"),new t("GB","United Kingdom")],s=[new f("AMS",[new t("AR","Argentina"),new t("BR","Brazil"),new t("CA","Canada"),new t("CL","Chile"),new t("CO","Colombia"),new t("CR","Costa Rica"),new t("MX","Mexico"),new t("OtherAMS","Other AMS"),new t("PA","Panama"),new t("PE","Peru"),new t("US","United States")]),new f("APJ",[new t("AU","Australia"),new t("CN","China"),new t("HK","Hong Kong"),new t("IN","India"),new t("ID","Indonesia"),new t("JP","Japan"),new t("KR","Korea"),new t("MY","Malaysia"),new t("NZ","New Zealand"),new t("OtherAPJ","Other APJ"),new t("PH","Philippines"),new t("SG","Singapore"),new t("TW","Taiwan"),new t("TH","Thailand"),new t("VN","Vietnam")]),new f("EMEA",[new t("AT","Austria"),new t("BE","Belgium"),new t("BG","Bulgaria"),new t("CZ","Czech Republic"),new t("DK","Denmark"),new t("EG","Egypt"),new t("FI","Finland"),new t("FR","France"),new t("DE","Germany"),new t("GR","Greece"),new t("HU","Hungary"),new t("IE","Ireland"),new t("IL","Israel"),new t("IT","Italy"),new t("LU","Luxembourg"),new t("NL","Netherlands"),new t("NO","Norway"),new t("OtherEMEA","Other EMEA"),new t("PL","Poland"),new t("PT","Portugal"),new t("RO","Romania"),new t("RU","Russia"),new t("SA","Saudi Arabia"),new t("ZA","South Africa"),new t("ES","Spain"),new t("SE","Sweden"),new t("CH","Switzerland"),new t("TR","Turkey"),new t("AE","UAE"),new t("GB","United Kingdom")])],{name:["CountrySelector","sd-countryselector"],template:o,viewModel:{createViewModel:l}}});define("component/ReviewAndExtract",function(n){"use strict";function vt(){f.addSDLinkAfterAppHome()}function yt(){u(".navmenu").offcanvas({autohide:!1,recalc:!1,toggle:!1,canvas:"#sd-section-detail"})}function pt(){}function wt(n){n.opptyID(f.getUrlParameter("OpptyID"));n.opptyID()===""?i.errorOppty("400"):i.getOpptyByIDSync(n.opptyID()).done(function(t){if(t.status!=undefined&&t.status>=400)i.errorOppty(""+t.status);else if(t.data!=undefined&&t.data!=null){n.document(t.data);var r=t.data.opptyOverview.opptyData.data;n.pursuitClassfication(r.pursuitClassfication);r.involvedGbu!=null&&r.involvedGbu.apps!=null&&(n.involvedGbu("apps"),n.appsInscope(r.involvedGbu.apps.inScope));n.sectionNavigator(i.createSectionModel(n.pursuitClassfication(),n.involvedGbu(),n.appsInscope()))}})}function bt(n,f){vt();yt();var o=function(){var n=this;n.document=t.observable();n.editable=t.observable(!1);n.opptyID=t.observable();n.sdContentUrl=e.ENV.SDContentsUrl;n.pursuitClassfication=t.observable();n.sectionNavigator=t.observable();n.involvedGbu=t.observable();n.appsInscope=t.observable();wt(n);n.toggleLeftMenu=function(){};u("#sd-section-navbtn").click(function(n){i.FixWorkspace();n.preventDefault()});u("a").on("click",function(){var n=u(this).attr("href");i.FixWorkspace()})};return r=new o(n,f),pt(r),r}var u=n("jquery"),t=n("knockout"),kt=n("jasnybs"),dt=n("./TopLinkHome"),e=n("model/AppConfig"),i=n("model/RequestAPI"),o=n("text!./ReviewAndExtractTemplate.html"),s=n("./Section0201"),h=n("./Section0202"),c=n("./Section0301"),l=n("./Section030201"),a=n("./Section030202"),v=n("./Section030203"),y=n("./Section030204"),p=n("./Section040101"),w=n("./Section040102"),b=n("./Section0402"),k=n("./Section040301"),d=n("./Section040302"),g=n("./Section040303"),nt=n("./Section040304"),tt=n("./Section040305"),it=n("./Section040306"),rt=n("./Section040307"),ut=n("./Section0404"),ft=n("./Section040501"),et=n("./Section040502"),ot=n("./Section040503"),st=n("./Section040504"),ht=n("./Section040505"),ct=n("./Section040506"),lt=n("./Section0406"),at=n("./Section0407"),f=n("util/AppUtility"),r={};return{name:["ReviewAndExtract","sd-review-extract"],template:o,viewModel:{createViewModel:bt},subComponents:[s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at]}});define("component/AttachmentManager",function(n){"use strict";function a(){i(window).off("sectionChanging");i(window).on("opptySaving",function(){i(document).undelegate("[id^=sd-file-]","click");t.attachmentVisible&&u()})}function f(n,t,i,r,u){this.title=n;this.link=t;this.fileName=i;this.fileUrl=r;this.fileTag=u}function v(){a();i(function(n){n(window).bind("mousewheel",function(){t.attachmentVisible&&u()})})}function e(){i(".popover-option").popover("show");t.attachmentVisible=!0}function u(){i(".popover-option").popover("hide");t.attachmentVisible=!1}function y(){function s(){i(".popover-option").popover({html:!0,content:function(){return i("#div-attachmentReview").html()}})}var h,n,r;if(i(s()),h=/^sd-file-.*/,i(".popover-option").off("click"),i(".popover-option").click(function(n){i(".popover-option").popover("toggle");n.stopPropagation();t.attachmentVisible?u():e()}),i(document).delegate("[id^=sd-file-]","click",function(n){n.stopPropagation();var r=i(this).attr("id"),u=r.substring(8);t.removeFile(u);e();return}),i(document).delegate("#sd-popover-close","click",function(n){n.stopPropagation();i(".popover-option").popover("toggle");u()}),!t.editable())for(n in t.attachment())r=o(t.attachment()[n].title),t.fileList.push(new f(t.attachment()[n].title,t.linkBaseUrl+t.attachment()[n].title,t.attachment()[n].title,t.attachmentBaseUrl()+t.attachment()[n].title,r))}function p(){var n,i;if(!t.attachmentLoaded){for(n in t.attachment())i=o(t.attachment()[n].title),t.fileList.push(new f(t.attachment()[n].title,t.linkBaseUrl+t.attachment()[n].title,t.attachment()[n].title,t.attachmentBaseUrl()+t.attachment()[n].title,i));t.attachmentLoaded=!0}}function w(n){var t=this;t.guid="sd-clientArchitecture-"+l.newGuid();t.baseUrl="/"+n.section.opptyID+"/";t.attachmentSelected=function(){k(t)};t.chooseFile=function(){i("#"+t.guid+"-file").click()}}function b(n){var t;return t=n.lastIndexOf("."),t>=0?n.substr(t+1):""}function o(n){var t=b(n).toLowerCase(),i=".gif";return"jpg;#png;#gif;#doc;#docx;#xls;#xlsx;#ppt;#pptx".indexOf(t)==-1&&("#pdf".indexOf(t)!==-1?i=".png":t="disc"),"/_layouts/images/ic"+t+i}function k(n){var u=i("#"+n.guid+"-file").prop("files")[0];c.uploadtoSpecificFolder(r.ListCollection.SSDocLib,n.baseUrl+r.ReleaseVersion,u.name,u).done(function(n){var i=n.d.ServerRelativeUrl,s=o(u.name);t.attachment.push({title:u.name,link:r.ReleaseVersion+"/"+u.name});t.fileList.push(new f(u.name,r.ReleaseVersion+"/"+u.name,u.name,i,s));e()})}function d(n){v();var i=function(n){var t=this;t.linkBaseUrl="/"+n.viewModel.section.opptyID+"/";t.attachmentBaseUrl=s.observable(r.ENV.SDDocLibUrl+n.viewModel.section.opptyID+"/"+r.ReleaseVersion+"/");t.attachment=n.viewModel.section.data.attachment;t.editable=n.viewModel.editable;t.attachment.subscribe(p);t.fileList=s.observableArray();t.fileUploader=new w(n.viewModel);t.attachmentLoaded=!1;t.attachmentVisible=!1;t.removeFile=function(n){var r=t.attachment(),i;r.splice(n,1);t.attachment(r);i=t.fileList();i.splice(n,1);t.fileList(i)}};return t=new i(n),y(),t}var i=n("jquery"),s=n("knockout"),g=n("jasnybs"),h=n("text!./AttachmentManagerTemplate.html"),c=n("model/RequestAPI"),r=n("model/AppConfig"),l=n("util/AppUtility"),t={};return{name:["AttachmentManager","sd-component-attachmentmanager"],template:h,viewModel:{createViewModel:d}}});define("component/DollarFormatter",function(n){"use strict";function u(n){var i=function(n){var i=this;i.dollarValue=n.dollarValue;i.formattedDollar=t.observable("$0");i.getFormattedDollar=function(n){for(var f=n.toString(),t="",e=f.length,r=0,u=e-1;u>=0;--u)r=r+1,t=f.charAt(u)+t,r%3==0&&r<e&&(t=","+t);t="$"+t;i.formattedDollar(t)};i.dollarValue.subscribe(i.getFormattedDollar)};return new i(n)}var f=n("jquery"),t=n("knockout"),e=n("jasnybs"),i=n("text!./DollarFormatterTemplate.html"),r={};return{name:["DollarFormatter","sd-component-dollarformatter"],template:i,viewModel:{createViewModel:u}}});define("component/Section0201",function(n){"use strict";function i(n,t){return{key:n,value:t}}function c(n,t){return{label:n,mapList:t}}function tt(){f(window).off("opptySaving");f(window).on("opptySaving",ft)}function it(){tt();h();f(document).ready(function(){})}function h(){f(".inputUSD").NumBox({symbol:"$",max:Math.pow(10,20),min:0,places:0})}function rt(){t.section.opptyID=u.opptyID();t.section.opptyID===""?t.isNewOppty(!0):et(t.section.opptyID)}function l(n){n=n.toLowerCase();switch(n){case"ams":t.data.region.ams().inScope(!0);break;case"apj":t.data.region.apj().inScope(!0);break;case"emea":t.data.region.emea().inScope(!0);break;case"na":t.data.region.ams().inScope(!1);t.data.region.apj().inScope(!1);t.data.region.emea().inScope(!1)}n=="na"?(t.data.leadRegion("NA"),u.document()!==null&&u.document()!==undefined&&(u.document().opptyOverview.opptyData.data.leadRegion="NA")):(t.data.leadRegion(n),u.document()!==null&&u.document()!==undefined&&(u.document().opptyOverview.opptyData.data.leadRegion=n))}function ut(n){if(typeof n=="string"){var t=f('[id="sd-leadCntry"] option[value="'+n+'"]').parent().attr("label");n!="NA"&&t!==undefined&&t!==null&&l(t);n=="NA"&&l("NA")}}function s(n,i){switch(i){case"apps":n||(t.data.involvedGbu.apps().tcv(0),t.data.involvedGbu.apps().fyr(0));break;case"bps":n||(t.data.involvedGbu.bps().tcv(0),t.data.involvedGbu.bps().fyr(0));break;case"ito":n||(t.data.involvedGbu.ito().tcv(0),t.data.involvedGbu.ito().fyr(0));break;case"ess":n||(t.data.involvedGbu.ess().tcv(0),t.data.involvedGbu.ess().fyr(0));break;case"hpeOther":n||(t.data.involvedGbu.hpeOther().tcv(0),t.data.involvedGbu.hpeOther().fyr(0));break;case"hpi":n||(t.data.involvedGbu.hpi().tcv(0),t.data.involvedGbu.hpi().fyr(0))}}function a(n,i){t.isNewOppty()||(u.document().opptyOverview.opptyData.data.region[i].inScope=n)}function ft(n,i){if(at()===!0&&y(t.data.opptyID())===!0&&yt()===!0&&vt()===!0){f(window).triggerHandler("submitableChanged",!0);var o=i.sid();if(o!=="0201")return;t.isNewOppty()?e.createOpptyDocument(r.toJS(t.data)).done(function(n){e.errorUpdateSection(n,o,t.section.opptyID);n!=undefined&&n.status==undefined&&(o="0202",window.location.href=k.ENV.SectionLoaderUrl+"?sid="+o+"&OpptyID="+t.data.opptyID())}):(t.data.pursuitWeb.link(t.data.pursuitWeb.link()),e.updateSection(t.section.opptyID,t.section.name,r.toJS(t.data),t.section.eTag).done(function(n,i,r){r!=undefined&&(t.section.eTag=r.getResponseHeader("ETag"));e.errorUpdateSection(n,o,t.section.opptyID);u.oppty.OpptyName(t.data.opptyName());u.oppty.ClientName(t.data.clientName())}))}else f(window).triggerHandler("submitableChanged",!1)}function et(n){e.getSectionByIDAndSectionNameAsync(n,t.section.name).done(function(i,r){if(i.data===undefined)t.data.opptyID(n);else{t.section.eTag=r.getResponseHeader("ETag");var u=i.data.opptyOverview.opptyData.data;t.data.opptyID(u.opptyId);t.data.opptyName(u.opptyName);t.data.salesStage(u.salesStage);t.data.opptyType(u.opptyType);t.data.dealStatus(u.dealStatus);t.data.clientName(u.clientName);t.data.opptyTcv(u.opptyTcv);t.data.opptyFyr(u.opptyFyr);t.data.leadBizUnit(u.leadBizUnit);t.data.contractTerm(u.contractTerm);t.data.leadCntry(u.leadCntry);t.salesStageName(f("#sd-SalesStage option[value='"+u.salesStage+"']").attr("label"));t.leadCntryName(f("#sd-Cntry option[value='"+u.leadCntry+"']").attr("label"));t.data.clientCntry(u.clientCntry);t.clientCntryName(f("#sd-Cntry option[value='"+u.clientCntry+"']").attr("label"));t.data.involvedGbu.apps().inScope(u.involvedGbu.apps.inScope);t.data.involvedGbu.bps().inScope(u.involvedGbu.bps.inScope);t.data.involvedGbu.ito().inScope(u.involvedGbu.ito.inScope);t.data.involvedGbu.hpeOther().inScope(u.involvedGbu.hpeOther.inScope);t.data.involvedGbu.ess().inScope(u.involvedGbu.ess.inScope);t.data.involvedGbu.hpi().inScope(u.involvedGbu.hpi.inScope);t.data.involvedGbu.apps().tcv(u.involvedGbu.apps.tcv);t.data.involvedGbu.bps().tcv(u.involvedGbu.bps.tcv);t.data.involvedGbu.ito().tcv(u.involvedGbu.ito.tcv);t.data.involvedGbu.hpeOther().tcv(u.involvedGbu.hpeOther.tcv);t.data.involvedGbu.ess().tcv(u.involvedGbu.ess.tcv);t.data.involvedGbu.hpi().tcv(u.involvedGbu.hpi.tcv);t.data.involvedGbu.apps().fyr(u.involvedGbu.apps.fyr);t.data.involvedGbu.bps().fyr(u.involvedGbu.bps.fyr);t.data.involvedGbu.ito().fyr(u.involvedGbu.ito.fyr);t.data.involvedGbu.hpeOther().fyr(u.involvedGbu.hpeOther.fyr);t.data.involvedGbu.ess().fyr(u.involvedGbu.ess.fyr);t.data.involvedGbu.hpi().fyr(u.involvedGbu.hpi.fyr);t.data.clientCntry(u.clientCntry);u.contractSignDate!=null&&t.data.contractSignDate(u.contractSignDate);u.contractStartDate!=null&&t.data.contractStartDate(u.contractStartDate);t.data.pursuitClassfication(u.pursuitClassfication);t.data.solnGovTrack(u.solnGovTrack);t.data.region.ams().inScope(u.region.ams.inScope);t.data.region.apj().inScope(u.region.apj.inScope);t.data.region.emea().inScope(u.region.emea.inScope);t.data.pursuitWeb.title(u.pursuitWeb.title);t.data.pursuitWeb.link(u.pursuitWeb.link);h()}}).then(function(){})}function ot(n){n!==undefined&&n!==""&&e.getOpptyByIDAsync(n).done(function(i){i.status=="404"?(t.existedInSystem(!1),t.isNewOppty(!0),d.getOpptyOverviewAsync(n).done(function(n){var i,r,u,e,o,s,c,l;n==undefined?t.existedInSalesForce(!1):(t.existedInSalesForce(!0),t.data.opptyID(n.opptyID),t.data.opptyName(n.opptyName),t.data.salesStage(n.salesStage.substr(0,2)),t.data.opptyType(n.opptyType),t.data.dealStatus(n.dealStatus),t.data.clientName(n.clientName),i=n.opptyTcv.replace("$",""),i!=""&&t.data.opptyTcv(Math.floor(parseFloat(i.split(",").join("")))),r=n.opptyFyr.replace("$",""),r!=""&&t.data.opptyFyr(Math.floor(parseFloat(r.split(",").join("")))),t.data.contractTerm(n.contractTerm),t.data.contractSignDate(b.transformIOSDateToen(n.contractSignDate)),f("#sd-leadCntry option[label='"+n.leadCntry+"']").attr("selected",!0),t.data.leadCntry(f("#sd-leadCntry option[label='"+n.leadCntry+"']").attr("value")),f("#sd-clientCntry option[label='"+n.clientCntry+"']").attr("selected",!0),t.data.clientCntry(f("#sd-clientCntry option[label='"+n.clientCntry+"']").attr("value")),t.data.leadRegion(n.region),u=n.apps.replace("$",""),u!==""&&(e=Math.floor(parseFloat(u.split(",").join(""))),e>0&&(t.data.involvedGbu.apps().inScope(!0),t.data.involvedGbu.apps().tcv(e))),o=n.bps.replace("$",""),o!==""&&(s=Math.floor(parseFloat(o.split(",").join(""))),s>0&&(t.data.involvedGbu.bps().inScope(!0),t.data.involvedGbu.bps().tcv(s))),c=n.ito.replace("$",""),c!==""&&(l=Math.floor(parseFloat(c.split(",").join(""))),l>0&&(t.data.involvedGbu.ito().inScope(!0),t.data.involvedGbu.ito().tcv(l))),h())})):t.isNewOppty()&&t.existedInSystem(!0)})}function st(){var n={opptyID:r.observable(),opptyName:r.observable(),salesStage:r.observable(),opptyType:r.observable(),dealStatus:r.observable(),clientName:r.observable(),opptyTcv:r.observable(0),opptyFyr:r.observable(0),leadBizUnit:r.observable("ito"),involvedGbu:{apps:r.observable({inScope:r.observable(!1),tcv:r.observable(0),fyr:r.observable(0)}),bps:r.observable({inScope:r.observable(!1),tcv:r.observable(0),fyr:r.observable(0)}),ess:r.observable({inScope:r.observable(!1),tcv:r.observable(0),fyr:r.observable(0)}),ito:r.observable({inScope:r.observable(!1),tcv:r.observable(0),fyr:r.observable(0)}),hpeOther:r.observable({inScope:r.observable(!1),tcv:r.observable(0),fyr:r.observable(0)}),hpi:r.observable({inScope:r.observable(!1),tcv:r.observable(0),fyr:r.observable(0)})},contractTerm:r.observable(0),contractSignDate:r.observable(),contractStartDate:r.observable(),pursuitClassfication:r.observable(),solnGovTrack:r.observable(),leadCntry:r.observable(),leadRegion:r.observable(),region:{ams:r.observable({inScope:r.observable(!1)}),apj:r.observable({inScope:r.observable(!1)}),emea:r.observable({inScope:r.observable(!1)})},clientCntry:r.observable(),pursuitWeb:{title:r.observable(""),link:r.observable("")}};return n.leadCntry.subscribe(ut),n.leadRegion.subscribe(l),n.pursuitClassfication.subscribe(function(n){n!=""&&(u.pursuitClassfication(n),u.sectionNavigator(e.createSectionModel(n,u.involvedGbu(),u.appsInscope())))}),n.involvedGbu.apps().inScope.subscribe(function(n){s(n,"apps");u.involvedGbu("apps");u.appsInscope(n);u.sectionNavigator(e.createSectionModel(u.pursuitClassfication(),"apps",n))}),n.involvedGbu.bps().inScope.subscribe(function(n){s(n,"bps")}),n.involvedGbu.ito().inScope.subscribe(function(n){s(n,"ito")}),n.involvedGbu.ess().inScope.subscribe(function(n){s(n,"ess")}),n.involvedGbu.hpeOther().inScope.subscribe(function(n){s(n,"hpeOther")}),n.involvedGbu.hpi().inScope.subscribe(function(n){s(n,"hpi")}),n.region.apj().inScope.subscribe(function(n){a(n,"apj")}),n.region.ams().inScope.subscribe(function(n){a(n,"ams")}),n.region.emea().inScope.subscribe(function(n){a(n,"emea")}),n}function ht(){t.data.opptyName("");t.data.salesStage("");t.data.opptyType("");t.data.dealStatus("");t.data.clientName("");t.data.opptyTcv(0);t.data.opptyFyr(0);t.data.leadBizUnit("ito");t.data.involvedGbu.apps().tcv(0);t.data.involvedGbu.apps().fyr(0);t.data.involvedGbu.apps().inScope(!1);t.data.involvedGbu.bps().tcv(0);t.data.involvedGbu.bps().fyr(0);t.data.involvedGbu.bps().inScope(!1);t.data.involvedGbu.ito().tcv(0);t.data.involvedGbu.ito().fyr(0);t.data.involvedGbu.ito().inScope(!1);t.data.involvedGbu.ess().tcv(0);t.data.involvedGbu.ess().fyr(0);t.data.involvedGbu.ess().inScope(!1);t.data.involvedGbu.hpeOther().tcv(0);t.data.involvedGbu.hpeOther().fyr(0);t.data.involvedGbu.hpeOther().inScope(!1);t.data.involvedGbu.hpi().tcv(0);t.data.involvedGbu.hpi().fyr(0);t.data.involvedGbu.hpi().inScope(!1);t.data.contractTerm(0);t.data.contractSignDate("");t.data.contractStartDate("");t.data.pursuitClassfication("");t.data.solnGovTrack("");t.data.leadCntry("NA");t.data.region.ams().inScope(!1);t.data.region.apj().inScope(!1);t.data.region.emea().inScope(!1);t.data.leadRegion("NA");t.data.clientCntry("NA");t.data.pursuitWeb.title("");t.data.pursuitWeb.link("");h()}function ct(n){u=n.viewModel;it();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"opportunity-data"};n.isNewOppty=r.observable(!1);n.existedInSystem=r.observable(!1);n.existedInSalesForce=r.observable(!0);n.contractSignDateString="";n.data=new st;n.editable=r.observable(!0);n.inputOpptyId=r.observable();n.inputOpptyId.subscribe(v);n.leadCntryName=r.observable();n.clientCntryName=r.observable();n.salesStageName=r.observable();n.salesStageAvailable=o.salesStage;n.opptyTypeAvailable=o.opptyType;n.dealStatusAvailable=o.dealStatus;n.leadBizUnitAvailable=o.leadBizUnit;n.pursuitClassficationAvailable=o.pursuitClassfication;n.solnGovTrackAvailable=o.solnGovTrack;n.countriesAvailable=o.countries;n.sectorAvailable=o.sector;n.validId=r.observable();n.loadGrip=function(){v()}};return t=new i(n),t.section.opptyID=u.opptyID(),t.editable(u.editable()),rt(),t}function lt(){var i,n;t.data.opptyTcv()===""&&t.data.opptyTcv(0);t.data.opptyFyr()===""&&t.data.opptyFyr(0);i=r.toJS(t.data.involvedGbu);for(n in i)i[n].tcv===""&&t.data.involvedGbu[n]().tcv(0),i[n].fyr===""&&t.data.involvedGbu[n]().fyr(0)}function v(n){ht();n!=""&&y(n)?(t.validId(!0),ot(n)):t.validId(!1)}function y(n){var t=/^OP[PE]-\d{10}$/,i=t.test(n);return t.test(n)?!0:(alert("Please check the opportunity format"),!1)}function at(){return t.isNewOppty()&&t.data.opptyID(t.inputOpptyId()),t.data.opptyID()!==""&&t.data.salesStage()!==""&&t.data.clientName()!==""&&t.data.opptyType()!==""&&t.data.pursuitClassfication()!=="NA"&&(t.data.region.ams().inScope()||t.data.region.apj().inScope()||t.data.region.emea().inScope())?!0:(alert("Please check the required fields"),!1)}function vt(){var n,i,u;lt();n=!0;i=r.toJS(t.data.involvedGbu);parseInt(t.data.opptyTcv())<parseInt(t.data.opptyFyr())&&(n=!1);for(u in i)if(parseInt(i[u].tcv)<parseInt(i[u].fyr)){n=!1;break}return n||alert("Please ensure that TCV is larger than FYR !"),h(),n}function yt(){if(t.data.contractSignDate()!==""&&t.data.contractStartDate()!==""&&t.data.contractSignDate()!==undefined&&t.data.contractStartDate()!==undefined){var n=new Date(t.data.contractSignDate()).format("MMM d yyyy"),i=new Date(t.data.contractStartDate()).format("MMM d yyyy");return Date.parse(n)<Date.parse(i)||Date.parse(n)===Date.parse(i)?!0:(alert("Contract sign date must be before or equal to contract start date !"),!1)}return t.data.contractStartDate()===""||t.data.contractStartDate()===undefined?!0:(alert("Contract sign date must be before or equal to contract start date !"),!1)}var f=n("jquery"),r=n("knockout"),pt=n("jasnybs"),p=n("./DateTimePicker"),w=n("text!./Section0201Template.html"),b=n("util/AppUtility"),k=n("model/AppConfig"),d=n("model/Oppty"),g=n("./SDInputText"),wt=n("numBox"),e=n("model/RequestAPI"),nt=n("./DollarFormatter"),t={},u={},o={salesStage:[new i("01","01 - Understand the Client"),new i("02","02 - Validate Opportunity"),new i("03","03 - Qualify Opportunity"),new i("04","04 - Develop & Propose Solution"),new i("05","05 - Negotiate & Close"),new i("06","06 - Won & Deploy")],opptyType:[new i("New Business","New Business"),new i("UpSell","UpSell"),new i("Renewal","Renewal"),new c("Other",[new i("Add-On","Add-On"),new i("CrossSell / UpSell","CrossSell / UpSell"),new i("Defend","Defend"),new i("Indefinite Delivery/Quantity","Indefinite Delivery/Quantity"),new i("N/A","N/A"),new i("Parent","Parent"),new i("Project","Project"),new i("Renegotiation","Renegotiation"),new i("Resell","Resell"),new i("Run Rate","Run Rate"),new i("Scope Change","Scope Change"),new i("Term Contract","Term Contract"),new i("Upsell","Upsell"),new i("VolumeGrowth","VolumeGrowth"),new i("WinBack","WinBack")])],dealStatus:[new i("Open","Open"),new i("Won","Won"),new i("Lost","Lost"),new i("Lost","Lost"),new i("No Opportunity","No Opportunity"),new i("Not Awarded","Not Awarded"),new i("HPE Cancelled","HPE Cancelled")],leadBizUnit:[new i("apps","APPS"),new i("bps","BPS"),new i("ess","Enterprise Security Practice"),new i("ito","ITO"),new i("hpeOther","Other HPE"),new i("hpi","HP Inc.")],pursuitClassfication:[new i("A","A"),new i("B","B"),new i("C","C"),new i("D","D")],solnGovTrack:[new i("Focused","Focused"),new i("Fast","Fast"),new i("Account","Account"),new i("Not Applicable","Not Applicable")],countries:[new c("AMS",[new i("AR","Argentina"),new i("BR","Brazil"),new i("CA","Canada"),new i("CL","Chile"),new i("CO","Colombia"),new i("CR","Costa Rica"),new i("MX","Mexico"),new i("OtherAMS","Other AMS"),new i("PA","Panama"),new i("PE","Peru"),new i("US","United States")]),new c("APJ",[new i("AU","Australia"),new i("CN","China"),new i("HK","Hong Kong"),new i("IN","India"),new i("ID","Indonesia"),new i("JP","Japan"),new i("KR","Korea"),new i("MY","Malaysia"),new i("NZ","New Zealand"),new i("OtherAPJ","Other APJ"),new i("PH","Philippines"),new i("SG","Singapore"),new i("TW","Taiwan"),new i("TH","Thailand"),new i("VN","Vietnam"),]),new c("EMEA",[new i("AT","Austria"),new i("BE","Belgium"),new i("BG","Bulgaria"),new i("CZ","Czech Republic"),new i("DK","Denmark"),new i("EG","Egypt"),new i("FI","Finland"),new i("FR","France"),new i("DE","Germany"),new i("GR","Greece"),new i("HU","Hungary"),new i("IE","Ireland"),new i("IL","Israel"),new i("IT","Italy"),new i("LU","Luxembourg"),new i("NL","Netherlands"),new i("NO","Norway"),new i("OtherEMEA","Other EMEA"),new i("PL","Poland"),new i("PT","Portugal"),new i("RO","Romania"),new i("RU","Russia"),new i("SA","Saudi Arabia"),new i("ZA","South Africa"),new i("ES","Spain"),new i("SE","Sweden"),new i("CH","Switzerland"),new i("TR","Turkey"),new i("AE","UAE"),new i("GB","United Kingdom"),])],sector:[new i("Commercial Non Binding","Commercial Non Binding"),new i("Commercial Binding","Commercial Binding"),new i("Public Sector","Public Sector")]};return{name:["Section0201","sd-section-0201"],template:w,viewModel:{createViewModel:ct},subComponents:[p,g,nt]}});define("component/Section0202",function(n){"use strict";function a(){r(".popover-options a").popover({html:!0});r(".popover-show").popover("hide")}function o(n){this.title=n.title;this.name=n.name;this.email=n.email;this.sipAddress=n.sipAddress;this.type=n.type}function v(n,t){this.data=n;this.isEmpty=t}function y(){r(window).off("opptySaving");r(window).on("opptySaving",b)}function a(){y()}function p(){if(i.section.opptyID=f.opptyID(),i.editable())w();else{var n=f.document(),t=n.opptyOverview;t!=null&&t.contact!=null&&s(n)}}function u(n,t){this.name=n;this.title=t}function w(){i.section.opptyID===""||e.getSectionByIDAndSectionNameAsync(i.section.opptyID,i.section.name).done(function(n,t){if(n.status!=undefined&&n.status==404)e.errorOppty("404");else{var r=n.data.opptyOverview;r!=null&&r.contact!=null?(i.section.eTag=t.getResponseHeader("ETag"),s(n.data)):(i.pageInited(!0),h())}})}function s(n){var e,f,u,t,r;h();e=n.opptyOverview.contact.data;f=e.coreTeam;for(t in f)for(r in f[t])f[t][r]!=null&&i.data.coreTeam[t][r](f[t][r]);u=e.extendTeam;for(t in u)for(r in u[t])r=="dueDiligenceLead"?u[t][r]!=null&&i.data.extendTeam[t][r](u[t][r]):u[t][r]!=null&&i.data.extendTeam[t][r](u[t][r]);i.pageInited(!0)}function h(){var r=f.document().opptyOverview.opptyData.data,e=r.region,t=1,n;if(r.leadRegion!=="NA"){i.leadRegion(new u(r.leadRegion,r.leadRegion.toUpperCase()));for(n in e)n!=i.leadRegion().name&&n!=i.leadRegion().name&&e[n].inScope&&(t=t+1,t==2&&i.secondRegion(new u(n,n.toUpperCase())),t==3&&i.thirdRegion(new u(n,n.toUpperCase())))}else for(n in e)e[n].inScope&&(t=t+1,t==2&&i.leadRegion(new u(n,n.toUpperCase())),t==3&&i.secondRegion(new u(n,n.toUpperCase())),t==4&&i.thirdRegion(new u(n,n.toUpperCase())))}function b(n,t){var f=t.sid(),u;if(f==="0202"){if(!i.pageInited()){console.log("page has not been inited !");return}u=function(){if(r(".sp-peoplepicker-waitImg:visible").length>0)setTimeout(u,500);else{var n=k();n.isEmpty?(r(window).triggerHandler("submitableChanged",!1),alert("Fill in one contact at least!")):(r(window).trigger("submitableChanged",{submitFlag:!0,obj:n.data}),e.updateSection(i.section.opptyID,i.section.name,n.data,i.section.eTag).done(function(n,t,r){r!=undefined&&(i.section.eTag=r.getResponseHeader("ETag"));e.errorUpdateSection(n,f,i.section.opptyID)}))}};setTimeout(u,500)}}function k(){var s=!0,u=t.toJS(i.data),e=u.coreTeam,f,n,r,h;for(n in e)for(r in e[n])e[n][r]!=undefined&&e[n][r].length!=0&&e[n][r][0]!=undefined?(s=!1,h=new o(e[n][r][0]),u.coreTeam[n][r]=h):u.coreTeam[n][r]===undefined?u.coreTeam[n][r]=null:e[n][r]!==null&&e[n][r].length===0?u.coreTeam[n][r]=null:s=!1;f=u.extendTeam;for(n in f)for(r in f[n])r=="dueDiligenceLead"?f[n][r]!=undefined&&f[n][r].length!=0&&f[n][r][0]!=undefined?(s=!1,h=new o(f[n][r][0]),u.extendTeam[n][r]=h):u.extendTeam[n][r]===undefined?u.extendTeam[n][r]=null:f[n][r]!==null&&f[n][r].length===0?u.extendTeam[n][r]=null:s=!1:f[n][r].length>0&&(s=!1,u.extendTeam[n][r]=f[n][r]);return new v(u,s)}function d(n){f=n.viewModel;a();var u=function(){var n=this;n.section={opptyID:"",eTag:"",name:"contacts"};n.editable=t.observable(f.editable());n.data={coreTeam:{primary:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()},ams:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()},apj:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()},emea:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()}},extendTeam:{primary:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()},ams:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()},apj:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()},emea:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()}}};n.roleCollection=["Account Executive","Bid Manager","Deal Analyst","Delivery Owner","HR Lead","Legal/Contract Management Lead","Opportunity Consultant","Proposal Manager","Pursuit Engagement Manager","Sales Executive","Solution Consultant","Solution Lead","Strategic Pursuit Lead","T&T Leader"];n.extendRoleCollection=["Deal Intake (multiple rows/names)","Due Diligence Leader","Other Internal Business Partners (multiple rows/names)","Practice Architects (multiple rows/names)","Proposal Support (multiple rows/names)"];n.involvedRegion=t.observableArray();n.leadRegion=t.observable();n.secondRegion=t.observable();n.thirdRegion=t.observable();n.opptyItem=t.observable();n.pageInited=t.observable(!1);n.peoplePickerInited=t.observable(!0);n.save=function(){r(window).trigger("opptySaving",n)}};return i=new u(n),p(),i}var r=n("jquery"),t=n("knockout"),g=n("jasnybs"),c=n("./PeoplePicker"),l=n("text!./Section0202Template.html"),nt=n("model/AppConfig"),tt=n("model/Oppty"),e=n("model/RequestAPI"),i={},f={};return{name:["Section0202","sd-section-0202"],template:l,viewModel:{createViewModel:d},subComponents:[c]}});define("component/Section0301",function(n){"use strict";function c(n){return n!=null?{clientRevenue:escape(n.clientRevenue()),clientRevenueYear:n.clientRevenueYear(),noBusinessUnits:n.noBusinessUnits(),inWhatCountries:n.inWhatCountries(),acctBizPlanImpactPointDetail:n.acctBizPlanImpactPointDetail(),explainImpact:escape(n.explainImpact()),priBizChlgDetail:escape(n.priBizChlgDetail()),clientCompellingEventDetail:escape(n.clientCompellingEventDetail()),curItStateDetail:escape(n.curItStateDetail()),keyDifferentiation:escape(n.keyDifferentiation()),buRelationDetail:escape(n.buRelationDetail()),hpiRelationDetail:escape(n.hpiRelationDetail()),clientFcnDetail:escape(n.clientFcnDetail()),clientDecisionCriteriaDetail:escape(n.clientDecisionCriteriaDetail()),clientProcApproach:n.clientProcApproach(),accountDeliveryMgmtDetail:escape(n.accountDeliveryMgmtDetail())}:{clientRevenue:"",clientRevenueYear:"",noBusinessUnits:1,inWhatCountries:[],acctBizPlanImpactPointDetail:"Yes",explainImpact:"",priBizChlgDetail:"",clientCompellingEventDetail:"",curItStateDetail:"",keyDifferentiation:"",buRelationDetail:"",hpiRelationDetail:"",clientFcnDetail:"",clientDecisionCriteriaDetail:"",clientProcApproach:"",accountDeliveryMgmtDetail:""}}function l(n){t.data.clientRevenue(unescape(n.clientRevenue));t.data.clientRevenueYear(n.clientRevenueYear==null?"":n.clientRevenueYear);t.data.noBusinessUnits(n.noBusinessUnits);t.data.inWhatCountries(n.inWhatCountries);t.data.acctBizPlanImpactPointDetail(n.acctBizPlanImpactPointDetail);t.data.explainImpact(unescape(n.explainImpact));t.data.priBizChlgDetail(unescape(n.priBizChlgDetail));t.data.clientCompellingEventDetail(unescape(n.clientCompellingEventDetail));t.data.curItStateDetail(unescape(n.curItStateDetail));t.data.keyDifferentiation(unescape(n.keyDifferentiation));t.data.buRelationDetail(unescape(n.buRelationDetail));t.data.hpiRelationDetail(unescape(n.hpiRelationDetail));t.data.clientFcnDetail(unescape(n.clientFcnDetail));t.data.clientDecisionCriteriaDetail(unescape(n.clientDecisionCriteriaDetail));t.data.clientProcApproach(n.clientProcApproach);t.data.accountDeliveryMgmtDetail(unescape(n.accountDeliveryMgmtDetail));r("#inWhatCountries").val(n.inWhatCountries).trigger("change")}function a(){r(window).off("opptySaving");r(window).on("opptySaving",f)}function v(){a()}function y(n){v();u=n.viewModel;var e=function(){var n=this;n.pursuitClassfication=i.observable();n.editable=i.observable(!0);n.data={clientRevenue:i.observable(),clientRevenueYear:i.observable(),noBusinessUnits:i.observable(),inWhatCountries:i.observableArray(),acctBizPlanImpactPointDetail:i.observable(),explainImpact:i.observable(),priBizChlgDetail:i.observable(),clientCompellingEventDetail:i.observable(),curItStateDetail:i.observable(),keyDifferentiation:i.observable(),buRelationDetail:i.observable(),hpiRelationDetail:i.observable(),clientFcnDetail:i.observable(),clientDecisionCriteriaDetail:i.observable(),clientProcApproach:i.observable(),accountDeliveryMgmtDetail:i.observable()};r("#inWhatCountries").select2({tags:!0});n.selectedCnty=i.observable();n.save=function(){f()}};return t=new e(n),t.pursuitClassfication=u.pursuitClassfication(),t.editable(u.editable()),p(),t}function p(){var n=i.toJS(u.document);n!=undefined&&n.bizSoln!=null&&n.bizSoln.clientOverview!=null&&l(n.bizSoln.clientOverview.data)}function f(n,i){var u=i.sid(),f;u==="0301"&&(f=new c(t.data),r(window).trigger("submitableChanged",{submitFlag:!0,obj:f,opptyID:i.opptyID(),eTag:i.eTag(),sectionName:i.sectionName(),sid:u}))}var r=n("jquery"),i=n("knockout"),w=n("jasnybs"),b=n("select2"),e=n("./DateTimePicker"),o=n("./QuestionArea"),k=n("model/Oppty"),d=n("model/AppConfig"),g=n("util/AppUtility"),s=n("./CountrySelector"),nt=n("model/RequestAPI"),h=n("text!./Section0301Template.html"),t={},u={};return{name:["Section0301","sd-section-0301"],template:h,viewModel:{createViewModel:y},subComponents:[o,e,s]}});define("component/Section030201",function(n){"use strict";function s(n){return n!=null?{salesStrategyDetail:escape(n.salesStrategyDetail()),clientTransformationStrategyDetail:escape(n.clientTransformationStrategyDetail()),dealBenefitDetail:escape(n.dealBenefitDetail()),criticalSuccessFactorDetail:escape(n.criticalSuccessFactorDetail()),dealEssentialDetail:escape(n.dealEssentialDetail()),sumryRelationStrategyDetail:escape(n.sumryRelationStrategyDetail()),specificSolnRqmtDetail:escape(n.specificSolnRqmtDetail()),supporterDetractorDetail:escape(n.supporterDetractorDetail()),bizPartnerDetail:escape(n.bizPartnerDetail())}:{salesStrategyDetail:"",clientTransformationStrategyDetail:"",dealBenefitDetail:"",criticalSuccessFactorDetail:"",dealEssentialDetail:"",sumryRelationStrategyDetail:"",specificSolnRqmtDetail:"",supporterDetractorDetail:"",bizPartnerDetail:""}}function h(){u(window).off("opptySaving");u(window).on("opptySaving",f)}function c(){h()}function l(n){t.data.salesStrategyDetail(n.salesStrategyDetail!=undefined?unescape(n.salesStrategyDetail):"");t.data.clientTransformationStrategyDetail(n.clientTransformationStrategyDetail!=null?unescape(n.clientTransformationStrategyDetail):"");t.data.dealBenefitDetail(n.dealBenefitDetail!=undefined?unescape(n.dealBenefitDetail):"");t.data.criticalSuccessFactorDetail(n.criticalSuccessFactorDetail!=undefined?unescape(n.criticalSuccessFactorDetail):"");t.data.dealEssentialDetail(n.dealEssentialDetail!=undefined?unescape(n.dealEssentialDetail):"");t.data.sumryRelationStrategyDetail(n.sumryRelationStrategyDetail!=null?unescape(n.sumryRelationStrategyDetail):"");t.data.specificSolnRqmtDetail(n.specificSolnRqmtDetail!=undefined?unescape(n.specificSolnRqmtDetail):"");t.data.supporterDetractorDetail(n.supporterDetractorDetail!=undefined?unescape(n.supporterDetractorDetail):"");t.data.bizPartnerDetail(n.bizPartnerDetail!=undefined?unescape(n.bizPartnerDetail):"")}function a(n){c();r=n.viewModel;var u=function(){var n=this;n.pursuitClassfication=i.observable();n.editable=i.observable(!0);n.data={salesStrategyDetail:i.observable(),clientTransformationStrategyDetail:i.observable(),dealBenefitDetail:i.observable(),criticalSuccessFactorDetail:i.observable(),dealEssentialDetail:i.observable(),sumryRelationStrategyDetail:i.observable(),specificSolnRqmtDetail:i.observable(),supporterDetractorDetail:i.observable(),bizPartnerDetail:i.observable()};n.save=function(){f()}};return t=new u(n),t.pursuitClassfication=r.pursuitClassfication(),t.editable(r.editable()),v(),t}function v(){var n=i.toJS(r.document);n!=undefined&&n.bizSoln!=null&&n.bizSoln.winStrategy!=null&&n.bizSoln.winStrategy.salesApproach!=null&&l(n.bizSoln.winStrategy.salesApproach.data)}function f(n,i){var r=i.sid(),f;r==="030201"&&(f=new s(t.data),u(window).trigger("submitableChanged",{submitFlag:!0,obj:f,opptyID:i.opptyID(),eTag:i.eTag(),sectionName:i.sectionName(),sid:r}))}var u=n("jquery"),i=n("knockout"),y=n("jasnybs"),p=n("model/AppConfig"),w=n("util/AppUtility"),e=n("./SDErrorPage"),b=n("model/Oppty"),k=n("model/RequestAPI"),o=n("text!./Section030201Template.html"),t={},r={};return{name:["Section030201","sd-section-030201"],template:o,viewModel:{createViewModel:a},subComponents:[e]}});define("component/Section030202",function(n){"use strict";function a(){f(window).off("opptySaving");f(window).on("opptySaving",h)}function v(){a()}function e(n){return n!=null?{name:n.name,strengthDetail:escape(n.strengthDetail),weaknessDetail:escape(n.weaknessDetail),advantageDetail:escape(n.advantageDetail)}:{name:"",strengthDetail:"",weaknessDetail:"",advantageDetail:""}}function o(n){if(t.data.competitorNum(n.competitorNum),n.content!=null&&n.content.length>0)for(var i in n.content)t.data.content[i].name(n.content[i].name),t.data.content[i].strengthDetail(unescape(n.content[i].strengthDetail)),t.data.content[i].weaknessDetail(unescape(n.content[i].weaknessDetail)),t.data.content[i].advantageDetail(unescape(n.content[i].advantageDetail))}function y(){t.section.opptyID=r.opptyID();t.section.opptyID===""?u.errorOppty("400"):u.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.sectionName).done(function(n,i){var r,f;if(n.status!=undefined&&n.status==404)u.errorOppty("404");else return n.data.bizSoln!=null&&(r=n.data.bizSoln,r!=null&&r.winStrategy!=null&&r.winStrategy.competitors!=null&&(f=r.winStrategy.competitors.data,t.section.eTag=i.getResponseHeader("ETag"),o(f))),this.promise()})}function p(n){v();r=n.viewModel;var u=function(){var n=this;n.section={opptyID:"",eTag:"",sectionName:"competitors"};n.pursuitClassfication=i.observable();n.editable=i.observable(!0);n.data={competitorNum:i.observable(1),content:[{name:i.observable(""),strengthDetail:i.observable(""),weaknessDetail:i.observable(""),advantageDetail:i.observable("")},{name:i.observable(""),strengthDetail:i.observable(""),weaknessDetail:i.observable(""),advantageDetail:i.observable("")},{name:i.observable(""),strengthDetail:i.observable(""),weaknessDetail:i.observable(""),advantageDetail:i.observable("")},{name:i.observable(""),strengthDetail:i.observable(""),weaknessDetail:i.observable(""),advantageDetail:i.observable("")}]};n.isInteger=i.observable(!0);n.data.competitorNum.subscribe(s);f(".popover-options a").popover({html:!0});f(".popover-show").popover("show");n.save=function(){s(n.data.competitorNum())&&h()}};return t=new u(n),t.section.opptyID=r.opptyID(),t.pursuitClassfication=r.pursuitClassfication(),t.editable(r.editable()),w(),t}function s(n){return/^\+?(0|[1-9]\d*)$/.test(n)?(t.isInteger(!0),!0):(t.isInteger(!1),!1)}function w(){if(r.editable())y(t);else{var n=i.toJS(r.document);n!=undefined&&n.bizSoln!=null&&n.bizSoln.winStrategy!=null&&n.bizSoln.winStrategy.competitors!=null&&o(n.bizSoln.winStrategy.competitors.data)}}function h(n,r){var s=r.sid(),f,o;if(s==="030202"){f=i.toJS(t.data);for(o in f.content)f.content[o]=new e(f.content[o]);u.updateSection(t.section.opptyID,t.section.sectionName,f,t.section.eTag).done(function(n,i,r){r!=undefined&&(t.section.eTag=r.getResponseHeader("ETag"));u.errorUpdateSection(n,s,t.section.opptyID)})}}var f=n("jquery"),i=n("knockout"),b=n("jasnybs"),k=n("model/AppConfig"),d=n("util/AppUtility"),g=n("model/Oppty"),c=n("./SDInputText"),u=n("model/RequestAPI"),l=n("text!./Section030202Template.html"),t={},r={};return{name:["Section030202","sd-section-030202"],template:l,viewModel:{createViewModel:p},subComponents:[c]}});define("component/Section030203",function(n){"use strict";function e(n){return n!=null?{clientBizDetail:n.clientBizDetail,chlgImpactDetail:escape(n.chlgImpactDetail),capabilityDetail:escape(n.capabilityDetail),evidenceDetail:escape(n.evidenceDetail)}:{clientBizDetail:"",chlgImpactDetail:"",capabilityDetail:"",evidenceDetail:""}}function o(n){if(n.content!=null&&n.content.length>0)for(var i in n.content)n.content[i].clientBizDetail=unescape(n.content[i].clientBizDetail),n.content[i].chlgImpactDetail=unescape(n.content[i].chlgImpactDetail),n.content[i].capabilityDetail=unescape(n.content[i].capabilityDetail),n.content[i].evidenceDetail=unescape(n.content[i].evidenceDetail);else n.content.push(new e(null));t.data.content(n.content)}function c(){u(window).off("opptySaving");u(window).on("opptySaving",s)}function l(){u(".popover-options a").popover({html:!0});u(".popover-show").popover("hide");c()}function a(){t.section.opptyID=i.opptyID();t.section.opptyID===""?r.errorOppty("400"):r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.sectionName).done(function(n,i){var u,f;if(n.status!=undefined&&n.status==404)r.errorOppty("404");else return n.data.bizSoln!=null&&(u=n.data.bizSoln,u!=null&&u.winStrategy!=null&&u.winStrategy.mapValProps!=null&&(f=u.winStrategy.mapValProps.data,t.section.eTag=i.getResponseHeader("ETag"),o(f))),this.promise()})}function v(n){l();i=n.viewModel;var r=function(){var n=this;n.section={opptyID:"",eTag:"",sectionName:"map-value-propositions"};n.data={content:f.observableArray()};n.editable=f.observable(!0);n.addRow=function(){n.data.content.push(new e)};n.remove=function(){n.data.content.remove(this)};n.save=function(){s()}};return t=new r(n),t.section.opptyID=i.opptyID(),t.editable(i.editable()),y(),t}function y(){if(i.editable())a(t);else{var n=f.toJS(i.document);n!=undefined&&n.bizSoln!=null&&n.bizSoln.winStrategy!=null&&n.bizSoln.winStrategy.mapValProps!=null&&o(n.bizSoln.winStrategy.mapValProps.data)}}function s(n,i){var s=i.sid(),u,o;if(s==="030203"){u=f.toJS(t.data);for(o in u.content)u.content[o]=new e(u.content[o]);r.updateSection(t.section.opptyID,t.section.sectionName,u,t.section.eTag).done(function(n,i,u){u!=undefined&&(t.section.eTag=u.getResponseHeader("ETag"));r.errorUpdateSection(n,s,t.section.opptyID)})}}var u=n("jquery"),f=n("knockout"),p=n("jasnybs"),w=n("model/AppConfig"),b=n("util/AppUtility"),k=n("model/Oppty"),r=n("model/RequestAPI"),h=n("text!./Section030203Template.html"),t={},i={};return{name:["Section030203","sd-section-030203"],template:h,viewModel:{createViewModel:v}}});define("component/Section030204",function(n){"use strict";function h(n){n!=null&&((n.yellowPadPricePercentage()==undefined||n.yellowPadPricePercentage()==null||n.yellowPadPricePercentage()=="")&&n.yellowPadPricePercentage(0),this.isYellowPadPrice=n.isYellowPadPrice()==1?!0:!1,this.yellowPadPricePercentage=n.yellowPadPricePercentage()*t.lowOrHigher(),this.clientPriceExpectDetail=escape(n.clientPriceExpectDetail()),this.clientPriceStrategyDetail=escape(n.clientPriceStrategyDetail()),this.cmpyPriceStrategyDetail=escape(n.cmpyPriceStrategyDetail()),this.competitorPriceStrategyDetail=escape(n.competitorPriceStrategyDetail()),this.majorFinancialIssue=escape(n.majorFinancialIssue()))}function e(n){n.yellowPadPricePercentage<=0?t.lowOrHigher(-1):t.lowOrHigher(1);t.data.isYellowPadPrice(n.isYellowPadPrice);t.data.yellowPadPricePercentage(Math.abs(n.yellowPadPricePercentage));t.data.clientPriceExpectDetail(unescape(n.clientPriceExpectDetail!=null?n.clientPriceExpectDetail:""));t.data.clientPriceStrategyDetail(unescape(n.clientPriceStrategyDetail!=null?n.clientPriceStrategyDetail:""));t.data.cmpyPriceStrategyDetail(unescape(n.cmpyPriceStrategyDetail!=null?n.cmpyPriceStrategyDetail:""));t.data.competitorPriceStrategyDetail(unescape(n.competitorPriceStrategyDetail!=null?n.competitorPriceStrategyDetail:""));t.data.majorFinancialIssue(unescape(n.majorFinancialIssue!=null?n.majorFinancialIssue:""))}function c(){f(window).off("opptySaving");f(window).on("opptySaving",o)}function l(){f(".popover-options a").popover({html:!0});f(".popover-show").popover("hide");c()}function a(){t.section.opptyID=r.opptyID();t.section.opptyID===""?u.errorOppty("400"):u.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.sectionName).done(function(n,i){var r,f;if(n.status!=undefined&&n.status==404)u.errorOppty("404");else return console.log(n),n.data.bizSoln!=null&&(r=n.data.bizSoln,r!=null&&r.winStrategy!=null&&r.winStrategy.pricingApproach!=null&&(f=r.winStrategy.pricingApproach.data,t.draftData(f),t.section.eTag=i.getResponseHeader("ETag"),e(f))),this.promise()})}function v(n){l();r=n.viewModel;var u=function(){var n=this;n.section={opptyID:"",eTag:"",sectionName:"pricing-approach"};n.pursuitClassfication=i.observable();n.editable=i.observable(!0);n.data={isYellowPadPrice:i.observable(!0),yellowPadPricePercentage:i.observable(0),clientPriceExpectDetail:i.observable(),clientPriceStrategyDetail:i.observable(),cmpyPriceStrategyDetail:i.observable(),competitorPriceStrategyDetail:i.observable(),majorFinancialIssue:i.observable()};n.draftData=i.observable();n.lowOrHigher=i.observable(1);n.save=function(){o()}};return t=new u(n),t.section.opptyID=r.opptyID(),t.pursuitClassfication=r.pursuitClassfication(),t.editable(r.editable()),y(),t}function y(){if(r.editable())a(t);else{var n=i.toJS(r.document);n!=undefined&&n.bizSoln!=null&&n.bizSoln.winStrategy!=null&&n.bizSoln.winStrategy.pricingApproach!=null&&e(n.bizSoln.winStrategy.pricingApproach.data)}}function o(n,r){var e=r.sid(),f;e==="030204"&&(f=new h(t.data),JSON.stringify(f)===JSON.stringify(i.toJS(t.draftData))?alert("Nothing Changed!"):(t.draftData(f),u.updateSection(t.section.opptyID,t.section.sectionName,f,t.section.eTag).done(function(n,i,r){r!=undefined&&(t.section.eTag=r.getResponseHeader("ETag"));u.errorUpdateSection(n,e,t.section.opptyID)})))}var f=n("jquery"),i=n("knockout"),p=n("jasnybs"),w=n("model/AppConfig"),u=n("model/RequestAPI"),b=n("util/AppUtility"),k=n("model/Oppty"),s=n("text!./Section030204Template.html"),t={},r={};return{name:["Section030204","sd-section-030204"],template:s,viewModel:{createViewModel:v}}});define("component/Section040101",function(n){"use strict";function h(){f(window).off("opptySaving");f(window).on("opptySaving",y)}function c(){h()}function l(){if(t.section.opptyID=r.opptyID(),t.editable())a();else{var i=r.document(),n=i.solnOverview;n!=null&&n.scope!=null&&n.scope.allOfferings!=null&&e(i)}}function a(){t.section.opptyID===""||i.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,r){if(n.status!=undefined&&n.status==404)i.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.scope!=null&&u.scope.allOfferings!=null?(t.section.eTag=r.getResponseHeader("ETag"),e(n.data)):s.getOpptyOverviewAsync(t.section.opptyID).done(function(n){n==undefined||v(n.productLine)})}})}function e(n){var i=n.solnOverview.scope.allOfferings.data.content;t.section.data.content(w(i))}function v(n){var i=t.section.data.content();for(var r in n)i.push({serviceLine:n[r].serviceLine,offering:n[r].offering,clientVolume:"",nStdComponent:""});t.section.data.content(i)}function y(n,r){var f=r.sid();f==="040101"&&(t.section.data.content(p(t.section.data.content())),i.updateSection(t.section.opptyID,t.section.name,u.toJS(t.section.data),t.section.eTag).done(function(n,r,u){t.section.eTag=u.getResponseHeader("ETag");i.errorUpdateSection(n,f,t.section.opptyID)}))}function p(n){for(var t in n)n[t].nStdComponent=escape(n[t].nStdComponent);return n}function w(n){for(var t in n)n[t].nStdComponent=unescape(n[t].nStdComponent);return n}function b(n){r=n.viewModel;c();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"all-offerings",data:{content:u.observable([])}};n.editable=u.observable(r.editable());n.addRow=function(){var t=n.section.data.content();t.push({serviceLine:"",offering:"",clientVolume:"",nStdComponent:""});n.section.data.content(t)};n.removeRow=function(t){var i=n.section.data.content();i.splice(t,1);n.section.data.content(i)}};return t=new i(n),l(),t}var f=n("jquery"),u=n("knockout"),k=n("jasnybs"),o=n("text!./Section040101Template.html"),s=n("model/Oppty"),i=n("model/RequestAPI"),t={},r={};return{name:["Section040101","sd-section-040101"],template:o,viewModel:{createViewModel:b}}});define("component/Section040102",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=r.opptyID(),t.editable())l();else{var i=r.document(),n=i.solnOverview;n!=null&&n.scope!=null&&n.scope.keyScopeItem!=null&&e(i)}}function l(){t.section.opptyID===""||i.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,r){if(n.status!=undefined&&n.status==404)i.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.scope!=null&&u.scope.keyScopeItem!=null&&(t.section.eTag=r.getResponseHeader("ETag"),e(n.data))}})}function e(n){var i=y(n.solnOverview.scope.keyScopeItem.data);t.section.data.keyScopeItemDetail(i.keyScopeItemDetail)}function a(n,r){var f=r.sid(),e;f==="040102"&&(e=v(u.toJS(t.section.data)),i.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,r,u){t.section.eTag=u.getResponseHeader("ETag");i.errorUpdateSection(n,f,t.section.opptyID)}))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){r=n.viewModel;h();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"key-scope-items",data:{keyScopeItemDetail:u.observable()}};n.editable=u.observable(r.editable())};return t=new i(n),c(),t}var f=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040102Template.html"),i=n("model/RequestAPI"),t={},r={};return{name:["Section040102","sd-section-040102"],template:o,viewModel:{createViewModel:p}}});define("component/Section0402",function(n){"use strict";function h(){f(window).off("opptySaving");f(window).on("opptySaving",v)}function c(){h()}function l(){if(t.section.opptyID=u.opptyID(),t.editable())a();else{var n=u.document(),i=n.solnOverview;i!=null&&i.clientArch!=null&&e(n)}}function a(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.clientArch!=null?(t.section.eTag=i.getResponseHeader("ETag"),e(n.data)):t.section.data.attachment([])}})}function e(n){var i=p(n.solnOverview.clientArch.data);t.section.data.keyComponentDetail(i.keyComponentDetail);t.section.data.painAreaDetail(i.painAreaDetail);t.section.data.keyTechDriverDetail(i.keyTechDriverDetail);t.section.data.bizCriticalAreaDetail(i.bizCriticalAreaDetail);t.section.data.serviceCollaborationDetail(i.serviceCollaborationDetail);t.section.data.integrationNeedDetail(i.integrationNeedDetail);t.section.data.archPrincipleDetail(i.archPrincipleDetail);t.section.data.archPrincipleConflictDetail(i.archPrincipleConflictDetail);t.section.data.attachment(i.attachment)}function v(n,u){var f=u.sid(),e;f==="0402"&&(e=y(i.toJS(t.section.data)),r.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,i,u){t.section.eTag=u.getResponseHeader("ETag");r.errorUpdateSection(n,f,t.section.opptyID)}))}function y(n){n.keyComponentDetail=escape(n.keyComponentDetail);n.painAreaDetail=escape(n.painAreaDetail);n.keyTechDriverDetail=escape(n.keyTechDriverDetail);n.bizCriticalAreaDetail=escape(n.bizCriticalAreaDetail);n.serviceCollaborationDetail=escape(n.serviceCollaborationDetail);n.integrationNeedDetail=escape(n.integrationNeedDetail);n.archPrincipleDetail=escape(n.archPrincipleDetail);n.archPrincipleConflictDetail=escape(n.archPrincipleConflictDetail);for(var t in n.attachment)n.attachment[t].link=escape(n.attachment[t].link);return n}function p(n){if(n.keyComponentDetail=unescape(n.keyComponentDetail),n.painAreaDetail=unescape(n.painAreaDetail),n.keyTechDriverDetail=unescape(n.keyTechDriverDetail),n.bizCriticalAreaDetail=unescape(n.bizCriticalAreaDetail),n.serviceCollaborationDetail=unescape(n.serviceCollaborationDetail),n.integrationNeedDetail=unescape(n.integrationNeedDetail),n.archPrincipleDetail=unescape(n.archPrincipleDetail),n.archPrincipleConflictDetail=unescape(n.archPrincipleConflictDetail),n.attachment!=null)for(var t in n.attachment)n.attachment[t].link=unescape(n.attachment[t].link);else n.attachment=[];return n}function w(n){u=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"client-architecture",data:{keyComponentDetail:i.observable(),painAreaDetail:i.observable(),keyTechDriverDetail:i.observable(),bizCriticalAreaDetail:i.observable(),serviceCollaborationDetail:i.observable(),integrationNeedDetail:i.observable(),archPrincipleDetail:i.observable(),archPrincipleConflictDetail:i.observable(),attachment:i.observableArray()}};n.editable=i.observable(u.editable())};return t=new r(n),l(),t}var f=n("jquery"),i=n("knockout"),b=n("jasnybs"),o=n("text!./Section0402Template.html"),r=n("model/RequestAPI"),k=n("model/AppConfig"),s=n("./AttachmentManager"),d=n("util/AppUtility"),t={},u={};return{name:["Section0402","sd-section-0402"],template:o,viewModel:{createViewModel:w},subComponents:[s]}});define("component/Section040301",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=r.opptyID(),t.editable())l();else{var i=r.document(),n=i.solnOverview;n!=null&&n.solnApproach!=null&&n.solnApproach.summary!=null&&e(i)}}function l(){t.section.opptyID===""||i.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,r){if(n.status!=undefined&&n.status==404)i.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.solnApproach!=null&&u.solnApproach.summary!=null&&(t.section.eTag=r.getResponseHeader("ETag"),e(n.data))}})}function e(n){var i=y(n.solnOverview.solnApproach.summary.data);t.section.data.overviewDetail(i.overviewDetail)}function a(n,r){var f=r.sid(),e;f==="040301"&&(e=v(u.toJS(t.section.data)),i.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,r,u){t.section.eTag=u.getResponseHeader("ETag");i.errorUpdateSection(n,f,t.section.opptyID)}))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){r=n.viewModel;h();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"summary",data:{overviewDetail:u.observable("")}};n.editable=u.observable(r.editable())};return t=new i(n),c(),t}var f=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040301Template.html"),i=n("model/RequestAPI"),t={},r={};return{name:["Section040301","sd-section-040301"],template:o,viewModel:{createViewModel:p}}});define("component/Section040302",function(n){"use strict";function h(){f(window).off("opptySaving");f(window).on("opptySaving",v)}function c(){h()}function l(){if(t.section.opptyID=u.opptyID(),t.editable())a();else{var i=u.document(),n=i.solnOverview;n!=null&&n.solnApproach!=null&&n.solnApproach.xmo!=null&&e(i)}}function a(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.solnApproach!=null&&u.solnApproach.xmo!=null?(t.section.eTag=i.getResponseHeader("ETag"),e(n.data)):t.section.data.attachment([])}})}function e(n){var i=p(n.solnOverview.solnApproach.xmo.data);t.section.data.attachment(i.attachment);t.section.data.cmoDetail(i.cmoDetail);t.section.data.tmoDetail(i.tmoDetail);t.section.data.fmoDetail(i.fmoDetail)}function v(n,u){var f=u.sid(),e;f==="040302"&&(e=y(i.toJS(t.section.data)),r.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,i,u){t.section.eTag=u.getResponseHeader("ETag");r.errorUpdateSection(n,f,t.section.opptyID)}))}function y(n){n.cmoDetail=escape(n.cmoDetail);n.tmoDetail=escape(n.tmoDetail);n.fmoDetail=escape(n.fmoDetail);for(var t in n.attachment)n.attachment[t].link=escape(n.attachment[t].link);return n}function p(n){if(n.cmoDetail=unescape(n.cmoDetail),n.tmoDetail=unescape(n.tmoDetail),n.fmoDetail=unescape(n.fmoDetail),n.attachment!=null)for(var t in n.attachment)n.attachment[t].link=unescape(n.attachment[t].link);else n.attachment=[];return n}function w(n){u=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"xmo",data:{attachment:i.observableArray([]),cmoDetail:i.observable(""),tmoDetail:i.observable(""),fmoDetail:i.observable("")}};n.editable=i.observable(u.editable());n.attachmentSelected=function(){insertAttachment(n)}};return t=new r(n),l(),t}var f=n("jquery"),i=n("knockout"),b=n("jasnybs"),o=n("text!./Section040302Template.html"),r=n("model/RequestAPI"),s=n("./AttachmentManager"),t={},u={};return{name:["Section040302","sd-section-040302"],template:o,viewModel:{createViewModel:w},subComponents:[s]}});define("component/Section040303",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=u.opptyID(),t.editable())l();else{var i=u.document(),n=i.solnOverview;n!=null&&n.solnApproach!=null&&n.solnApproach.hrSoln!=null&&e(i)}}function l(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.solnApproach!=null&&u.solnApproach.hrSoln!=null&&(t.section.eTag=i.getResponseHeader("ETag"),e(n.data))}})}function e(n){var r,i;t.section.data.content(y(n.solnOverview.solnApproach.hrSoln.data.content));r=t.section.data.content();for(i in r)i<t.initIssueCount?(t.hrSolutionContent()[i].approach(r[i].approach),t.hrSolutionContent()[i].checked(r[i].inScope)):t.hrSolutionContent.push(new t.hrSolnRow(r[i].hrIssue,r[i].hrIssueTitle,!0,r[i].inScope,r[i].approach))}function a(n,u){var o=u.sid(),e,f,s;if(o==="040303"){e=[];for(f in t.hrSolutionContent())t.hrSolutionContent()[f].checked()?e.push({inScope:!0,hrIssue:t.hrSolutionContent()[f].hrIssue(),hrIssueTitle:t.hrSolutionContent()[f].hrIssueTitle(),approach:escape(t.hrSolutionContent()[f].approach())}):e.push({inScope:!1,hrIssue:t.hrSolutionContent()[f].hrIssue(),hrIssueTitle:t.hrSolutionContent()[f].hrIssueTitle(),approach:""});t.section.data.content(e);s=v(i.toJS(t.section.data));r.updateSection(t.section.opptyID,t.section.name,s,t.section.eTag).done(function(n,i,u){t.section.eTag=u.getResponseHeader("ETag");r.errorUpdateSection(n,o,t.section.opptyID)})}}function v(n){for(var t in n)n[t].hrIssueTitle=escape(n[t].hrIssueTitle),n[t].approach=escape(n[t].approach);return n}function y(n){for(var t in n)n[t].hrIssueTitle=unescape(n[t].hrIssueTitle),n[t].approach=unescape(n[t].approach);return n}function p(n){u=n.viewModel;h();var r=function(){var n=this,t;n.section={opptyID:"",eTag:"",name:"hr-solutions",data:{content:i.observable([])}};n.editable=i.observable(u.editable());n.hrSolnRow=function(n,t,r,u,f){this.hrIssue=i.observable(n);this.hrIssueTitle=i.observable(t);this.isOriginal=i.observable(r);this.checked=i.observable(u);this.approach=i.observable(f)};t=[];t.push(new n.hrSolnRow("ClientEmployee","Client's Employees",!0,!1,""));t.push(new n.hrSolnRow("ClientSubcontractor","Client's Subcontractors",!0,!1,""));t.push(new n.hrSolnRow("ClientContractor","Client's Third Party Contractors",!0,!1,""));t.push(new n.hrSolnRow("HPEmployee","Existing HPE Employees (Renewals only)",!0,!1,""));n.initIssueCount=t.length;n.hrSolutionContent=i.observableArray(t);n.addRow=function(){n.hrSolutionContent.push(new n.hrSolnRow("Other","",!1,!0,""))};n.removeRow=function(t){var i=n.hrSolutionContent();i.splice(t,1);n.hrSolutionContent(i)}};return t=new r(n),c(),t}var f=n("jquery"),i=n("knockout"),w=n("jasnybs"),o=n("text!./Section040303Template.html"),r=n("model/RequestAPI"),t={},u={};return{name:["Section040303","sd-section-040303"],template:o,viewModel:{createViewModel:p}}});define("component/Section040304",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=u.opptyID(),t.editable())l();else{var i=u.document(),n=i.solnOverview;n!=null&&n.solnApproach!=null&&n.solnApproach.cmpyChallenge!=null&&e(i)}}function l(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.solnApproach!=null&&u.solnApproach.cmpyChallenge!=null?(t.section.eTag=i.getResponseHeader("ETag"),e(n.data)):self.isNewSection=!0}})}function e(n){var r,i;t.section.data.content(y(n.solnOverview.solnApproach.cmpyChallenge.data.content));r=t.section.data.content();for(i in r)i<t.initChallengeCount?(t.cmpyChallenge()[i].description(r[i].description),t.cmpyChallenge()[i].checked(r[i].inScope)):t.cmpyChallenge.push(new t.challengeRow(r[i].challenge,r[i].challengeTitle,!0,r[i].inScope,r[i].description))}function a(n,u){var o=u.sid(),e,f,s;if(o==="040304"){e=[];for(f in t.cmpyChallenge())t.cmpyChallenge()[f].checked()?e.push({inScope:!0,challenge:escape(t.cmpyChallenge()[f].challenge()),challengeTitle:t.cmpyChallenge()[f].challengeTitle(),description:escape(t.cmpyChallenge()[f].description())}):e.push({inScope:!1,challenge:escape(t.cmpyChallenge()[f].challenge()),challengeTitle:t.cmpyChallenge()[f].challengeTitle(),description:""});t.section.data.content(e);s=v(i.toJS(t.section.data));r.updateSection(t.section.opptyID,t.section.name,s,t.section.eTag).done(function(n,i,u){t.section.eTag=u.getResponseHeader("ETag");r.errorUpdateSection(n,o,t.section.opptyID)})}}function v(n){for(var t in n)n[t].challengeTitle=escape(n[t].challengeTitle),n[t].description=escape(n[t].description);return n}function y(n){for(var t in n)n[t].challengeTitle=unescape(n[t].challengeTitle),n[t].description=unescape(n[t].description);return n}function p(n){u=n.viewModel;h();var r=function(){var n=this,t;n.section={opptyID:"",eTag:"",name:"company-challenges",data:{content:i.observable([])}};n.editable=i.observable(u.editable());n.challengeRow=function(n,t,r,u,f){this.challenge=i.observable(n);this.challengeTitle=i.observable(t);this.isOriginal=i.observable(r);this.checked=i.observable(u);this.description=i.observable(f)};t=[];t.push(new n.challengeRow("Asset","Asset ownership/refresh",!0,!1,""));t.push(new n.challengeRow("Trade","Global Trade requirements",!0,!1,""));t.push(new n.challengeRow("Initiative","Internal initiatives that could impact deal",!0,!1,""));t.push(new n.challengeRow("Knowledge","Knowledge and supportability gaps",!0,!1,""));t.push(new n.challengeRow("Legal","Legal issues related to solution",!0,!1,""));t.push(new n.challengeRow("Sourcing","Location Sourcing limitations",!0,!1,""));t.push(new n.challengeRow("Staffing","Staffing Issues",!0,!1,""));n.initChallengeCount=t.length;n.cmpyChallenge=i.observableArray(t);n.addRow=function(){n.cmpyChallenge.push(new n.challengeRow("Other","",!1,!0,""))};n.removeRow=function(t){var i=n.cmpyChallenge();i.splice(t,1);n.cmpyChallenge(i)}};return t=new r(n),c(),t}var f=n("jquery"),i=n("knockout"),w=n("jasnybs"),o=n("text!./Section040304Template.html"),r=n("model/RequestAPI"),t={},u={};return{name:["Section040304","sd-section-040304"],template:o,viewModel:{createViewModel:p}}});define("component/Section040305",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=r.opptyID(),t.editable())l();else{var i=r.document(),n=i.solnOverview;n!=null&&n.solnApproach!=null&&n.solnApproach.designParam!=null&&e(i)}}function l(){t.section.opptyID===""||i.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,r){if(n.status!=undefined&&n.status==404)i.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.solnApproach!=null&&u.solnApproach.designParam!=null&&(t.section.eTag=r.getResponseHeader("ETag"),e(n.data))}})}function e(n){var i=y(n.solnOverview.solnApproach.designParam.data);t.section.data.solnParamDetail(i.solnParamDetail)}function a(n,r){var f=r.sid(),e;f==="040305"&&(e=v(u.toJS(t.section.data)),i.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,r,u){t.section.eTag=u.getResponseHeader("ETag");i.errorUpdateSection(n,f,t.section.opptyID)}))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){r=n.viewModel;h();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"design-params",data:{solnParamDetail:u.observable("")}};n.editable=u.observable(r.editable())};return t=new i(n),c(),t}var f=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040305Template.html"),i=n("model/RequestAPI"),t={},r={};return{name:["Section040305","sd-section-040305"],template:o,viewModel:{createViewModel:p}}});define("component/Section040306",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=r.opptyID(),t.editable())l();else{var i=r.document(),n=i.solnOverview;n!=null&&n.solnApproach!=null&&n.solnApproach.deployStrategy!=null&&e(i)}}function l(){t.section.opptyID===""||i.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,r){if(n.status!=undefined&&n.status==404)i.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.solnApproach!=null&&u.solnApproach.deployStrategy!=null&&(t.section.eTag=r.getResponseHeader("ETag"),e(n.data))}})}function e(n){var i=y(n.solnOverview.solnApproach.deployStrategy.data);t.section.data.initialThoughtDetail(i.initialThoughtDetail)}function a(n,r){var f=r.sid(),e;f==="040306"&&(e=v(u.toJS(t.section.data)),i.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,r,u){t.section.eTag=u.getResponseHeader("ETag");i.errorUpdateSection(n,f,t.section.opptyID)}))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){r=n.viewModel;h();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"deploy-strategy",data:{initialThoughtDetail:u.observable("")}};n.editable=u.observable(r.editable())};return t=new i(n),c(),t}var f=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040306Template.html"),i=n("model/RequestAPI"),t={},r={};return{name:["Section040306","sd-section-040306"],template:o,viewModel:{createViewModel:p}}});define("component/Section040307",function(n){"use strict";function h(){f(window).off("opptySaving");f(window).on("opptySaving",y)}function c(){h()}function l(){if(t.section.opptyID=u.opptyID(),t.editable())v();else{var i=u.document(),n=i.solnOverview;n!=null&&n.solnApproach!=null&&n.solnApproach.additionalInfo!=null&&e(i)}}function a(n){u=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"additional-info",data:{explainDetail:i.observable(""),attachment:i.observableArray()}};n.editable=i.observable(u.editable())};return t=new r(n),l(),t}function v(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.solnApproach!=null&&u.solnApproach.additionalInfo!=null?(t.section.eTag=i.getResponseHeader("ETag"),e(n.data)):t.section.data.attachment([])}})}function e(n){var i=w(n.solnOverview.solnApproach.additionalInfo.data);t.section.data.explainDetail(i.explainDetail);t.section.data.attachment(i.attachment)}function y(n,u){var f=u.sid(),e;f==="040307"&&(e=p(i.toJS(t.section.data)),r.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,i,u){t.section.eTag=u.getResponseHeader("ETag");r.errorUpdateSection(n,f,t.section.opptyID)}))}function p(n){n.explainDetail=escape(n.explainDetail);for(var t in n.attachment)n.attachment[t].link=escape(n.attachment[t].link);return n}function w(n){if(n.explainDetail=unescape(n.explainDetail),n.attachment!=null)for(var t in n.attachment)n.attachment[t].link=unescape(n.attachment[t].link);else n.attachment=[];return n}var f=n("jquery"),i=n("knockout"),b=n("jasnybs"),o=n("text!./Section040307Template.html"),r=n("model/RequestAPI"),s=n("./AttachmentManager"),t={},u={};return{name:["Section040307","sd-section-040307"],template:o,viewModel:{createViewModel:a},subComponents:[s]}});define("component/Section0404",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=r.opptyID(),t.editable())l();else{var n=r.document(),i=n.solnOverview;i!=null&&i.innovativeAspect!=null&&e(n)}}function l(){t.section.opptyID===""||i.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,r){if(n.status!=undefined&&n.status==404)i.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.innovativeAspect!=null&&(t.section.eTag=r.getResponseHeader("ETag"),e(n.data))}})}function e(n){var i=y(n.solnOverview.innovativeAspect.data);t.section.data.innovativeElementDetail(i.innovativeElementDetail)}function a(n,r){var f=r.sid(),e;f==="0404"&&(e=v(u.toJS(t.section.data)),i.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,r,u){t.section.eTag=u.getResponseHeader("ETag");i.errorUpdateSection(n,f,t.section.opptyID)}))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){r=n.viewModel;h();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"innovative-aspects",data:{innovativeElementDetail:u.observable("")}};n.editable=u.observable(r.editable())};return t=new i(n),c(),t}var f=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section0404Template.html"),i=n("model/RequestAPI"),t={},r={};return{name:["Section0404","sd-section-0404"],template:o,viewModel:{createViewModel:p}}});define("component/Section040501",function(n){"use strict";function s(){i(window).off("opptySaving");i(window).on("opptySaving",a)}function h(){s();i(".popover-options a").popover({html:!0});i(".popover-show").popover("hide")}function c(){if(t.section.opptyID=u.opptyID(),t.editable())l();else{var i=u.document(),n=i.solnOverview;n!=null&&n.deliveryStrategies!=null&&n.deliveryStrategies.locationTarget!=null&&n.scope!=null&&n.scope.allOfferings!=null&&e(i)}}function l(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){var u,o,f,s;if(n.status!=undefined&&n.status==404)r.errorOppty("404");else if(u=n.data.solnOverview,u!=null&&u.deliveryStrategies!=null&&u.deliveryStrategies.locationTarget!=null)t.section.eTag=i.getResponseHeader("ETag"),e(n.data);else if(u!=null&&u.scope!=null&&u.scope.allOfferings!=null){o=t.section.data.content();f=u.scope.allOfferings.data.content;for(s in f)o.push({offering:f[s].offering,clientVolume:f[s].clientVolume,onShoreWorkLoad:"",rdcWorkload:"",gdcWorkload:"",comment:""});t.section.data.content(o)}})}function e(n){var u=n.solnOverview.deliveryStrategies.locationTarget.data.content,e=n.solnOverview.scope.allOfferings.data.content,f=u.length,s=e.length,r,i,o;if(s==0&&(u=[],f=u.length),f>0&&s>0)for(i=0,r=0;i<f&&r<s;i++)e[r].offering!=u[i].offering?(u.splice(i,1),f=f-1,i=r):(u[i].clientVolume=e[i].clientVolume,r=r+1);if(r=s,i=f,r>i)for(o=i;o<r;o++)u.push({offering:e[o].offering,clientVolume:e[o].clientVolume,onShoreWorkLoad:"",rdcWorkload:"",gdcWorkload:"",comment:""});while(r<i)u.splice(r,1),i=i-1;t.section.data.content(y(u))}function a(n,i){var u=i.sid();u==="040501"&&(t.section.data.content(v(t.section.data.content())),r.updateSection(t.section.opptyID,t.section.name,f.toJS(t.section.data),t.section.eTag).done(function(n,i,f){t.section.eTag=f.getResponseHeader("ETag");r.errorUpdateSection(n,u,t.section.opptyID)}))}function v(n){for(var t in n)n[t].comment=escape(n[t].comment);return n}function y(n){for(var t in n)n[t].comment=unescape(n[t].comment);return n}function p(n){u=n.viewModel;h();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"location-targets",data:{content:f.observable([])}};n.editable=f.observable(u.editable())};return t=new i(n),c(),t}var i=n("jquery"),f=n("knockout"),w=n("jasnybs"),o=n("text!./Section040501Template.html"),r=n("model/RequestAPI"),t={},u={};return{name:["Section040501","sd-section-040501"],template:o,viewModel:{createViewModel:p}}});define("component/Section040502",function(n){"use strict";function i(){}function r(n){i();var t=function(){var n=this};return new t(n)}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section040502Template.html");return{name:["Section040502","sd-section-040502"],template:t,viewModel:{createViewModel:r}}});define("component/Section040503",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=u.opptyID(),t.editable())l();else{var i=u.document(),n=i.solnOverview;n!=null&&n.deliveryStrategies!=null&&n.deliveryStrategies.emsTooling!=null&&e(i)}}function l(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.deliveryStrategies!=null&&u.deliveryStrategies.emsTooling!=null&&(t.section.eTag=i.getResponseHeader("ETag"),e(n.data))}})}function e(n){var i=y(n.solnOverview.deliveryStrategies.emsTooling.data);t.section.data.clientToolDetail(i.clientToolDetail);t.section.data.cmpyServiceDetail(i.cmpyServiceDetail);t.section.data.cmpyApproachDetail(i.cmpyApproachDetail)}function a(n,u){var f=u.sid(),e;f==="040503"&&(e=v(i.toJS(t.section.data)),r.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,i,u){t.section.eTag=u.getResponseHeader("ETag");r.errorUpdateSection(n,f,t.section.opptyID)}))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){u=n.viewModel;h();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"ems-tooling",data:{clientToolDetail:i.observable(""),cmpyServiceDetail:i.observable(""),cmpyApproachDetail:i.observable("")}};n.editable=i.observable(u.editable())};return t=new r(n),c(),t}var f=n("jquery"),i=n("knockout"),w=n("jasnybs"),o=n("text!./Section040503Template.html"),r=n("model/RequestAPI"),t={},u={};return{name:["Section040503","sd-section-040503"],template:o,viewModel:{createViewModel:p}}});define("component/Section040504",function(n){"use strict";function i(){}function r(n){i();var t=function(){var n=this};return new t(n)}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section040504Template.html"),o=n("model/AppConfig"),s=n("util/AppUtility"),h=n("model/Oppty");return{name:["Section040504","sd-section-040504"],template:t,viewModel:{createViewModel:r}}});define("component/Section040505",function(n){"use strict";function h(){r(window).off("opptySaving");r(window).on("opptySaving",y)}function c(){h();r(".popover-options a").popover({html:!0});r(".popover-show").popover("hide")}function l(){if(t.section.opptyID=f.opptyID(),t.editable())v();else{var i=f.document(),n=i.solnOverview;n!=null&&n.deliveryStrategies!=null&&n.deliveryStrategies.svcDeliveryResp!=null&&n.scope!=null&&n.scope.allOfferings!=null&&o(i)}}function e(n){function u(n){n=="Other"?r.otherOptionVisible(!0):r.otherOptionVisible(!1)}var r=this;r.offering=i.observable(n.offering);r.delivery=i.observable(n.delivery);r.otherBuDelivery=i.observable(n.otherBuDelivery);r.specificBuDelivery=i.observable(n.specificBuDelivery);r.partnerDelivery=i.observable(n.partnerDelivery);r.thirdPartyDelivery=i.observable(n.thirdPartyDelivery);r.comment=i.observable(n.comment);r.index=t.svcDeliveryResp().length;r.loaded=i.observable(!0);r.otherOptionVisible=i.observable(!1);u(r.otherBuDelivery());r.otherBuDelivery.subscribe(function(n){r.updateSpecificBuDelivery(n)});r.updateSpecificBuDelivery=function(n){r.loaded(!1);u(n)}}function a(n){f=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"service-delivery-responsibilities",data:{content:i.observableArray([])}};n.editable=i.observable(f.editable());n.svcDeliveryResp=i.observableArray([])};return t=new r(n),l(),t}function v(){t.section.opptyID===""||u.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){var r,f,s,h,c;if(n.status!=undefined&&n.status==404)u.errorOppty("404");else if(r=n.data.solnOverview,r!=null&&r.deliveryStrategies!=null&&r.deliveryStrategies.svcDeliveryResp!=null)t.section.eTag=i.getResponseHeader("ETag"),o(n.data);else if(f=t.section.data.content(),r!=null&&r.scope!=null&&r.scope.allOfferings!=null){s=r.scope.allOfferings.data.content;for(h in s)f.push({offering:s[h].offering,delivery:"",otherBuDelivery:"",specificBuDelivery:"",partnerDelivery:"",thirdPartyDelivery:"",comment:""});t.section.data.content(f);for(c in f)t.svcDeliveryResp.push(new e(f[c]))}})}function o(n){var u=b(n.solnOverview.deliveryStrategies.svcDeliveryResp.data.content),h=n.solnOverview.scope.allOfferings.data.content,f=u.length,o=h.length,r,i,s,c;if(o==0&&(u=[],f=u.length),f>0&&o>0)for(i=0,r=0;i<f&&r<o;i++)h[r].offering!=u[i].offering?(u.splice(i,1),f=f-1,i=r):r=r+1;if(r=o,i=f,r>i)for(s=i;s<r;s++)u.push({offering:h[s].offering,delivery:"",otherBuDelivery:"",specificBuDelivery:"",partnerDelivery:"",thirdPartyDelivery:"",comment:""});while(r<i)u.splice(r,1),i=i-1;t.section.data.content(u);for(c in u)t.svcDeliveryResp.push(new e(u[c]))}function y(n,i){var r=i.sid(),f;r==="040505"&&(f=p(),u.updateSection(t.section.opptyID,t.section.name,f,t.section.eTag).done(function(n,i,f){t.section.eTag=f.getResponseHeader("ETag");u.errorUpdateSection(n,r,t.section.opptyID)}))}function p(){var r=[];for(var n in t.svcDeliveryResp())r.push({offering:t.svcDeliveryResp()[n].offering(),delivery:t.svcDeliveryResp()[n].delivery(),otherBuDelivery:t.svcDeliveryResp()[n].otherBuDelivery(),specificBuDelivery:t.svcDeliveryResp()[n].specificBuDelivery(),partnerDelivery:t.svcDeliveryResp()[n].partnerDelivery(),thirdPartyDelivery:t.svcDeliveryResp()[n].thirdPartyDelivery(),comment:t.svcDeliveryResp()[n].comment()});return t.section.data.content(r),w(i.toJS(t.section.data))}function w(n){for(var t in n)n[t].comment=escape(n[t].comment);return n}function b(n){for(var t in n)n[t].comment=unescape(n[t].comment);return n}var r=n("jquery"),i=n("knockout"),k=n("jasnybs"),d=n("select2"),s=n("text!./Section040505Template.html"),u=n("model/RequestAPI"),t={},f={};return{name:["Section040505","sd-section-040505"],template:s,viewModel:{createViewModel:a}}});define("component/Section040506",function(n){"use strict";function e(n){return n!=null?{retainedService:n.retainedService,clientDelivery:n.clientDelivery==1?!0:!1,clientPartnerDelivery:n.clientPartnerDelivery,clientThirdPartyDelivery:n.clientThirdPartyDelivery,comment:escape(n.comment)}:{retainedService:"",clientDelivery:"",clientPartnerDelivery:"",clientThirdPartyDelivery:"",comment:""}}function h(){r(window).off("opptySaving");r(window).on("opptySaving",y)}function c(){h();r(".popover-options a").popover({html:!0});r(".popover-show").popover("hide")}function l(){if(t.section.opptyID=i.opptyID(),t.editable())v();else{var r=i.document(),n=r.solnOverview;n!=null&&n.deliveryStrategies!=null&&n.deliveryStrategies.clientRetainedResp!=null&&o(r)}}function a(n){c();i=n.viewModel;var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"client-retained-responsibilities"};n.editable=f.observable(i.editable());n.data={content:f.observableArray()};n.addRow=function(){n.data.content.push(new e)};n.remove=function(){n.data.content.remove(this)}};return t=new r(n),t.section.opptyID=i.opptyID(),l(t),t}function v(){t.section.opptyID===""||u.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)u.errorOppty("404");else{var r=n.data.solnOverview;r!=null&&r.deliveryStrategies!=null&&r.deliveryStrategies.clientRetainedResp!=null&&(t.section.eTag=i.getResponseHeader("ETag"),o(n.data))}})}function y(n,i){var o=i.sid(),r,f,s;if(o==="040506"){r={};f=[];for(s in t.data.content())f.push(new e(t.data.content()[s]));r={content:f};u.updateSection(t.section.opptyID,t.section.name,r,t.section.eTag).done(function(n,i,r){u.errorUpdateSection(n,o,t.section.opptyID);t.section.eTag=r.getResponseHeader("ETag")})}}function o(n){var i=n.solnOverview.deliveryStrategies.clientRetainedResp.data.content;t.data.content(p(i))}function p(n){for(var t in n)n[t].comment=unescape(n[t].comment);return n}var r=n("jquery"),f=n("knockout"),w=n("jasnybs"),s=n("text!./Section040506Template.html"),u=n("model/RequestAPI"),t={},i={};return{name:["Section040506","sd-section-040506"],template:s,viewModel:{createViewModel:a}}});define("component/Section0406",function(n){"use strict";function s(){f(window).off("opptySaving");f(window).on("opptySaving",a)}function h(){s()}function c(){if(t.section.opptyID=u.opptyID(),t.editable())l();else{var n=u.document(),i=n.solnOverview;i!=null&&i.keyClientConstraint!=null&&e(n)}}function l(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var u=n.data.solnOverview;u!=null&&u.keyClientConstraint!=null&&(t.section.eTag=i.getResponseHeader("ETag"),e(n.data))}})}function e(n){var r,i;t.section.data.content(y(n.solnOverview.keyClientConstraint.data.content));r=t.section.data.content();for(i in r)i<t.initConstraintCount?(t.keyClientConstraint()[i].checked(r[i].inScope),t.keyClientConstraint()[i].description(r[i].description),t.keyClientConstraint()[i].mitigation(r[i].mitigation)):t.keyClientConstraint.push(new t.constraintRow(r[i].constraint,r[i].constraintTitle,!0,r[i].inScope,r[i].description,r[i].mitigation))}function a(n,u){var o=u.sid(),e,f,s;if(o==="0406"){e=[];for(f in t.keyClientConstraint())t.keyClientConstraint()[f].checked()?e.push({inScope:!0,constraint:escape(t.keyClientConstraint()[f].constraint()),constraintTitle:escape(t.keyClientConstraint()[f].constraintTitle()),description:escape(t.keyClientConstraint()[f].description()),mitigation:escape(t.keyClientConstraint()[f].mitigation())}):e.push({inScope:!1,constraint:escape(t.keyClientConstraint()[f].constraint()),constraintTitle:escape(t.keyClientConstraint()[f].constraintTitle()),description:"",mitigation:""});t.section.data.content(e);s=v(i.toJS(t.section.data));r.updateSection(t.section.opptyID,t.section.name,s,t.section.eTag).done(function(n,i,u){t.section.eTag=u.getResponseHeader("ETag");r.errorUpdateSection(n,o,t.section.opptyID)})}}function v(n){for(var t in n)n[t].constraintTitle=escape(n[t].constraintTitle),n[t].description=escape(n[t].description),n[t].mitigation=escape(n[t].mitigation);return n}function y(n){for(var t in n)n[t].constraintTitle=unescape(n[t].constraintTitle),n[t].description=unescape(n[t].description),n[t].mitigation=unescape(n[t].mitigation);return n}function p(n){u=n.viewModel;h();var r=function(){var n=this,t;n.section={opptyID:"",eTag:"",name:"key-client-constraints",data:{content:i.observable([])}};n.editable=i.observable(u.editable());n.constraintRow=function(n,t,r,u,f,e){this.constraint=i.observable(n);this.constraintTitle=i.observable(t);this.isOriginal=i.observable(r);this.checked=i.observable(u);this.description=i.observable(f);this.mitigation=i.observable(e)};n.opptyItemData=i.observable();t=[];t.push(new n.constraintRow("ClientStandard","Client-mandated standards and methods",!0,!1,"",""));t.push(new n.constraintRow("ClientMandated","Client-mandated products or tools",!0,!1,"",""));t.push(new n.constraintRow("ClientUnionizedSupport","Client-unionized support",!0,!1,"",""));t.push(new n.constraintRow("Regulatory","Data privacy and regulatory issues",!0,!1,"",""));t.push(new n.constraintRow("ExportImport","Export / import compliance",!0,!1,"",""));t.push(new n.constraintRow("CMO","HPE CMO responsibilities",!0,!1,"",""));t.push(new n.constraintRow("Resource","HPE or client resources",!0,!1,"",""));t.push(new n.constraintRow("LoL","Limits of Liability",!0,!1,"",""));t.push(new n.constraintRow("OffshoreLocation","No use of offshore locations",!0,!1,"",""));t.push(new n.constraintRow("Timeline","Timelines and critical dates",!0,!1,"",""));n.initConstraintCount=t.length;n.keyClientConstraint=i.observableArray(t);n.addRow=function(){n.keyClientConstraint.push(new n.constraintRow("Other","",!1,!0,"",""))};n.removeRow=function(t){var i=n.keyClientConstraint();i.splice(t,1);n.keyClientConstraint(i)}};return t=new r(n),c(),t}var f=n("jquery"),i=n("knockout"),w=n("jasnybs"),o=n("text!./Section0406Template.html"),t={},r=n("model/RequestAPI"),u={};return{name:["Section0406","sd-section-0406"],template:o,viewModel:{createViewModel:p}}});define("component/Section0407",function(n){"use strict";function s(){i(window).off("opptySaving");i(window).on("opptySaving",v)}function h(){s();i(".popover-options a").popover({html:!0});i(".popover-show").popover("hide")}function c(){if(t.section.opptyID=u.opptyID(),t.editable())a();else{var i=u.document(),n=i.solnOverview;n!=null&&n.costingReport!=null&&n.scope!=null&&n.scope.allOfferings!=null&&e(i)}}function l(n){u=n.viewModel;h();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"costing-reports",data:{content:f.observable([])}};n.editable=f.observable(u.editable())};return t=new i(n),c(),t}function a(){t.section.opptyID===""||r.getSectionByIDAndSectionNameAsync(t.section.opptyID,t.section.name).done(function(n,i){var u,f,o,s;if(n.status!=undefined&&n.status==404)r.errorOppty("404");else if(u=n.data.solnOverview,u!=null&&u.costingReport!=null)t.section.eTag=i.getResponseHeader("ETag"),e(n.data);else if(u!=null&&u.scope!=null&&u.scope.allOfferings!=null){f=t.section.data.content();o=u.scope.allOfferings.data.content;for(s in o)f.push({offering:o[s].offering,xmoApproach:"",cmpyTarget:""});t.section.data.content(f)}})}function e(n){var u=n.solnOverview.costingReport.data.content,s=n.solnOverview.scope.allOfferings.data.content,f=u.length,e=s.length,r,i,o;if(e==0&&(u=[],f=u.length),f>0&&e>0)for(i=0,r=0;i<f&&r<e;i++)s[r].offering!=u[i].offering?(u.splice(i,1),f=f-1,i=r):r=r+1;if(r=e,i=f,r>i)for(o=i;o<r;o++)u.push({offering:s[o].offering,xmoApproach:"",cmpyTarget:""});while(r<i)u.splice(r,1),i=i-1;t.section.data.content(u)}function v(n,i){var u=i.sid(),e;u==="0407"&&(e=f.toJS(t.section.data),r.updateSection(t.section.opptyID,t.section.name,e,t.section.eTag).done(function(n,i,f){t.section.eTag=f.getResponseHeader("ETag");r.errorUpdateSection(n,u,t.section.opptyID)}))}var i=n("jquery"),f=n("knockout"),y=n("jasnybs"),o=n("text!./Section0407Template.html"),p=n("model/AppConfig"),w=n("util/AppUtility"),b=n("model/Oppty"),r=n("model/RequestAPI"),t={},u={};return{name:["Section0407","sd-section-0407"],template:o,viewModel:{createViewModel:l}}});define("component/SDContents",function(n){"use strict";function c(){f.addSDLinkAfterAppHome()}function l(){r("#s4-ribbonrow").hide();r("#s4-titlerow").hide();c()}function a(){t.opptyID(f.getUrlParameter("OpptyID"));t.opptyID()===""?i.errorOppty("400"):i.getOpptyByIDAsync(t.opptyID()).done(function(n){if(n.status!=undefined&&n.status==404)i.errorOppty("404");else{var r=n.data.opptyOverview.opptyData.data;t.opptyID(r.opptyId);t.opptyName(r.opptyName)}})}function v(n){l();var i=function(){var n=this;n.opptyID=u.observable();n.opptyName=u.observable();n.sdLoaderUrl=s.ENV.SectionLoaderUrl};return t=new i(n),a(t),t}var r=n("jquery"),u=n("knockout"),e=n("text!./SDContentsTemplate.html"),o=n("./TopLink"),f=n("util/AppUtility"),i=n("model/RequestAPI"),s=n("model/AppConfig"),y=n("model/Oppty"),o=n("./TopLinkHome"),h=n("./OpptyID"),t={};return{name:"SDContents",template:e,viewModel:{createViewModel:v},subComponents:[o,h]}});define("component/SectionLoader",function(n){"use strict";function bt(){o.addSDLinkAfterAppHome()}function kt(){t(window).on("generateMsg",function(n,i,r,f){t(".sd-update-message").text(f);r==0?(t(".sd-update-message").addClass("text-success"),setTimeout(function(){t(".sd-update-message").removeClass("text-success");t(".sd-update-message").text("")},3e3)):(t(".sd-update-message").addClass("text-danger"),setTimeout(function(){t(".sd-update-message").removeClass("text-danger");t(".sd-update-message").text("")},5e3));u=!0});t(window).on("submitableChanged",function(n,t){u=t.submitFlag;u&&r.updateSection(t.opptyID,t.sectionName,t.obj,t.eTag).done(function(n,i,u){u!=undefined&&(wt=u.getResponseHeader("ETag"));r.errorUpdateSection(n,t.sid,t.opptyID)})})}function dt(){bt();kt();t(".navmenu").offcanvas({autohide:!1,recalc:!1,toggle:!1,canvas:"#sd-section-detail"})}function gt(n){var t=o.getUrlParameter("sid");n.opptyID(o.getUrlParameter("OpptyID"));n.sid(t);n.opptyID()===""||(n.sectionNavigator(r.createSectionModel()),n.sectionName(r.getSectionNameBySid(n.sectionNavigator(),n.sid())),f(n))}function f(n){r.getSectionByIDAndSectionNameSync(n.opptyID(),n.sectionName()).done(function(t,i){if(t.status!=undefined&&t.status>=400)r.errorOppty("404");else if(t.data.opptyOverview!=null&&t.data.opptyOverview.opptyData!=null){var u=t.data.opptyOverview.opptyData.data;n.document(t.data);n.eTag(i.getResponseHeader("ETag"));n.oppty.ClientName(u.clientName);n.oppty.OpptyName(u.opptyName);n.pursuitClassfication(u.pursuitClassfication);u.involvedGbu!=null&&u.involvedGbu.apps!=null&&(n.involvedGbu("apps"),n.appsInscope(u.involvedGbu.apps.inScope));h=r.createSectionModel(n.pursuitClassfication(),n.involvedGbu(),n.appsInscope());n.sectionNavigator(r.createSectionModel(n.pursuitClassfication(),n.involvedGbu(),n.appsInscope()))}})}function ni(){dt();h=r.createSectionModel("C","apps",!0);var o=function(){var o=this;o.oppty={ID:"",OpptyName:i.observable(""),ClientName:i.observable(""),pursuitClassfication:i.observable()};o.document=i.observable();o.eTag=i.observable();o.sectionName=i.observable();o.sectionNavigator=i.observable(r.createSectionModel("C","apps",!0));o.opptyID=i.observable();o.sdLoaderUrl=s.ENV.SectionLoaderUrl;o.sdContentUrl=s.ENV.SDContentsUrl;o.pursuitClassfication=i.observable();o.editable=i.observable(!0);o.involvedGbu=i.observable();o.appsInscope=i.observable();o.sid=i.observable();o.title=i.observable();o.prevSid=i.observable();o.nextSid=i.observable();o.sid.subscribe(function(){for(var n in o.sectionNavigator())if(o.sectionNavigator()[n].sid===o.sid()){o.title(o.sectionNavigator()[n].title);o.prevSid(o.sectionNavigator()[n].prevSid);o.nextSid(o.sectionNavigator()[n].nextSid);return}});o.saveHome=function(){};o.save=function(){e();t(window).triggerHandler("opptySaving",o);n.sectionName(r.getSectionNameBySid(n.sectionNavigator(),n.sid()));f(n)};o.saveAndNext=function(){e();n.sid()=="0201"||n.sid()=="0202"?(t(window).triggerHandler("opptySaving",n),u&&(n.sid(""+o.nextSid()),t(window).triggerHandler("sectionChanged",n))):(t(window).triggerHandler("opptySaving",n),n.sid(""+o.nextSid()),t(window).triggerHandler("sectionChanged",n));n.sectionName(r.getSectionNameBySid(n.sectionNavigator(),n.sid()));f(n)};o.saveAndPrevious=function(){e();n.sid()=="0201"||n.sid()=="0202"?(t(window).triggerHandler("opptySaving",n),u&&(n.sid(""+o.prevSid()),t(window).triggerHandler("sectionChanged",n))):(t(window).triggerHandler("opptySaving",n),n.sid(""+o.prevSid()),t(window).triggerHandler("sectionChanged",n));n.sectionName(r.getSectionNameBySid(n.sectionNavigator(),n.sid()));f(n)};o.changeSection=function(i){e();t(window).triggerHandler("opptySaving",n);n.sid(i);n.sectionName(r.getSectionNameBySid(n.sectionNavigator(),n.sid()));f(n);t(window).triggerHandler("sectionChanged",n)}},n=new o;return gt(n),n}function e(){ti()}function ti(){t(".popover").popover("hide");t(".popover").remove()}var t=n("jquery"),i=n("knockout"),ii=n("jasnybs"),ri=n("model/Oppty"),r=n("model/RequestAPI"),s=n("model/AppConfig"),c=n("text!./SectionLoaderTemplate.html"),l=n("./Section0201"),a=n("./Section0202"),v=n("./Section0301"),y=n("./Section030201"),p=n("./Section030202"),w=n("./Section030203"),b=n("./Section030204"),k=n("./Section040101"),d=n("./Section040102"),g=n("./Section0402"),nt=n("./Section040301"),tt=n("./Section040302"),it=n("./Section040303"),rt=n("./Section040304"),ut=n("./Section040305"),ft=n("./Section040306"),et=n("./Section040307"),ot=n("./Section0404"),st=n("./Section040501"),ht=n("./Section040502"),ct=n("./Section040503"),lt=n("./Section040504"),at=n("./Section040505"),vt=n("./Section040506"),yt=n("./Section0406"),pt=n("./Section0407"),o=n("util/AppUtility"),u=!0,wt="",h={};return{name:["SectionLoader","sd-section-loader"],template:c,viewModel:{createViewModel:ni},subComponents:[l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt]}});