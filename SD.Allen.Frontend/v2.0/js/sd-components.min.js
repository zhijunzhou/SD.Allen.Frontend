define("util/AppUtility",function(n){"use strict";function o(n){ExecuteOrDelayUntilScriptLoaded(function(){SP.UI.ModalDialog.showModalDialog(n)},"SP.js")}function s(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function c(n,t){ExecuteOrDelayUntilScriptLoaded(function(){SP.UI.ModalDialog.commonModalDialogClose(n,t)},"SP.js")}function l(n,t){var i=n,r=t||0;return typeof i=="number"?i:typeof i=="string"?(i=i.replace(/\$/g,""),i=i.replace(/,/g,""),i=parseFloat(i),isNaN(i)&&(i=r),i):r}function r(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function a(n){var t=u(n);return t!==null&&!isNaN(t)}function u(n){var t=new Date(n);return typeof n=="undefined"||n===null||n===""?null:isNaN(t.getTime())?(n=n.replace(/-/g,"/"),n=n.replace(/\u5e74/g,"/").replace(/\u6708/g,"/").replace(/\u65e5/g,"/"),t=new Date(n),!isNaN(t.getTime()))?t:null:t}function f(n){return typeof n=="object"&&n!==null?n.getFullYear().toString()+"-"+(n.getMonth()+1).toString()+"-"+n.getDate().toString():f(new Date)}function v(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function y(){return t.Deferred(function(n){whenReady("_spWebPermMasks",function(){n.resolve((_spWebPermMasks.Low&31)==31)})}).promise()}function p(n){return n=String(n).replace(/\,/g,"&#44;").replace(/\"/g,'\\"'),n.split("\n").toString().replace(/\,/g,"")}function w(n){var t;return t=n.lastIndexOf("."),t>=0?n.substr(t+1):""}function b(n){var i;i=t('[id*="'+n+'"] a[rel=popover]');i.popover({html:!0,trigger:"hover",placement:"bottom",content:function(){var n="",i=t(this).data("file"),r=w(i).toLowerCase();switch(r){case"jpg":case"png":case"gif":n='<img src="'+i+'" />';break;case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":n='<div class="js-frame-wrapper" style="line-height:0">    <iframe src="/teams/ESSolutionDesign-Staging/_layouts/15/WopiFrame.aspx?sourcedoc='+i+'&amp;action=interactivepreview&amp;wdSmallView=1" frameborder="0" style="width:350px; height:221px;"><\/iframe><\/div>';break;default:alert("unsupported file type, please choose another file!")}return n}})}function k(){var i=t.Deferred(),n=_spPageContextInfo.userLoginName,r=_spPageContextInfo.userId,u=_spPageContextInfo.webAbsoluteUrl+"/_api/web/getuserbyid("+r+")";return n!==undefined?i.resolve(n):t.ajax({url:u,contentType:"application/json;odata=verbose",headers:{accept:"application/json;odata=verbose"},async:!1,success:function(t){n=t.d.LoginName.split("|")[1];_spPageContextInfo.user=t.d;_spPageContextInfo.userLoginName=n;_spPageContextInfo.userLoginNameClean=n.replace("i:0#.w|","");i.resolve(n)},error:function(n){i.fail(n)}}),i.promise()}function d(n){return new Date(n).format("yyyy-MM-ddTHH:mm:ss")}function g(n){return new Date(n).format("MMM d yyyy")}function nt(){var n=t("#suiteBarLeft").find("div.ms-core-brandingText:contains('The Solution Source')"),i=n.parent();i.after('<span class="sd-head-separate"> / <\/span><a title="Solution Design" class="ms-core-suiteLink-a" href="SDMyOppty.aspx">    <div class="ms-core-brandingText sd-head-text">Solution Design<\/div><\/a>');t("#suiteBar").height(30)}function i(n,t){var u,f,r;if(n&&typeof n=="object"&&t&&typeof t=="object")if(u=e(n),f=e(t),u==f)for(r in n)if(n.hasOwnProperty(r)&&t.hasOwnProperty(r)){if(n[r]==null&&t[r]==null)continue;if(n[r].constructor==Array&&t[r].constructor==Array){if(!tt(n[r],t[r]))return!1}else if(typeof n[r]=="string"&&typeof t[r]=="string"){if(n[r]!==t[r])return!1}else if(typeof n[r]=="object"&&typeof t[r]=="object"){if(!i(n[r],t[r]))return!1}else return!1}else return!1;else return!1;return!0}function e(n){var t=0,i;if(n&&typeof n=="object"){for(i in n)n.hasOwnProperty(i)&&t++;return t}throw new Error("argunment can not be null;");}function tt(n,t){var r,u;if(n&&typeof n=="object"&&n.constructor===Array&&t&&typeof t=="object"&&t.constructor===Array)if(n.length==t.length){for(r=0;r<n.length;r++)if(u=i(n[r],t[r]),!u)return!1}else return!1;else throw new Error("argunment is  error ;");return!0}var t=n("jquery"),h=function(){var n=null;return function(t){function u(){i.dialog!==null?i.token===n&&(i.dialog.close(),n=null):setTimeout(u,50)}var i={dialog:null,token:r(),close:u};return n===null?(n=i.token,ExecuteOrDelayUntilScriptLoaded(function(){i.dialog=SP.UI.ModalDialog.showWaitScreenWithNoClose(SP.Res.dialogLoading15);typeof t=="function"&&t(i.dialog)},"SP.js")):(i.dialog={close:function(){}},typeof t=="function"&&t(i.dialog)),i}}();return{showWorkingOnItDialog:h,closeLastDialog:c,parseCurrency:l,newGuid:r,isDate:a,parseDate:u,toDateString:f,getUrlParameter:s,showModalDialog:o,trimString:v,isCurrentUserWebAdmin:y,htmlEscape:p,initPopover:b,getCurrentUser:k,transformDateToISO8601:d,transformIOSDateToen:g,addSDLinkAfterAppHome:nt,compareJson:i}});define("model/Oppty",function(n){"use strict";function u(n){var t=this;t.ID=0;t.opptyID="";t.opptyName="";t.clientName="";t.dealStatus="";t.salesStage="";t.statusCheck="";t.json={};n!==undefined&&(t.ID=n.ID,t.opptyID=n.Title,t.opptyName=n.OpptyName,t.clientName=n.ClientName,t.dealStatus=n.DealStatus,t.salesStage=n.SalesStage,t.statusCheck=n.StatusCheck,t.json=n.JSON)}function r(n,t){this.opptyID=n.OpportunityID;this.opptyName=n.OpportunityName;this.salesStage=n.CurrentSalesStage;this.opptyType=n.OpportunityType;this.dealStatus=n.OpportunityStatus;this.clientName=n.CustomerProfileName;this.leadBizUnit=n.PrimaryGBU;this.opptyTcv=n.OpportunityTotalValueUSD;this.opptyFyr=n.OpportunityTotalFFYRevenueUSD;this.apps=n.APPSUSD;this.bps=n.BPOUSD;this.ito=n.ITOUSD;this.contractTerm=n.ContractLengthinMonths;this.contractSignDate=n.SignDate;this.leadCntry=n.ESSubregion;this.clientCntry=n.CRPCountryName;this.region=n.ESGeo;this.productLine=t}function f(n){this.serviceLine=n.LineItemProductLineName;this.offering=n.LineItemSubProductLineName}function e(){var n,r=t.Deferred();return t.ajax({url:i+"/items/?$select=OpptyID,OpptyName,ClientName",type:"get",dataType:"JSON",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(t){n=t.d.results;r.resolve(n)},async:!0}),r.promise()}function o(){var n=t.Deferred(),r=[];return t.ajax({url:i+"/items/?$select=ID,Title,OpptyID,OpptyName,ClientName,DealStatus,SalesStage",type:"get",dataType:"json",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(t){var i=t.d.results,f,e;for(f in i)e=new u(i[f]),r.push(e);n.resolve(r)}}),n.promise()}function s(n){var r=t.Deferred(),u={},f=i+"/items/?$filter=OpptyID eq '"+n+"'";return t.ajax({url:i+"/items/?$filter=OpptyID eq '"+n+"'",type:"get",dataType:"JSON",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){u=n.d.results;u.length==0?r.resolve():r.resolve(u[0])}}),r.promise()}function h(n){var r=t.Deferred(),u=String.format("{{'__metadata':{{'type':'SP.Data.CoreListItem'}},'Title':'{0}','OpptyID':'{1}','JSON':'{2}'}}",n.opptyID,n.opptyID,n.JSON);return t.ajax({url:i+"/items("+n.ID+")",method:"post",data:u,headers:{"X-RequestDigest":t("#__REQUESTDIGEST").val(),"content-type":"application/json;odata=verbose","IF-MATCH":"*","X-HTTP-Method":"MERGE"},success:function(){r.resolve()}}),r.promise()}function c(n){var r=t.Deferred(),u=String.format("{{'__metadata':{{'type':'SP.Data.CoreListItem'}},'Title':'{0}','OpptyID':'{1}','OpptyName':'{2}','ClientName':'{3}','DealStatus':'{4}','SalesStage':'{5}','JSON':'{6}'}}",n.title,n.opptyID,n.opptyName,n.clientName,n.dealStatus,n.salesStage,n.JSON);return t.ajax({url:i+"/items("+n.ID+")",method:"post",data:u,headers:{"X-RequestDigest":t("#__REQUESTDIGEST").val(),"content-type":"application/json;odata=verbose","IF-MATCH":"*","X-HTTP-Method":"MERGE"},success:function(){r.resolve()}}),r.promise()}function l(n){var r=t.Deferred(),u=String.format("{{'__metadata':{{'type':'SP.Data.CoreListItem'}},'Title':'{0}','OpptyID':'{1}','OpptyName':'{2}','ClientName':'{3}','DealStatus':'{4}','SalesStage':'{5}','JSON':'{6}'}}",n.title,n.opptyID,n.opptyName,n.clientName,n.dealStatus,n.salesStage,n.JSON);return t.ajax({url:i+"/items",type:"post",data:u,headers:{"X-RequestDigest":jQuery("#__REQUESTDIGEST").val(),"content-type":"application/json;odata=verbose"},success:function(n){r.resolve(n)}}),r.promise()}function a(n){var e=sp.app.config.WebAPI.HRSoln+"?id="+n,u=null,i=t.Deferred();return t.ajax({url:e,type:"get",dataType:"JSON",headers:{accept:"application/JSON","content-type":"application/JSON"},success:function(n){var e,t,o;if(n===undefined)i.resolve();else{e=[];t=n.__ProductLines;for(o in t)t[o].serviceLine!==""&&e.push(new f(t[o]));u=new r(n,e);i.resolve(u)}},error:function(n){n.status=="404"&&i.resolve(undefined)},async:!0}),i.promise()}var t=n("jquery"),i=sp.app.config.ENV.siteRelativeUrl+"/_api/web/Lists/getbytitle('"+sp.app.config.ListCollection.SDCore+"')";return{getMyOpptyAsync:o,getAllOpptyAsync:e,getOpptyByIDAsync:s,updateOpptyAsync:h,addNewOppty:l,opptyOverview:r,getOpptyOverviewAsync:a,updateOpptyOverviewAsync:c}});define("model/RequestAPI",function(n){"use strict";function r(n,t){for(var i in n)if(n[i].sid===t)return n[i].title;return"Error Title"}function e(n,t){for(var i in n)if(n[i].sid===t)return n[i].sectionName;return"Error Section Name"}function u(n,t,r){return n===undefined&&n=="A",(r===undefined||t!="apps")&&(r=!1),[new i("0201","Opportunity Overview","","0202","opportunity-data"),new i("0202","Pursuit Team Contacts","0201","0301","contacts"),new i("0301","Client Overview and Decision Factors","0202","030201","client-overview"),new i("030201","Sales Approach","0301","030202","sales-approach"),new i("030202","Competitors","030201","030203","competitors"),new i("030203","Message Map/Value Proposition","030202","030204","map-value-propositions"),new i("030204","Pricing Approach","030203","040101","pricing-approach"),new i("040101","All Offerings","030204","040102","all-offerings"),new i("040102","Key Scope Items","040101",n=="A"||n=="B"?"040301":"0402","key-scope-items"),new i("0402","Current State Client Architecture","040102","040301","client-architecture"),new i("040301","Summary",n=="A"||n=="B"?"040102":"0402","040302","summary"),new i("040302","Outsourcing CMO/TMO/FMO","040301","040303","xmo"),new i("040303","HR Solution","040302","040304","hr-solutions"),new i("040304","HPE Internal Challenges and Constraints","040303",t=="apps"&&r?"040305":"040307","company-challenges"),new i("040305","Design Parameters","040304","040306","design-params"),new i("040306","Deployment Strategy","040305","040307","deploy-strategy"),new i("040307","Additional Information",t=="apps"&&r?"040306":"040304","0404","additional-info"),new i("0404","Innovative Aspects of the Solution","040307","040501","innovative-aspects"),new i("040501","Delivery Strategies > Delivery Location Targets","0404","040505","location-targets"),new i("040505","Delivery Strategies > In-Scope Services Delivery Responsibility","040501",n=="A"||n=="B"?"040503":"040506","service-delivery-responsibilities"),new i("040506","Delivery Strategies > Client-Retained Services Delivery Responsibility","040505","040503","client-retained-responsibilities"),new i("040503","Delivery Strategies > Service Management & Integration Approach",n=="A"||n=="B"?"040505":"040506","0406","service-management"),new i("0406","Key Client Constraints","040503",n=="A"||n=="B"?"0201":"0407","key-client-constraints"),new i("0407","Summary Costing Approach","0406","0801","costing-reports"),new i("0801","Key Assumptions","0407","0802","key-assumptions"),new i("0802","Key Delivery Risks","0801","0803","key-delivery-risks"),new i("0803","Key Non-Delivery Risks","0802","0201","key-non-delivery-risks"),new i("0701","Transition Strategy and Approach","0407","0702","transit-strategy-approach"),new i("0702","Transformation Strategy and Approach","0701","0703","transform-strategy-pproach"),new i("0703","T&T Client Benefits","0702","0704","client-benefits"),new i("0704","Due Diligence Summary","0703","0705","due-diligence-sum"),new i("0705","Key T&T Projects and Timelines","0704","0706","key-proj-timelines"),new i("0706","Key T&T Project Interdependencies","0705","0707","inter-dependencies"),new i("0707","Governance Structure and Management of Change","0706","0201","gov-struct-mgmt-change"),]}function i(n,t,i,r,u){this.sid=n;this.title=t;this.prevSid=i;this.nextSid=r;this.sectionName=u}function o(n,t,i){h(n,t,i)}function s(n,i,r,u){var f=t.Deferred(),e=new FileReader;return e.onloadend=function(u){if(u.target.readyState==FileReader.DONE){var e=u.target.result,o=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/getfolderbyserverrelativeurl('"+n+i+"')/files/add(overwrite=true,url='"+r+"')";t.ajax({url:o,type:"POST",data:e,processData:!1,headers:{accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){f.resolve(n)},complete:function(n){f.resolve(n)},error:function(n){f.resolve(n)}})}},e.readAsArrayBuffer(u),f.promise()}function h(n,i,r){var u=t.Deferred(),f=new FileReader;return f.onloadend=function(r){if(r.target.readyState==FileReader.DONE){var f=r.target.result,e=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/lists/getByTitle('"+n+"')/RootFolder/Files/add(url='"+i+"',overwrite='true')";t.ajax({url:e,type:"POST",data:f,processData:!1,headers:{accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){u.resolve(n)},complete:function(n){u.resolve(n)},error:function(n){u.resolve(n)}})}},f.readAsArrayBuffer(r),u.promise()}function c(n,i,r){var u=t.Deferred(),f=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/lists/getByTitle('"+n+"')/RootFolder/Folders/add(url='"+i+"')";t.ajax({url:f,type:"POST",headers:{accept:"application/json; odata=verbose","content-type":"application/json; odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(){l(n,i,r)},complete:function(n){u.resolve(n)},error:function(n){u.resolve(n)}})}function l(n,i,r){var u=t.Deferred(),f=_spPageContextInfo.siteServerRelativeUrl+"/_api/Web/Folders/add('"+n+"/"+i+"/"+r+"')";t.ajax({url:f,type:"POST",headers:{accept:"application/json; odata=verbose","content-type":"application/json; odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){u.resolve(n)},complete:function(n){u.resolve(n)},error:function(n){u.resolve(n)}})}function a(n){var i=t.Deferred(),r=sp.app.config.ReleaseVersion,u=sp.app.config.ListCollection.SSDocLib,f=_spPageContextInfo.siteServerRelativeUrl+"/_api/web/getfolderbyserverrelativeurl('"+u+"/"+n+"/"+r+"')/Files";return t.ajax({url:f,type:"get",dataType:"JSON",headers:{accept:"application/JSON;odata=verbose","content-type":"application/JSON;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()},success:function(n){i.resolve(n)},error:function(n){i.resolve(n)}}),i.promise()}function v(){var n=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents",method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(t){n.resolve(t)}).fail(function(t){n.resolve(t)}),n.promise()}function y(){var n=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents/my",method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(t){n.resolve(t)}).fail(function(t){n.resolve(t)}),n.promise()}function p(n){var i=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents",method:"POST",data:JSON.stringify(n),contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n){i.resolve(n)}).fail(function(n){i.resolve(n)}),i.promise()}function w(n){var i=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents/"+n,method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,r){i.resolve(n,r)}).fail(function(n){i.resolve(n)}),i.promise()}function b(n){var i=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents/"+n,method:"GET",async:!1,contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,r){i.resolve(n,r)}).fail(function(n){i.resolve(n)}),i.promise()}function k(n,i){var r=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents/"+n+"/sections/"+i,method:"GET",contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,i){r.resolve(n,i)}).fail(function(n){r.resolve(n)}),r.promise()}function d(n,i){var r=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents/"+n+"/sections/"+i,method:"GET",async:!1,contentType:"application/json",headers:{Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")}}).done(function(n,t,i){r.resolve(n,i)}).fail(function(n){r.resolve(n)}),r.promise()}function g(n,i,r,u){var f=t.Deferred();return t.ajax({url:sp.app.config.ApiStaging.Staging1+"/api/documents/"+n+"/sections/"+i,method:"POST",data:JSON.stringify(r),contentType:"application/json",headers:{"If-Match":u,Authorization:"Basic "+btoa(_hpUserName+":K8gNpSnj3p")},success:function(n,t,i){f.resolve(n,t,i)},error:function(n){f.resolve(n)}}),f.promise()}function nt(n){switch(n){case"400":alert("You don't have OpptyID in your url! You will redirect to My Opportunity Page!");window.location.href=sp.app.config.ENV.siteRelativeUrl+"/SitePages/SDMyOppty.aspx";break;case"404":alert("OpptyID is not avaiable! Please try another or navigator to home page!");window.location.href=sp.app.config.ENV.siteRelativeUrl+"/SitePages/SDMyOppty.aspx"}}function tt(n,i){var c=u(undefined,undefined,undefined),s=i!=null?r(c,i):"",e="",o=0,h;n==undefined?(o=0,e="Update Section  Successfully!"):n.status>=400&&n.status<500?(o=n.status,i==null?e=n.status==400?"Error: The length of the URL for this request exceeds the configured maxUrlLength value or object file too large .":"Error code: "+n.status:(h=JSON.parse(n.responseText),e="Error: "+o+" Section: "+s+", Message: "+h.Message)):n.status>=500&&(o=n.status,e="Error occur in the server, please contact the server administrator!");t(window).trigger("generateMsg",[s,o,e]);f()}function it(n,i,r){t(window).trigger("submitableChanged",{submitFlag:n,obj:i,viewModel:r})}function f(){var n="#suiteBar",r=t(window).width(),i;i=t(n).length?t(window).height()-t(n).height():t(window).height();t("#s4-workspace").width(r).height(i)}var t=n("jquery");return{createSectionModel:u,createFolder:c,uploadFile:o,uploadtoSpecificFolder:s,createOpptyDocument:p,getAllAttachments:a,getAllOpptyAsync:v,getMyOpptyAsyc:y,getSectionByIDAndSectionNameAsync:k,getSectionByIDAndSectionNameSync:d,getOpptyByIDAsync:w,updateSection:g,errorOppty:nt,getOpptyByIDSync:b,errorUpdateSection:tt,getSectionNameBySid:e,getSectionTitleBySid:r,FixWorkspace:f,unifiedSave:it}});define("component/TopLink",function(n){"use strict";function i(){return{}}var r=n("knockout"),u=n("bootstrap"),t=n("text!./TopLinkTemplate.html");return{name:["TopLink","sd-toplink"],template:t,viewModel:{createViewModel:i}}});define("component/TopLinkHome",function(n){"use strict";function i(){var n={};return n.navToNewRequestForm=function(){location.href="NewRequestForm.aspx"},n}var r=n("knockout"),u=n("bootstrap"),t=n("text!./TopLinkHomeTemplate.html");return{name:["TopLinkHome","sd-toplink-home"],template:t,viewModel:{createViewModel:i}}});define("component/OpptyID",function(n){"use strict";function r(){}function u(n){r();var i=function(n){var i=this;i.opptyID=t.observable("");i.editable=t.observable(!1);n===undefined||n.opptyID===undefined?(i.opptyID("OPP-"),i.editable(!0)):(i.opptyID(n.opptyID),i.editable(!1));i.edit=function(){i.editable(!0)};i.save=function(){i.editable(!1)}};return new i(n.oppty)}var f=n("jquery"),t=n("knockout"),i=n("text!./OpptyIDTemplate.html");return{name:["OpptyID","sd-oppty-id"],template:i,viewModel:{createViewModel:u}}});define("component/DateTimePicker",function(n){"use strict";function f(){}function e(n,i){f();var u=function(n){var i={guid:"sd-dtPicker-"+r.newGuid(),dateTime:n.dateTime,dateTimePickerOptions:{},title:t.observable(),hint:t.observable(),mandatory:t.observable(!1),editable:t.observable(!0),formattext:function(){return new Date(n.dateTime()).format("MMM dd yyyy")},edit:function(){i.editable()||i.editable(!0)},editCompleted:function(){i.editable()&&i.editable(!1)}};return n!==undefined&&(n.editable!=undefined&&i.editable(n.editable()),n.title!==undefined&&i.title(n.title),n.hint!==undefined&&i.hint(n.hint),n.mandatory!==undefined&&i.mandatory(n.mandatory),i.dateTimePickerOptions=n.dateTimePickerOptions!==undefined?n.dateTimePickerOptions:{format:"YYYY-MM-DD",sideBySide:!0}),i};return new u(n,i)}var i=n("jquery"),t=n("knockout"),o=n("jasnybs"),s=n("datetimepicker"),r=n("util/AppUtility"),u=n("text!./DateTimePickerTemplate.html");return t.bindingHandlers.dateTimePicker={init:function(n,r,u){var f=r(),e=t.bindingHandlers.dateTimePicker,o=u().dateTimePickerOptions||{},s=function(t){typeof t.__updateSubscribe=="undefined"&&(t.__updateSubscribe=t.subscribe(function(){e.update(n,r,u)},100))};i(n).datetimepicker(o);t.utils.registerEventHandler(n,"dp.change",function(n){var i=r();t.isObservable(i)&&(n.date==null||n.date instanceof Date?i(n.date):n.date?i(n.date.toISOString()):i(""))});t.utils.domNodeDisposal.addDisposeCallback(n,function(){var t=i(n).data("DateTimePicker");t&&t.destroy()});s(f)},update:function(n,r){var o=r(),e=e=t.bindingHandlers.dateTimePicker,u=i(n).data("DateTimePicker"),f;u&&(f=new Date(t.utils.unwrapObservable(r())),e.isValidDate(f)?u.date(f):u.date(null))},isValidDate:function(n){return Object.prototype.toString.call(n)==="[object Date]"?isNaN(n.getTime())?!1:!0:!1}},{name:["DateTimePicker","sd-datetimepicker"],template:u,viewModel:{createViewModel:e}}});define("component/PeoplePicker",function(n){"use strict";function f(n,t){var i;if(SP.SOD.loadMultiple){for(i=0;i<n.length;i=i+1)_v_dictSod[n[i]]||SP.SOD.registerSod(n[i],"/_layouts/15/"+n[i]);SP.SOD.loadMultiple(n,t)}else ExecuteOrDelayUntilScriptLoaded(t,n[0])}function e(){}function o(n,t){e();var u=function(n){var t={guid:"sd-people-"+r.newGuid(),users:n.users,peopleOnly:n.peopleOnly,multiple:n.multiple,title:i.observable(),hint:i.observable(),mandatory:i.observable(!1),editable:i.observable(!0),edit:function(){t.editable()||t.editable(!0)},editCompleted:function(){t.editable()&&t.editable(!1)},isResolved:i.observable()};return n!==undefined&&(n.editable!==undefined&&t.editable(n.editable()),n.title!==undefined&&t.title(n.title),n.hint!==undefined&&t.hint(n.hint),n.mandatory!==undefined&&t.mandatory(n.mandatory)),t};return u(n,t)}var t=n("jquery"),i=n("knockout"),s=n("jasnybs"),r=n("util/AppUtility"),u=n("text!./PeoplePickerTemplate.html");return i.bindingHandlers.clientPeoplePicker={currentId:0,init:function(n,r,u){var f=r(),s=u(),e=i.bindingHandlers.clientPeoplePicker,o,h=function(t){typeof t.__updateSubscribe=="undefined"&&(t.__updateSubscribe=t.subscribe(function(){e.updateUserValue(n,t,s)},100))},c=function(n){typeof n.__updateSubscribe!="undefined"&&(n.__updateSubscribe.dispose(),delete n.__updateSubscribe)};if(e.currentId=e.currentId+1,o="ClientPeoplePicker"+e.currentId,!i.isObservable(f))throw"clientPeoplePicker binding requires an observable";n.setAttribute("id",o);f._peoplePickerId=o+"_TopSpan";e.initPeoplePicker(o,s).done(function(i){f._peoplePicker=i;i.OnUserResolvedClientScript=function(r,u){var o=[],a=e.removeMultipleItem(n,u),v=i.HasInputError||i.HasServerError,s=!0,l=!1;t.each(a,function(n,t){/.*@hp\.com/ig.test(t.ResolveText)||t.Resolved&&/.*@hp\.com/ig.test(t.EntityData.Email)?(l=!0,t.Resolved?o.push(t.EntityData.Email.replace(/@hp\.com/ig,"@hpe.com")):o.push(t.ResolveText.replace(/@hp\.com/ig,"@hpe.com"))):t.Resolved?o.push({title:t.DisplayText,name:t.Key,email:t.EntityData.Email,sipAddress:t.EntityData.SIPAddress==""?null:t.EntityData.SIPAddress,type:t.EntityType}):s=!1});l?f(o):(!s&&v||s)&&(c(f),f(o),h(f))};e.updateUserValue(n,f,s);h(f)});i.utils.domNodeDisposal.addDisposeCallback(n,function(){typeof f.updateSubscribe!="undefined"&&(f.updateSubscribe.dispose(),delete f.updateSubscribe)})},initPeoplePicker:function(n,i){var u={PrincipalAccountType:"User, DL, SecGroup, SPGroup",SearchPrincipalSource:15,ResolvePrincipalSource:15,MaximumEntitySuggestions:10,width:"280px",AllowMultipleValues:typeof i.multiple!="undefined"&&i.multiple===!0},r=t.Deferred();return f(["sp.js","clienttemplates.js","clientforms.js","clientpeoplepicker.js","autofill.js"],function(){SPClientPeoplePicker_InitStandaloneControlWrapper(n,null,u);var t=SPClientPeoplePicker.SPClientPeoplePickerDict[n+"_TopSpan"];r.resolve(t)}),r.promise()},removeMultipleItem:function(n,i){var r=[],u=[];return typeof i!="undefined"&&i.length>0&&t.each(i,function(i,f){t.inArray(f.Key,r)!==-1?t(n).find(".sp-peoplepicker-resolveList [title='"+f.DisplayText+"']:eq(0)").parent().find(".sp-peoplepicker-delImage").click():(u.push(f),r.push(f.Key))}),u},getResolvedUserMails:function(n){var r=n.GetAllUserInfo(),i=[];return t.each(r,function(n,t){t.IsResolved&&i.push(t.EntityData.Email)}),i},getResolvedUserKeys:function(n){var r=n.GetAllUserInfo(),i=[];return t.each(r,function(n,t){t.IsResolved&&i.push(t.Key)}),i},updateUserValue:function(n,r,u){var e,o,f,s,c,l,h,a,v=t(n).attr("id"),y=i.bindingHandlers.clientPeoplePicker;a=t("#"+v);f=r._peoplePicker;c=y.getResolvedUserMails(f);l=y.getResolvedUserKeys(f);e=[];r()&&(t.isArray(r())?t.each(r(),function(n,t){e.push(t)}):e.push(r()));s=[];o=[];t.each(e,function(n,i){var r;typeof i!="undefined"&&(typeof i=="string"?r=i:typeof i=="object"&&(typeof i.email!="undefined"?r=i.email:typeof i.name!="undefined"&&(r=i.name)));o.push(r);typeof r!="undefined"&&t.inArray(r,l)===-1&&t.inArray(r,c)===-1&&s.push(r)});h=[];t.each(f.GetAllUserInfo(),function(n,i){t.inArray(i.Key,o)===-1&&(typeof i.EntityData=="undefined"||t.inArray(i.EntityData.Email,o)===-1)&&h.push(i.DisplayText)});t.each(h,function(n,t){typeof t!="undefined"&&t.length>0&&a.find(".sp-peoplepicker-resolveList [title='"+t+"']:eq(0)").parent().find(".sp-peoplepicker-delImage").click()});s.length>0&&f.AddUserKeys(s.join(";"));(typeof u.enable!="undefined"&&u.enable===!1||typeof u.disable!="undefined"&&u.enable===!0)&&(f.SetEnabledState(!1),t("#"+v+" .sp-peoplepicker-delImage").css("display","none"))}},{name:["PeoplePicker","sd-peoplepicker"],template:u,viewModel:{createViewModel:o}}});define("component/QuestionArea",function(n){"use strict";function s(n){if(n.substr(0,12)=="C:\\fakepath\\")return n.substr(12);var t;return(t=n.lastIndexOf("/"),t>=0)?n.substr(t+1):(t=n.lastIndexOf("\\"),t>=0)?n.substr(t+1):n}function u(n){var t;return t=n.lastIndexOf("."),t>=0?n.substr(t+1):""}function e(n){var i;i=t('[id="'+n.guid+'"] a[rel=popover]');i.popover({html:!0,trigger:"hover focus",delay:{hide:5e3},placement:function(n,i){var r=t(i).position();return r.left>515?"left":r.left<515?"right":r.top<110?"bottom":"auto"},title:function(){var n='<table border="0" width="100%"><tr>',i=t(this).data("file");return n+="<td>File Information: ",i!=null&&(n+=s(i)),n+='<\/td><td class="text-right"><a class="close" contenteditable="false" role="button" name="closePop">&nbsp;&times;<\/a><\/td>',n+"<\/tr><\/table>"},content:function(){var i='<div contenteditable="false">',r,f;r=t(this).data("file");f=u(r).toLowerCase();r=sp.app.config.ENV.SDDocLibUrl+n.opptyID()+"/"+r;switch(f){case"jpg":case"png":case"gif":i+='<img src="'+r+'" style="max-width:550px;max-height:550px;" />';i+="<hr>";break;case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":case"pdf":default:i+="<hr>"}return i+="<ul>",i+='<li><a href="'+r+'" title="'+r+'" download>Download a copy<\/a><\/li>',i+="<ul>",i+='<div class="text-right"><a style="cursor:hand;" class="btn btn-default" name="closePop">Close<\/a><\/div>',i+"<\/div>"}}).mouseover(function(n){n.target.nextSibling.id&&t("[rel=popover]").each(function(){t(this).is(n.target)||t(this).popover("hide")});var i=t(".popover").offset();i.top<30&&t(".popover").offset({top:30})})}function h(n,t){var i=n.indexOf(t);return n.substr(i+1,n.length)}function c(n){var i=n.fileUploader.prop("files")[0],t=u(i.name).toLowerCase();sp.app.workingDialog.show("Uploading...");f.uploadtoSpecificFolder(sp.app.config.ListCollection.SSDocLib,"/"+n.opptyID()+"/"+sp.app.config.ReleaseVersion,i.name,i).done(function(i){if(sp.app.workingDialog.hide("Uploading..."),i.status!=undefined&&i.status>300){f.errorUpdateSection(i,null,null);sp.app.workingDialog.show("Upload attachment failed");setTimeout(function(){sp.app.workingDialog.hide("Upload attachment failed")},5e3);return}var o=h(i.d.ServerRelativeUrl,"/"+sp.app.config.ReleaseVersion+"/"),r="",u=".gif";"jpg;#png;#gif;#doc;#docx;#xls;#xlsx;#ppt;#pptx".indexOf(t)==-1&&("#pdf".indexOf(t)!==-1?u=".png":t="disc");r='<a class="btn" rel="popover" data-file="'+o+'"><img style="width: 16px; height: 16px; border: 0" src="/_layouts/images/ic'+t+u+'" /><\/a>';n.editor.execCommand("mceInsertContent",!1,r);e(n)})}function l(n){t("#"+n+" .mceToolbar").hide()}function a(){}function v(n){n.opptyID(r.getUrlParameter("OpptyID"));y()}function y(){t(".popover").popover("hide");t(".popover").remove()}function p(n,u){var f,s;a();var o="";return o=n.inLoop?"code | styleselect | numlist outdent indent | table link image sd-attachment":"code | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify  bullist numlist outdent indent | table | link image sd-attachment",s=function(n){var u=this,f=r.newGuid();u.areaID=i.observable();u.inLoop=i.observable(!1);u.guid="sd-question-"+f;u.config={selector:"#sd-question-"+f,theme:"modern",menubar:!1,statusbar:!1,inline:!0,object_resizing:"table",fix_list_elements:!0,convert_urls:!1,end_container_on_empty_block:!0,fixed_toolbar_container:"#"+u.guid+"-container",plugins:["advlist autolink lists link pagebreak table code",],toolbar1:o,image_advtab:!0,file_browser_callback:function(n,i,r){return r=="image"&&t("#sd-img-"+u.guid).click(),!1},setup:function(n){u.editor=n;u.fileUploader=t("#"+u.guid+"-file");n.addButton("sd-attachment",{text:"",icon:"image",tooltip:"Add Attachment",onclick:function(){u.fileUploader.replaceWith(u.fileUploader=u.fileUploader.clone(!0));u.fileUploader.click()}});n.on("focus",function(){e(u)});n.on("init",function(){l(u.guid)});n.on("mouseup",function(n){n.target.nodeName.toLowerCase()=="a"&&n.target.name!="closePop"&&window.open(n.target.href,"_blank")});n.on("mousedown",function(n){if(n.target.nodeName.toLowerCase()=="a"&&n.target.name=="closePop"){n.preventDefault();return}});n.on("blur",function(){t(".popover").popover("hide");t(".popover").remove()});n.on("keydown",function(t,i){if(n.getBody().textContent!=""){var r=n.selection.getRng();r.startOffset===0&&i.keyCode===8&&t.preventDefault()}})}};u.editor={};u.fileUploader={};u.title=i.observable();u.opptyID=i.observable();u.version=i.observable(1);u.popoverInitialized=i.observable(!1);u.content=i.observable();u.hint=i.observable();u.mandatory=i.observable(!1);u.editable=i.observable(!1);u.attachmentSelected=function(){c(u)};u.viewExpand=i.observable(!1);u.editTimes=i.observable(0);u.answerVisible=i.observable(!0);u.isStartEdit=i.computed(function(){return u.editTimes()==0?n.content()==undefined||n.content()==""||n.content()=="<p><\/p>"?!1:!0:u.answerVisible()});u.unfoldAnsw=function(){u.isStartEdit()==!1?u.answerVisible(!0):u.answerVisible(!1);u.editTimes(1)};u.msoverHandler=function(){u.viewExpand(!0)};u.msoutHandler=function(){u.viewExpand(!1)};u.msupHandler=function(){return!u.isStartEdit()||!u.answerVisible()?!0:!1};n!==undefined&&(n.content!=undefined&&n.content!=null&&(u.content=typeof n.content=="function"?n.content:i.observable(n.content)),n.editable!==undefined&&u.editable(n.editable()),n.inLoop!==undefined&&u.inLoop(n.inLoop),n.title!==undefined&&u.title(n.title),n.opptyID!==undefined&&u.opptyID(n.opptyID),n.version!==undefined&&u.version(n.version),n.hint!==undefined&&u.hint(n.hint),n.mandatory!==undefined&&u.mandatory(n.mandatory));u.opptyID(r.getUrlParameter("OpptyID"));t(function(){t("body").on("click",function(n){u.editable()===!0&&t('[rel="popover"]').each(function(){t(this).is(n.target)||t(this).has(n.target).length!==0||t(".btn").has(n.target).length!==0||t(this).popover("hide")});n.target.name=="closePop"&&t(".popover").popover("hide")});t('a[rel="popover"]').mouseenter(function(n){return u.editable()===!1&&w(t(this),t(this).attr("data-file"),u),n.preventDefault(),n.stopPropagation(),!1})})},f=new s(n,u),v(f),f}function w(n,t,i){n.popover({html:!0,trigger:"click",placement:"auto",title:"File Information:"+t,content:function(){var n='<div contenteditable="false">',f="",r;f=u(t).toLocaleLowerCase();r=sp.app.config.ENV.SDDocLibUrl+i.opptyID()+"/"+t;switch(f){case"jpg":case"png":case"gif":n+='<img src="'+r+'" style="max-width:550px;max-height:550px;" />';n+="<hr>";break;case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":case"pdf":default:n+="<hr>"}return n+="<ul>",n+='<li><a href="'+r+'" title="'+r+'" download>Download a copy<\/a><\/li>',n+="<ul>",n+='<div class="text-right"><a style="cursor:hand;" class="btn btn-default closePop" name="closePop">Close<\/a><\/div>',n+"<\/div>"}})}var t=n("jquery"),i=n("knockout"),b=n("jasnybs"),k=n("ko_tinyMCE"),r=n("util/AppUtility"),f=n("model/RequestAPI"),d=n("ko_bootstrap"),o=n("text!./QuestionAreaTemplate.html");return{name:["QuestionArea","sd-questionarea"],template:o,viewModel:{createViewModel:p}}});define("component/AllOppty",function(n){"use strict";function o(){i("#table_sorting_paging").dataTable({retrieve:!0,paging:!1,dom:'T<"clear">lfrtip'})}function s(){}function h(n){l(n);i("body").show()}function c(n){s();var i=function(){var n=this;n.urlPrefix=sp.app.config.ENV.SDContentsUrl+"?OpptyID=";n.opptyList=r.observable()};return t=new i(n),h(t),t}function l(n){var t=n;sp.app.workingDialog.show("Retrieving All Opportunities..");u.getAllOpptyAsync().done(function(n){t.opptyList(n);sp.app.workingDialog.hide("Retrieving All Opportunities..");o()})}var i=n("jquery"),r=n("knockout"),a=n("dataTables"),u=n("model/RequestAPI"),f=n("text!./AllOpptyTemplate.html"),e=n("./TopLink"),t={};return{name:["AllOppty","sd-alloppty"],template:f,viewModel:{createViewModel:c},subComponents:[e]}});define("component/AppHome",function(n){"use strict";function e(){}function o(n){t("body").show();s(n)}function s(n){r.getMyOpptyAsyc().done(function(t){n.urlPrefix=sp.app.config.ENV.SDContentsUrl+"?OpptyID=";n.opptyList(t)})}function h(n){e();t("body").show();var r,u=function(){var n=this;n.opptyList=i.observable()};return r=new u(n),o(r),r}var t=n("jquery"),i=n("knockout"),r=n("model/RequestAPI"),u=n("text!./AppHomeTemplate.html"),f=n("./TopLinkHome");return{name:"AppHome",template:u,viewModel:{createViewModel:h},subComponents:[f]}});define("component/MyOppty",function(n){"use strict";function e(){t("#table_sorting_paging").dataTable({retrieve:!0,paging:!1,dom:'T<"clear">lfrtip'})}function o(){}function s(n){c(n);t("body").show()}function h(n){o();var t,r=function(){var n=this;n.urlPrefix=sp.app.config.ENV.SDContentsUrl+"?OpptyID=";n.opptyList=i.observable()};return t=new r(n),s(t),t}function c(n){var t=n;sp.app.workingDialog.show("Retrieving My Opportunities..");r.getMyOpptyAsyc().done(function(n){t.opptyList(n);sp.app.workingDialog.hide("Retrieving My Opportunities..");e()})}var t=n("jquery"),i=n("knockout"),l=n("dataTables"),r=n("model/RequestAPI"),u=n("text!./MyOpptyTemplate.html"),f=n("./TopLink");return{name:["MyOppty","sd-myoppty"],template:u,viewModel:{createViewModel:h},subComponents:[f]}});define("component/SDInputText",function(n){"use strict";function u(){}function f(n,r){u();var f=function(n){var i=this;i.content=n.content;i.type=t.observable("text");i.minVal=t.observable(0);i.editable=t.observable(!0);i.hint=t.observable();n!=undefined&&n!=null&&(n.type!=undefined&&i.type(n.type),n.minVal!=undefined&&i.minVal(n.minVal),n.editable()!=undefined&&i.editable(n.editable()),n.hint!==undefined&&i.hint(n.hint))};return i=new f(n,r)}var e=n("jquery"),t=n("knockout"),o=n("jasnybs"),r=n("text!./SDInputTextTemplate.html"),i={};return{name:["SDInputText","sd-inputtext"],template:r,viewModel:{createViewModel:f}}});define("component/SDErrorPage",function(n){"use strict";function i(){}function r(){i();return function(){var n=this}}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./SDErrorPageTemplate.html");return{name:["SDErrorPage","sd-errorpage"],template:t,viewModel:{createViewModel:r}}});define("component/CountrySelector",function(n){"use strict";function t(n,t){return{key:n,value:t}}function f(n,t){return{label:n,mapList:t}}function h(){}function c(){var t=[],r,n;for(r in i.data())for(n in u)i.data()[r]===u[n].key&&t.push(u[n].value);i.selectedcountries(t)}function l(n,t){h();var u=function(n){var t=this;t.guid="sd-cntry-"+e.newGuid();t.title=r.observable();t.data=n.data;t.editable=r.observable(!0);t.selectedcountries=r.observable();n!==undefined&&(n.editable!=undefined&&(i.editable=n.editable()),n.title!==undefined&&(i.title=n.title))};return i=new u(n,t),c(i),i}var a=n("jquery"),r=n("knockout"),v=n("jasnybs"),y=n("select2"),e=n("util/AppUtility"),o=n("text!./CountrySelectorTemplate.html"),i={},u,s;return r.bindingHandlers.option={update:function(n,t){var i=r.utils.unwrapObservable(t());r.selectExtensions.writeValue(n,i)}},u=[new t("AR","Argentina"),new t("BR","Brazil"),new t("CA","Canada"),new t("CL","Chile"),new t("CO","Colombia"),new t("CR","Costa Rica"),new t("MX","Mexico"),new t("OtherAMS","Other AMS"),new t("PA","Panama"),new t("PE","Peru"),new t("US","United States"),new t("AU","Australia"),new t("CN","China"),new t("HK","Hong Kong"),new t("IN","India"),new t("ID","Indonesia"),new t("JP","Japan"),new t("KR","Korea"),new t("MY","Malaysia"),new t("NZ","New Zealand"),new t("OtherAPJ","Other APJ"),new t("PH","Philippines"),new t("SG","Singapore"),new t("TW","Taiwan"),new t("TH","Thailand"),new t("VN","Vietnam"),new t("AT","Austria"),new t("BE","Belgium"),new t("BG","Bulgaria"),new t("CZ","Czech Republic"),new t("DK","Denmark"),new t("EG","Egypt"),new t("FI","Finland"),new t("FR","France"),new t("DE","Germany"),new t("GR","Greece"),new t("HU","Hungary"),new t("IE","Ireland"),new t("IL","Israel"),new t("IT","Italy"),new t("LU","Luxembourg"),new t("NL","Netherlands"),new t("NO","Norway"),new t("OtherEMEA","Other EMEA"),new t("PL","Poland"),new t("PT","Portugal"),new t("RO","Romania"),new t("RU","Russia"),new t("SA","Saudi Arabia"),new t("ZA","South Africa"),new t("ES","Spain"),new t("SE","Sweden"),new t("CH","Switzerland"),new t("TR","Turkey"),new t("AE","UAE"),new t("GB","United Kingdom")],s=[new f("AMS",[new t("AR","Argentina"),new t("BR","Brazil"),new t("CA","Canada"),new t("CL","Chile"),new t("CO","Colombia"),new t("CR","Costa Rica"),new t("MX","Mexico"),new t("OtherAMS","Other AMS"),new t("PA","Panama"),new t("PE","Peru"),new t("US","United States")]),new f("APJ",[new t("AU","Australia"),new t("CN","China"),new t("HK","Hong Kong"),new t("IN","India"),new t("ID","Indonesia"),new t("JP","Japan"),new t("KR","Korea"),new t("MY","Malaysia"),new t("NZ","New Zealand"),new t("OtherAPJ","Other APJ"),new t("PH","Philippines"),new t("SG","Singapore"),new t("TW","Taiwan"),new t("TH","Thailand"),new t("VN","Vietnam")]),new f("EMEA",[new t("AT","Austria"),new t("BE","Belgium"),new t("BG","Bulgaria"),new t("CZ","Czech Republic"),new t("DK","Denmark"),new t("EG","Egypt"),new t("FI","Finland"),new t("FR","France"),new t("DE","Germany"),new t("GR","Greece"),new t("HU","Hungary"),new t("IE","Ireland"),new t("IL","Israel"),new t("IT","Italy"),new t("LU","Luxembourg"),new t("NL","Netherlands"),new t("NO","Norway"),new t("OtherEMEA","Other EMEA"),new t("PL","Poland"),new t("PT","Portugal"),new t("RO","Romania"),new t("RU","Russia"),new t("SA","Saudi Arabia"),new t("ZA","South Africa"),new t("ES","Spain"),new t("SE","Sweden"),new t("CH","Switzerland"),new t("TR","Turkey"),new t("AE","UAE"),new t("GB","United Kingdom")])],{name:["CountrySelector","sd-countryselector"],template:o,viewModel:{createViewModel:l}}});define("component/ReviewAndExtract",function(n){"use strict";function vt(){t(".navmenu").offcanvas({autohide:!1,recalc:!1,toggle:!1,canvas:"#sd-section-detail"})}function yt(){t("body").show()}function pt(n){n.opptyID(at.getUrlParameter("OpptyID"));n.opptyID()===""?r.errorOppty("400"):(sp.app.workingDialog.show("Retrieving Document..."),r.getOpptyByIDSync(n.opptyID()).done(function(t){if(t.status!=undefined&&t.status>=400)r.errorOppty(""+t.status);else if(t.data!=undefined&&t.data!=null){n.document(t.data);var i=t.data.opptyOverview.opptyData.data;n.pursuitClassfication(i.pursuitClassfication);i.involvedGbu!=null&&i.involvedGbu.apps!=null&&(n.involvedGbu("apps"),n.appsInscope(i.involvedGbu.apps.inScope));n.sectionNavigator(r.createSectionModel(n.pursuitClassfication(),n.involvedGbu(),n.appsInscope()))}sp.app.workingDialog.hide("Retrieving Document...")}))}function wt(n,f){vt();var e=function(){var n=this;n.document=i.observable();n.editable=i.observable(!1);n.opptyID=i.observable();n.sdContentUrl=sp.app.config.ENV.SDContentsUrl;n.pursuitClassfication=i.observable();n.sectionNavigator=i.observable();n.involvedGbu=i.observable();n.appsInscope=i.observable();pt(n);t("#sd-section-navbtn").click(function(n){r.FixWorkspace();n.preventDefault()});t("a").on("click",function(){var n=t(this).attr("href");r.FixWorkspace()});t("a[href='#top']").on("click",function(){return t(window).scrollTop(0),!1})};return u=new e(n,f),yt(u),u}var t=n("jquery"),i=n("knockout"),f=n("./TopLink"),r=n("model/RequestAPI"),e=n("text!./ReviewAndExtractTemplate.html"),o=n("./Section0201"),s=n("./Section0202"),h=n("./Section0301"),c=n("./Section030201"),l=n("./Section030202"),a=n("./Section030203"),v=n("./Section030204"),y=n("./Section040101"),p=n("./Section040102"),w=n("./Section0402"),b=n("./Section040301"),k=n("./Section040302"),d=n("./Section040303"),g=n("./Section040304"),nt=n("./Section040305"),tt=n("./Section040306"),it=n("./Section040307"),rt=n("./Section0404"),ut=n("./Section040501"),ft=n("./Section040502"),et=n("./Section040503"),ot=n("./Section040504"),st=n("./Section040505"),ht=n("./Section040506"),ct=n("./Section0406"),lt=n("./Section0407"),at=n("util/AppUtility"),u={};return{name:["ReviewAndExtract","sd-review-extract"],template:e,viewModel:{createViewModel:wt},subComponents:[o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,f]}});define("component/AttachmentManager",function(n){"use strict";function a(){i(window).off("sectionChanging");i(window).on("opptySaving",function(){i(document).undelegate("[id^=sd-file-]","click");t.attachmentVisible&&r()})}function e(n,t,i,r,u){this.title=n;this.link=t;this.fileName=i;this.fileUrl=r;this.fileTag=u}function v(){a();i(function(n){n(window).bind("mousewheel",function(){t.attachmentVisible&&r()})})}function u(){i(".popover-option").popover("show");t.attachmentVisible=!0}function r(){i(".popover-option").popover("hide");t.attachmentVisible=!1}function y(){function n(){i(".popover-option").popover({html:!0,content:function(){return i("#div-attachmentReview").html()}})}i(n());i(".popover-option").off("click");i(".popover-option").click(function(n){i(".popover-option").popover("toggle");n.stopPropagation();t.attachmentVisible?r():u()});i(document).delegate("[id^=sd-file-]","click",function(n){n.stopPropagation();var r=i(this).attr("id"),f=r.substring(8);t.removeFile(f);u();return});i(document).delegate("#sd-popover-close","click",function(n){n.stopPropagation();i(".popover-option").popover("toggle");r()});t.editable()||o()}function o(){var n,i;t.fileList([]);for(n in t.attachment())i=s(t.attachment()[n].title),t.fileList.push(new e(t.attachment()[n].title,t.linkBaseUrl+t.attachment()[n].title,t.attachment()[n].title,t.attachmentBaseUrl()+t.attachment()[n].title,i))}function p(){t.attachmentLoaded||(o(),t.attachmentLoaded=!0)}function w(n){var t=this;t.guid="sd-clientArchitecture-"+l.newGuid();t.baseUrl="/"+n.section.opptyID+"/";t.attachmentSelected=function(){k(t)};t.chooseFile=function(){i("#"+t.guid+"-file").click()}}function b(n){var t;return t=n.lastIndexOf("."),t>=0?n.substr(t+1):""}function s(n){var t=b(n).toLowerCase(),i=".gif";return"jpg;#png;#gif;#doc;#docx;#xls;#xlsx;#ppt;#pptx".indexOf(t)==-1&&("#pdf".indexOf(t)!==-1?i=".png":t="disc"),"/_layouts/images/ic"+t+i}function k(n){var r=i("#"+n.guid+"-file").prop("files")[0];sp.app.fileUploadinDialog.show("Uploading files ...");c.uploadtoSpecificFolder(sp.app.config.ListCollection.SSDocLib,n.baseUrl+sp.app.config.ReleaseVersion,r.name,r).done(function(n){sp.app.fileUploadinDialog.hide("Uploading files ...");var i=n.d.ServerRelativeUrl,f=s(r.name);t.attachment.push({title:r.name,link:sp.app.config.ReleaseVersion+"/"+r.name});t.attachmentLoaded&&t.fileList.push(new e(r.name,sp.app.config.ReleaseVersion+"/"+r.name,r.name,i,f));u()})}function d(n){v();var i=function(n){var t=this;t.linkBaseUrl="/"+n.viewModel.section.opptyID+"/";t.attachmentBaseUrl=f.observable(sp.app.config.ENV.SDDocLibUrl+n.viewModel.section.opptyID+"/"+sp.app.config.ReleaseVersion+"/");t.attachment=n.viewModel.section.data.attachment;t.editable=n.viewModel.editable;t.attachment.subscribe(p);t.fileList=f.observableArray();t.fileUploader=new w(n.viewModel);t.attachmentLoaded=!1;t.attachmentVisible=!1;t.removeFile=function(n){var r=t.attachment(),i;r.splice(n,1);t.attachment(r);i=t.fileList();i.splice(n,1);t.fileList(i)}};return t=new i(n),y(),t}var i=n("jquery"),f=n("knockout"),g=n("jasnybs"),h=n("text!./AttachmentManagerTemplate.html"),c=n("model/RequestAPI"),l=n("util/AppUtility"),t={};return{name:["AttachmentManager","sd-component-attachmentmanager"],template:h,viewModel:{createViewModel:d}}});define("component/DollarFormatter",function(n){"use strict";function u(n){var r=function(n){var t=this;t.dollarValue=n.dollarValue;t.getFormattedDollar=function(n){for(var u=n.toString(),t="",f=u.length,i=0,r=f-1;r>=0;--r)i=i+1,t=u.charAt(r)+t,i%3==0&&i<f&&(t=","+t);return"$"+t};t.formattedDollar=i.observable(t.getFormattedDollar(t.dollarValue()))};return t=new r(n)}var f=n("jquery"),i=n("knockout"),e=n("jasnybs"),r=n("text!./DollarFormatterTemplate.html"),t={};return{name:["DollarFormatter","sd-component-dollarformatter"],template:r,viewModel:{createViewModel:u}}});define("component/Section0201",function(n){"use strict";function g(){u(window).off("opptySaving");u(window).on("opptySaving",ut);u(window).off("updateSection");u(window).on("updateSection",function(n,t){c(t)})}function nt(){g();o()}function o(){u(".inputUSD").NumBox({symbol:"$",max:Math.pow(10,20),min:0,places:0})}function tt(){t.section.opptyID=r.opptyID();t.section.opptyID===""?t.isNewOppty(!0):c()}function c(n){var i,u;n&&(r=n);t.editable(r.editable());i=r.document();i===undefined?ft(t.section.opptyID):i.opptyOverview!==undefined&&i.opptyOverview.opptyData!==undefined&&(u=i.opptyOverview.opptyData.data,l(u))}function s(n){n=n.toLowerCase();switch(n){case"ams":t.data.region.ams().inScope(!0);break;case"apj":t.data.region.apj().inScope(!0);break;case"emea":t.data.region.emea().inScope(!0);break;case"na":t.data.region.ams().inScope(!1);t.data.region.apj().inScope(!1);t.data.region.emea().inScope(!1)}n=="na"?(t.data.leadRegion("NA"),r.document()!==null&&r.document()!==undefined&&(r.document().opptyOverview.opptyData.data.leadRegion="NA")):(t.data.leadRegion(n),r.document()!==null&&r.document()!==undefined&&(r.document().opptyOverview.opptyData.data.leadRegion=n))}function it(n){if(typeof n=="string"){var t=u('[id="sd-leadCntry"] option[value="'+n+'"]').parent().attr("label");n!="NA"&&t!==undefined&&t!==null&&s(t);n=="NA"&&s("NA")}}function e(n,i){switch(i){case"apps":n||(t.data.involvedGbu.apps().tcv(0),t.data.involvedGbu.apps().fyr(0));break;case"bps":n||(t.data.involvedGbu.bps().tcv(0),t.data.involvedGbu.bps().fyr(0));break;case"ito":n||(t.data.involvedGbu.ito().tcv(0),t.data.involvedGbu.ito().fyr(0));break;case"ess":n||(t.data.involvedGbu.ess().tcv(0),t.data.involvedGbu.ess().fyr(0));break;case"hpeOther":n||(t.data.involvedGbu.hpeOther().tcv(0),t.data.involvedGbu.hpeOther().fyr(0));break;case"hpi":n||(t.data.involvedGbu.hpi().tcv(0),t.data.involvedGbu.hpi().fyr(0))}}function h(n,i){t.isNewOppty()||(r.document().opptyOverview.opptyData.data.region[i].inScope=n)}function rt(){return lt()===!0&&v(t.data.opptyID())===!0&&yt()===!0&&at()===!0?!0:!1}function ut(n,r){if(rt()===!0){var u=r.sid();if(u!=="0201")return;if(vt(t)!==!0&&confirm("The Opportunity TCV should be equal to the combined total of all GBU TCV. The Opportunity FYR should be equal to the combined total of all GBU FYR.Are you sure to save?")===!1)return;t.isNewOppty()?(sp.app.workingDialog.show("Saving opportunity overview."),f.createOpptyDocument(i.toJS(t.data)).done(function(n){sp.app.workingDialog.hide("Saving opportunity overview.");f.errorUpdateSection(n,u,t.section.opptyID);n!=undefined&&n.status==undefined&&(u="0202",window.location.href=sp.app.config.ENV.SectionLoaderUrl+"?sid="+u+"&OpptyID="+t.data.opptyID())})):(t.data.pursuitWeb.link(t.data.pursuitWeb.link()),f.unifiedSave(!0,i.toJS(t.data),r))}}function ft(n){var i=window.localStorage.getItem(n+"_"+t.section.name);sp.app.workingDialog.show("Loading opportunity overview .");f.getSectionByIDAndSectionNameAsync(n,t.section.name).done(function(i,r){if(sp.app.workingDialog.hide("Loading opportunity overview ."),i.data===undefined)t.data.opptyID(n);else{t.section.eTag=r.getResponseHeader("ETag");var u=i.data.opptyOverview.opptyData.data;l(u)}}).then(function(){})}function l(n){t.data.opptyID(n.opptyId);t.data.opptyName(n.opptyName);t.data.salesStage(n.salesStage);t.data.opptyType(n.opptyType);t.data.dealStatus(n.dealStatus);t.data.clientName(n.clientName);t.data.opptyTcv(n.opptyTcv);t.data.opptyFyr(n.opptyFyr);t.data.leadBizUnit(n.leadBizUnit);t.data.contractTerm(n.contractTerm);t.data.leadCntry(n.leadCntry);t.salesStageName(u("#sd-SalesStage option[value='"+n.salesStage+"']").attr("label"));t.leadCntryName(u("#sd-Cntry option[value='"+n.leadCntry+"']").attr("label"));t.data.clientCntry(n.clientCntry);t.clientCntryName(u("#sd-Cntry option[value='"+n.clientCntry+"']").attr("label"));t.data.involvedGbu.apps().inScope(n.involvedGbu.apps.inScope);t.data.involvedGbu.bps().inScope(n.involvedGbu.bps.inScope);t.data.involvedGbu.ito().inScope(n.involvedGbu.ito.inScope);t.data.involvedGbu.hpeOther().inScope(n.involvedGbu.hpeOther.inScope);t.data.involvedGbu.ess().inScope(n.involvedGbu.ess.inScope);t.data.involvedGbu.hpi().inScope(n.involvedGbu.hpi.inScope);t.data.involvedGbu.apps().tcv(n.involvedGbu.apps.tcv);t.data.involvedGbu.bps().tcv(n.involvedGbu.bps.tcv);t.data.involvedGbu.ito().tcv(n.involvedGbu.ito.tcv);t.data.involvedGbu.hpeOther().tcv(n.involvedGbu.hpeOther.tcv);t.data.involvedGbu.ess().tcv(n.involvedGbu.ess.tcv);t.data.involvedGbu.hpi().tcv(n.involvedGbu.hpi.tcv);t.data.involvedGbu.apps().fyr(n.involvedGbu.apps.fyr);t.data.involvedGbu.bps().fyr(n.involvedGbu.bps.fyr);t.data.involvedGbu.ito().fyr(n.involvedGbu.ito.fyr);t.data.involvedGbu.hpeOther().fyr(n.involvedGbu.hpeOther.fyr);t.data.involvedGbu.ess().fyr(n.involvedGbu.ess.fyr);t.data.involvedGbu.hpi().fyr(n.involvedGbu.hpi.fyr);t.data.clientCntry(n.clientCntry);n.contractSignDate!=null&&t.data.contractSignDate(n.contractSignDate);n.contractStartDate!=null&&t.data.contractStartDate(n.contractStartDate);t.data.pursuitClassfication(n.pursuitClassfication);t.data.solnGovTrack(n.solnGovTrack);t.data.region.ams().inScope(n.region.ams.inScope);t.data.region.apj().inScope(n.region.apj.inScope);t.data.region.emea().inScope(n.region.emea.inScope);t.data.pursuitWeb.title(n.pursuitWeb.title);t.data.pursuitWeb.link(n.pursuitWeb.link);o()}function et(n){n!==undefined&&n!==""&&(sp.app.workingDialog.show("Loading opportunity data from grip."),f.getOpptyByIDAsync(n).done(function(i){sp.app.workingDialog.hide("Loading opportunity data from grip.");i.status=="404"?(t.existedInSystem(!1),t.isNewOppty(!0),sp.app.workingDialog.show("Checking if the opportunity is existed on server."),b.getOpptyOverviewAsync(n).done(function(n){var i,r,f,e,s,h,c,l;sp.app.workingDialog.hide("Checking if the opportunity is existed on server.");n==undefined?t.existedInSalesForce(!1):(t.existedInSalesForce(!0),t.data.opptyID(n.opptyID),t.data.opptyName(n.opptyName),t.data.salesStage(n.salesStage.substr(0,2)),t.data.opptyType(n.opptyType),t.data.dealStatus(n.dealStatus),t.data.clientName(n.clientName),i=n.opptyTcv.replace("$",""),i!=""&&t.data.opptyTcv(Math.floor(parseFloat(i.split(",").join("")))),r=n.opptyFyr.replace("$",""),r!=""&&t.data.opptyFyr(Math.floor(parseFloat(r.split(",").join("")))),t.data.contractTerm(n.contractTerm),t.data.contractSignDate(w.transformIOSDateToen(n.contractSignDate)),u("#sd-leadCntry option[label='"+n.leadCntry+"']").attr("selected",!0),t.data.leadCntry(u("#sd-leadCntry option[label='"+n.leadCntry+"']").attr("value")),u("#sd-clientCntry option[label='"+n.clientCntry+"']").attr("selected",!0),t.data.clientCntry(u("#sd-clientCntry option[label='"+n.clientCntry+"']").attr("value")),t.data.leadRegion(n.region),f=n.apps.replace("$",""),f!==""&&(e=Math.floor(parseFloat(f.split(",").join(""))),e>0&&(t.data.involvedGbu.apps().inScope(!0),t.data.involvedGbu.apps().tcv(e))),s=n.bps.replace("$",""),s!==""&&(h=Math.floor(parseFloat(s.split(",").join(""))),h>0&&(t.data.involvedGbu.bps().inScope(!0),t.data.involvedGbu.bps().tcv(h))),c=n.ito.replace("$",""),c!==""&&(l=Math.floor(parseFloat(c.split(",").join(""))),l>0&&(t.data.involvedGbu.ito().inScope(!0),t.data.involvedGbu.ito().tcv(l))),o())})):t.isNewOppty()&&t.existedInSystem(!0)}))}function ot(){var n={opptyID:i.observable(),opptyName:i.observable(),salesStage:i.observable(),opptyType:i.observable(),dealStatus:i.observable(),clientName:i.observable(),opptyTcv:i.observable(0),opptyFyr:i.observable(0),leadBizUnit:i.observable("ito"),involvedGbu:{apps:i.observable({inScope:i.observable(!1),tcv:i.observable(0),fyr:i.observable(0)}),bps:i.observable({inScope:i.observable(!1),tcv:i.observable(0),fyr:i.observable(0)}),ess:i.observable({inScope:i.observable(!1),tcv:i.observable(0),fyr:i.observable(0)}),ito:i.observable({inScope:i.observable(!1),tcv:i.observable(0),fyr:i.observable(0)}),hpeOther:i.observable({inScope:i.observable(!1),tcv:i.observable(0),fyr:i.observable(0)}),hpi:i.observable({inScope:i.observable(!1),tcv:i.observable(0),fyr:i.observable(0)})},contractTerm:i.observable(0),contractSignDate:i.observable(),contractStartDate:i.observable(),pursuitClassfication:i.observable(),solnGovTrack:i.observable(),leadCntry:i.observable(),leadRegion:i.observable(),region:{ams:i.observable({inScope:i.observable(!1)}),apj:i.observable({inScope:i.observable(!1)}),emea:i.observable({inScope:i.observable(!1)})},clientCntry:i.observable(),pursuitWeb:{title:i.observable(""),link:i.observable("")}};return n.leadCntry.subscribe(it),n.leadRegion.subscribe(s),n.pursuitClassfication.subscribe(function(n){n!=""&&(r.pursuitClassfication(n),r.sectionNavigator(f.createSectionModel(n,r.involvedGbu(),r.appsInscope())))}),n.involvedGbu.apps().inScope.subscribe(function(n){e(n,"apps");r.involvedGbu("apps");r.appsInscope(n);r.sectionNavigator(f.createSectionModel(r.pursuitClassfication(),"apps",n))}),n.involvedGbu.bps().inScope.subscribe(function(n){e(n,"bps")}),n.involvedGbu.ito().inScope.subscribe(function(n){e(n,"ito")}),n.involvedGbu.ess().inScope.subscribe(function(n){e(n,"ess")}),n.involvedGbu.hpeOther().inScope.subscribe(function(n){e(n,"hpeOther")}),n.involvedGbu.hpi().inScope.subscribe(function(n){e(n,"hpi")}),n.region.apj().inScope.subscribe(function(n){h(n,"apj")}),n.region.ams().inScope.subscribe(function(n){h(n,"ams")}),n.region.emea().inScope.subscribe(function(n){h(n,"emea")}),n}function st(){t.data.opptyName("");t.data.salesStage("");t.data.opptyType("");t.data.dealStatus("");t.data.clientName("");t.data.opptyTcv(0);t.data.opptyFyr(0);t.data.leadBizUnit("ito");t.data.involvedGbu.apps().tcv(0);t.data.involvedGbu.apps().fyr(0);t.data.involvedGbu.apps().inScope(!1);t.data.involvedGbu.bps().tcv(0);t.data.involvedGbu.bps().fyr(0);t.data.involvedGbu.bps().inScope(!1);t.data.involvedGbu.ito().tcv(0);t.data.involvedGbu.ito().fyr(0);t.data.involvedGbu.ito().inScope(!1);t.data.involvedGbu.ess().tcv(0);t.data.involvedGbu.ess().fyr(0);t.data.involvedGbu.ess().inScope(!1);t.data.involvedGbu.hpeOther().tcv(0);t.data.involvedGbu.hpeOther().fyr(0);t.data.involvedGbu.hpeOther().inScope(!1);t.data.involvedGbu.hpi().tcv(0);t.data.involvedGbu.hpi().fyr(0);t.data.involvedGbu.hpi().inScope(!1);t.data.contractTerm(0);t.data.contractSignDate("");t.data.contractStartDate("");t.data.pursuitClassfication("");t.data.solnGovTrack("");t.data.leadCntry("NA");t.data.region.ams().inScope(!1);t.data.region.apj().inScope(!1);t.data.region.emea().inScope(!1);t.data.leadRegion("NA");t.data.clientCntry("NA");t.data.pursuitWeb.title("");t.data.pursuitWeb.link("");o()}function ht(n){r=n.viewModel;nt();var u=function(){var n=this;n.section={opptyID:"",eTag:"",name:"opportunity-data"};n.isNewOppty=i.observable(!1);n.existedInSystem=i.observable(!1);n.existedInSalesForce=i.observable(!0);n.contractSignDateString="";n.data=new ot;n.editable=i.observable(!0);n.inputOpptyId=i.observable();n.inputOpptyId.subscribe(a);n.leadCntryName=i.observable();n.clientCntryName=i.observable();n.salesStageName=i.observable();n.validId=i.observable();n.loadGrip=function(){a()}};return t=new u(n),tt(),t}function ct(n){var r,t;n.data.opptyTcv()===""&&n.data.opptyTcv(0);n.data.opptyFyr()===""&&n.data.opptyFyr(0);r=i.toJS(n.data.involvedGbu);for(t in r)r[t].tcv===""&&n.data.involvedGbu[t]().tcv(0),r[t].fyr===""&&n.data.involvedGbu[t]().fyr(0)}function a(n){st();n!=""&&v(n)?(t.validId(!0),et(n)):t.validId(!1)}function v(n){var t=/^OP[PE]-\d{10}$/,i=t.test(n);return t.test(n)?!0:(alert("Please check the opportunity format"),!1)}function lt(){return t.isNewOppty()&&t.data.opptyID(t.inputOpptyId()),t.data.opptyID()!==""&&t.data.salesStage()!==""&&t.data.clientName()!==""&&t.data.opptyType()!==""&&t.data.pursuitClassfication()!=="NA"&&(t.data.region.ams().inScope()||t.data.region.apj().inScope()||t.data.region.emea().inScope())?!0:(alert("Please check the required fields"),!1)}function at(){var n,r,u;ct(t);n=!0;r=i.toJS(t.data.involvedGbu);parseInt(t.data.opptyTcv())<parseInt(t.data.opptyFyr())&&(n=!1);for(u in r)if(parseInt(r[u].tcv)<parseInt(r[u].fyr)){n=!1;break}return n||alert("Please ensure that TCV is larger than FYR !"),o(),n}function vt(n){var t=i.toJS(n.data.involvedGbu),u=0,f=0,r;n.data.opptyTcv()!==""&&(u=parseInt(n.data.opptyTcv()));n.data.opptyFyr()!==""&&(f=parseInt(n.data.opptyFyr()));for(r in t)t[r].tcv!==""&&(u-=parseInt(t[r].tcv)),t[r].fyr!==""&&(f-=parseInt(t[r].fyr));return u===0&&f===0?!0:!1}function yt(){if(t.data.contractSignDate()!==""&&t.data.contractStartDate()!==""&&t.data.contractSignDate()!==undefined&&t.data.contractStartDate()!==undefined){var n=new Date(t.data.contractSignDate()).format("MMM d yyyy"),i=new Date(t.data.contractStartDate()).format("MMM d yyyy");return Date.parse(n)<Date.parse(i)||Date.parse(n)===Date.parse(i)?!0:(alert("Contract sign date must be before or equal to contract start date !"),!1)}return t.data.contractStartDate()===""||t.data.contractStartDate()===undefined?!0:(alert("Contract sign date must be before or equal to contract start date !"),!1)}var u=n("jquery"),i=n("knockout"),pt=n("jasnybs"),y=n("./DateTimePicker"),p=n("text!./Section0201Template.html"),w=n("util/AppUtility"),b=n("model/Oppty"),k=n("./SDInputText"),wt=n("numBox"),f=n("model/RequestAPI"),d=n("./DollarFormatter"),t={},r={};return{name:["Section0201","sd-section-0201"],template:p,viewModel:{createViewModel:ht},subComponents:[y,k,d]}});define("component/Section0202",function(n){"use strict";function v(){r(".popover-options a").popover({html:!0});r(".popover-show").popover("hide")}function h(n){this.title=n.title;this.name=n.name;this.email=n.email;this.sipAddress=n.sipAddress;this.type=n.type}function y(n,t){this.data=n;this.isEmpty=t}function p(){r(window).off("opptySaving");r(window).on("opptySaving",k);r(window).off("updateSection");r(window).on("updateSection",function(n,t){c(t)})}function v(){p()}function w(){if(i.section.opptyID=u.opptyID(),i.editable())c();else{var n=u.document();n!=undefined&&n.opptyOverview!=null&&n.opptyOverview.contact!=null&&o(n)}}function c(n){var t,r;n&&(u=n);t=u.document();t===undefined?b():(r=t.opptyOverview,r!=null&&r.contact!=null?o(t):(i.pageInited(!0),s()))}function f(n,t){this.name=n;this.title=t}function b(){i.section.opptyID===""||e.getSectionByIDAndSectionNameAsync(i.section.opptyID,i.section.name).done(function(n,t){if(n.status!=undefined&&n.status==404)e.errorOppty("404");else{var r=n.data.opptyOverview;r!=null&&r.contact!=null?(i.section.eTag=t.getResponseHeader("ETag"),o(n.data)):(i.pageInited(!0),s())}})}function o(n){var e,f,u,t,r;s();e=n.opptyOverview.contact.data;f=e.coreTeam;for(t in f)for(r in f[t])f[t][r]!=null&&i.data.coreTeam[t][r](f[t][r]);u=e.extendTeam;for(t in u)for(r in u[t])r=="dueDiligenceLead"?u[t][r]!=null&&i.data.extendTeam[t][r](u[t][r]):u[t][r]!=null&&i.data.extendTeam[t][r](u[t][r]);i.pageInited(!0)}function s(){var o=u.document(),n;if(o!==undefined){var r=o.opptyOverview.opptyData.data,e=r.region,t=1;if(r.leadRegion!=="NA"){i.leadRegion(new f(r.leadRegion,r.leadRegion.toUpperCase()));for(n in e)n!=i.leadRegion().name&&n!=i.leadRegion().name&&e[n].inScope&&(t=t+1,t==2&&i.secondRegion(new f(n,n.toUpperCase())),t==3&&i.thirdRegion(new f(n,n.toUpperCase())))}else for(n in e)e[n].inScope&&(t=t+1,t==2&&i.leadRegion(new f(n,n.toUpperCase())),t==3&&i.secondRegion(new f(n,n.toUpperCase())),t==4&&i.thirdRegion(new f(n,n.toUpperCase())))}}function k(n,t){var f=t.sid(),u;if(f==="0202"){if(!i.pageInited()){console.log("page has not been inited !");return}u=function(){if(r(".sp-peoplepicker-waitImg:visible").length>0)setTimeout(u,250);else{var n=d();n.isEmpty?alert("Fill in one contact at least!"):e.unifiedSave(!0,n.data,t)}};setTimeout(u,250)}}function d(){var o=!0,u=t.toJS(i.data),e=u.coreTeam,f,n,r,s;for(n in e)for(r in e[n])e[n][r]!=undefined&&e[n][r].length!=0&&e[n][r][0]!=undefined?(o=!1,s=new h(e[n][r][0]),u.coreTeam[n][r]=s):u.coreTeam[n][r]===undefined?u.coreTeam[n][r]=null:e[n][r]!==null&&e[n][r].length===0?u.coreTeam[n][r]=null:o=!1;f=u.extendTeam;for(n in f)for(r in f[n])r=="dueDiligenceLead"?f[n][r]!=undefined&&f[n][r].length!=0&&f[n][r][0]!=undefined?(o=!1,s=new h(f[n][r][0]),u.extendTeam[n][r]=s):u.extendTeam[n][r]===undefined?u.extendTeam[n][r]=null:f[n][r]!==null&&f[n][r].length===0?u.extendTeam[n][r]=null:o=!1:f[n][r].length>0&&(o=!1,u.extendTeam[n][r]=f[n][r]);return new y(u,o)}function g(n){u=n.viewModel;v();var f=function(){var n=this;n.section={opptyID:"",eTag:"",name:"contacts"};n.editable=t.observable(u.editable());n.data={coreTeam:{primary:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()},ams:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()},apj:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()},emea:{acctExecutive:t.observable(),bidMgr:t.observable(),dealAnalyst:t.observable(),deliveryOwner:t.observable(),hrLead:t.observable(),legalContractMgmtLead:t.observable(),opptyConsultant:t.observable(),proposalMgr:t.observable(),pursuitEngagementMgr:t.observable(),salesExecutive:t.observable(),solnConsultant:t.observable(),solnLead:t.observable(),strategicPursuitLead:t.observable(),tntLead:t.observable()}},extendTeam:{primary:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()},ams:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()},apj:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()},emea:{dealIntake:t.observableArray(),dueDiligenceLead:t.observable(),otherIntlBizPartner:t.observableArray(),practiceArch:t.observableArray(),proposalSupport:t.observableArray()}}};n.roleCollection=["Account Executive","Bid Manager","Deal Analyst","Delivery Owner","HR Lead","Legal/Contract Management Lead","Opportunity Consultant","Proposal Manager","Pursuit Engagement Manager","Sales Executive","Solution Consultant","Solution Lead","Strategic Pursuit Lead","T&T Leader"];n.extendRoleCollection=["Deal Intake (multiple rows/names)","Due Diligence Leader","Other Internal Business Partners (multiple rows/names)","Practice Architects (multiple rows/names)","Proposal Support (multiple rows/names)"];n.involvedRegion=t.observableArray();n.leadRegion=t.observable();n.secondRegion=t.observable();n.thirdRegion=t.observable();n.opptyItem=t.observable();n.pageInited=t.observable(!1);n.peoplePickerInited=t.observable(!0);n.save=function(){r(window).trigger("opptySaving",n)}};return i=new f(n),w(),i}var r=n("jquery"),t=n("knockout"),nt=n("jasnybs"),l=n("./PeoplePicker"),a=n("text!./Section0202Template.html"),tt=n("model/Oppty"),e=n("model/RequestAPI"),i={},u={};return{name:["Section0202","sd-section-0202"],template:a,viewModel:{createViewModel:g},subComponents:[l]}});define("component/Section0301",function(n){"use strict";function l(n){n!=undefined&&n!=null&&(this.clientRevenue=r(n.clientRevenue()),this.explainImpact=r(n.explainImpact()),this.priBizChlgDetail=r(n.priBizChlgDetail()),this.clientCompellingEventDetail=r(n.clientCompellingEventDetail()),this.curItStateDetail=r(n.curItStateDetail()),this.keyDifferentiation=r(n.keyDifferentiation()),this.buRelationDetail=r(n.buRelationDetail()),this.hpiRelationDetail=r(n.hpiRelationDetail()),this.clientFcnDetail=r(n.clientFcnDetail()),this.clientDecisionCriteriaDetail=r(n.clientDecisionCriteriaDetail()),this.clientProcApproach=n.clientProcApproach(),this.accountDeliveryMgmtDetail=r(n.accountDeliveryMgmtDetail()))}function r(n){return n===undefined||n===null?null:escape(n)}function u(n){return n!=undefined&&n!=null?unescape(n):null}function a(n){t.data.clientRevenue(u(n.clientRevenue));t.data.explainImpact(u(n.explainImpact));t.data.priBizChlgDetail(u(n.priBizChlgDetail));t.data.clientCompellingEventDetail(u(n.clientCompellingEventDetail));t.data.curItStateDetail(u(n.curItStateDetail));t.data.keyDifferentiation(u(n.keyDifferentiation));t.data.buRelationDetail(u(n.buRelationDetail));t.data.hpiRelationDetail(u(n.hpiRelationDetail));t.data.clientFcnDetail(u(n.clientFcnDetail));t.data.clientDecisionCriteriaDetail(u(n.clientDecisionCriteriaDetail));t.data.clientProcApproach(n.clientProcApproach);t.data.accountDeliveryMgmtDetail(u(n.accountDeliveryMgmtDetail))}function v(){e(window).off("opptySaving");e(window).on("opptySaving",b);e(window).off("updateSection");e(window).on("updateSection",function(n,t){o(t)})}function y(){v()}function p(){}function w(n){y();f=n.viewModel;var r=function(){var n=this;n.pursuitClassfication=i.observable();n.editable=i.observable(!0);n.draftData=i.observable();n.data={clientRevenue:i.observable(""),explainImpact:i.observable(""),priBizChlgDetail:i.observable(""),clientCompellingEventDetail:i.observable(""),curItStateDetail:i.observable(""),keyDifferentiation:i.observable(""),buRelationDetail:i.observable(""),hpiRelationDetail:i.observable(""),clientFcnDetail:i.observable(""),clientDecisionCriteriaDetail:i.observable(""),clientProcApproach:i.observable(),accountDeliveryMgmtDetail:i.observable("")}};return t=new r(n),o(),p(t),t}function o(n){n&&(f=n);t.pursuitClassfication(f.pursuitClassfication());t.editable(f.editable());var r=i.toJS(f.document);r!=undefined&&r.bizSoln!=null&&r.bizSoln.clientOverview!=null&&(a(r.bizSoln.clientOverview.data),t.draftData(r.bizSoln.clientOverview.data))}function b(n,i){var u=i.sid(),r;u==="0301"&&(r=new l(t.data),h.unifiedSave(!0,r,i))}var e=n("jquery"),i=n("knockout"),s=n("./QuestionArea"),h=n("model/RequestAPI"),c=n("text!./Section0301Template.html"),t={},f={};return{name:["Section0301","sd-section-0301"],template:c,viewModel:{createViewModel:w},subComponents:[s]}});define("component/Section030201",function(n){"use strict";function c(n){n!=undefined&&n!=null&&(this.salesStrategyDetail=r(n.salesStrategyDetail()),this.clientTransformationStrategyDetail=r(n.clientTransformationStrategyDetail()),this.dealBenefitDetail=r(n.dealBenefitDetail()),this.criticalSuccessFactorDetail=r(n.criticalSuccessFactorDetail()),this.dealEssentialDetail=r(n.dealEssentialDetail()),this.sumryRelationStrategyDetail=r(n.sumryRelationStrategyDetail()),this.specificSolnRqmtDetail=r(n.specificSolnRqmtDetail()),this.supporterDetractorDetail=r(n.supporterDetractorDetail()),this.bizPartnerDetail=r(n.bizPartnerDetail()))}function r(n){return n===undefined?null:escape(n)}function u(n){return n!=undefined&&n!=null?unescape(n):null}function l(){e(window).off("opptySaving");e(window).on("opptySaving",p);e(window).on("updateSection",function(n,t){o(t)})}function a(){l()}function v(n){t.data.salesStrategyDetail(u(n.salesStrategyDetail));t.data.clientTransformationStrategyDetail(u(n.clientTransformationStrategyDetail));t.data.dealBenefitDetail(u(n.dealBenefitDetail));t.data.criticalSuccessFactorDetail(u(n.criticalSuccessFactorDetail));t.data.dealEssentialDetail(u(n.dealEssentialDetail));t.data.sumryRelationStrategyDetail(u(n.sumryRelationStrategyDetail));t.data.specificSolnRqmtDetail(u(n.specificSolnRqmtDetail));t.data.supporterDetractorDetail(u(n.supporterDetractorDetail));t.data.bizPartnerDetail(u(n.bizPartnerDetail))}function y(n){a();f=n.viewModel;var r=function(){var n=this;n.pursuitClassfication=i.observable();n.editable=i.observable(!0);n.data={salesStrategyDetail:i.observable(""),clientTransformationStrategyDetail:i.observable(""),dealBenefitDetail:i.observable(""),criticalSuccessFactorDetail:i.observable(""),dealEssentialDetail:i.observable(),sumryRelationStrategyDetail:i.observable(""),specificSolnRqmtDetail:i.observable(""),supporterDetractorDetail:i.observable(""),bizPartnerDetail:i.observable("")}};return t=new r(n),o(),t}function o(n){n&&(f=n);t.pursuitClassfication(f.pursuitClassfication());t.editable(f.editable());var r=i.toJS(f.document);r!=undefined&&r.bizSoln!=null&&r.bizSoln.winStrategy!=null&&r.bizSoln.winStrategy.salesApproach!=null&&v(r.bizSoln.winStrategy.salesApproach.data)}function p(n,i){var u=i.sid(),r;u==="030201"&&(r=new c(t.data),s.unifiedSave(!0,r,i))}var e=n("jquery"),i=n("knockout"),w=n("jasnybs"),s=n("model/RequestAPI"),h=n("text!./Section030201Template.html"),t={},f={};return{name:["Section030201","sd-section-030201"],template:h,viewModel:{createViewModel:y}}});define("component/Section030202",function(n){"use strict";function a(){r(window).off("opptySaving");r(window).on("opptySaving",w);r(window).off("updateSection");r(window).on("updateSection",function(n,t){h(t)})}function v(){r(".popover-options a").popover({html:!0});r(".popover-show").popover("show");a()}function f(n){return n===undefined||n===null?null:escape(n)}function e(n){return n!=undefined&&n!=null?unescape(n):null}function o(n){n!=null&&(this.name=n.name,this.strengthDetail=f(n.strengthDetail),this.weaknessDetail=f(n.weaknessDetail),this.advantageDetail=f(n.advantageDetail))}function y(n){if(i.data.competitorNum(n.competitorNum),n.content!=null&&n.content.length>0)for(var t in n.content)i.data.content[t].name(n.content[t].name),i.data.content[t].strengthDetail(e(n.content[t].strengthDetail)),i.data.content[t].weaknessDetail(e(n.content[t].weaknessDetail)),i.data.content[t].advantageDetail(e(n.content[t].advantageDetail))}function p(n){v();u=n.viewModel;var r=function(){var n=this;n.pursuitClassfication=t.observable();n.editable=t.observable(!0);n.data={competitorNum:t.observable(1),content:[{name:t.observable(""),strengthDetail:t.observable(""),weaknessDetail:t.observable(""),advantageDetail:t.observable("")},{name:t.observable(""),strengthDetail:t.observable(""),weaknessDetail:t.observable(""),advantageDetail:t.observable("")},{name:t.observable(""),strengthDetail:t.observable(""),weaknessDetail:t.observable(""),advantageDetail:t.observable("")},{name:t.observable(""),strengthDetail:t.observable(""),weaknessDetail:t.observable(""),advantageDetail:t.observable("")}]};n.data.competitorNum.subscribe(s)};return i=new r(n),h(),i}function s(n){return/^\+?(0|[1-9]\d*)$/.test(n)?!0:(alert("Please enter a positive integer."),i.data.competitorNum(1),!1)}function h(n){n&&(u=n);i.pursuitClassfication=u.pursuitClassfication();i.editable(u.editable());var r=t.toJS(u.document);r!=undefined&&r.bizSoln!=null&&r.bizSoln.winStrategy!=null&&r.bizSoln.winStrategy.competitors!=null&&y(r.bizSoln.winStrategy.competitors.data)}function w(n,r){var e=r.sid(),u,f;if(e==="030202"&&s(i.data.competitorNum())){u=t.toJS(i.data);for(f in u.content)u.content[f]=new o(u.content[f]);c.unifiedSave(!0,u,r)}}var r=n("jquery"),t=n("knockout"),b=n("jasnybs"),c=n("model/RequestAPI"),l=n("text!./Section030202Template.html"),i={},u={};return{name:["Section030202","sd-section-030202"],template:l,viewModel:{createViewModel:p}}});define("component/Section030203",function(n){"use strict";function e(n){n!=null?(this.clientBizDetail=n.clientBizDetail,this.chlgImpactDetail=o(n.chlgImpactDetail),this.capabilityDetail=o(n.capabilityDetail),this.evidenceDetail=o(n.evidenceDetail)):(this.clientBizDetail="",this.chlgImpactDetail="",this.capabilityDetail="",this.evidenceDetail="")}function o(n){return n===undefined||n===null?null:escape(n)}function f(n){return n!=undefined&&n!=null?unescape(n):null}function l(n){if(n.content!=null&&n.content.length>0)for(var t in n.content)n.content[t].clientBizDetail=f(n.content[t].clientBizDetail),n.content[t].chlgImpactDetail=f(n.content[t].chlgImpactDetail),n.content[t].capabilityDetail=f(n.content[t].capabilityDetail),n.content[t].evidenceDetail=f(n.content[t].evidenceDetail);else n.content.push(new e(null));i.data.content(n.content)}function a(){t(window).off("opptySaving");t(window).on("opptySaving",p);t(window).off("updateSection");t(window).on("updateSection",function(n,t){s(t)})}function v(){t(".popover-options a").popover({html:!0});t(".popover-show").popover("hide");a()}function y(n){v();u=n.viewModel;var t=function(){var n=this;n.data={content:r.observableArray()};n.editable=r.observable(!0);n.addRow=function(){n.data.content.push(new e)};n.remove=function(){n.data.content.remove(this)}};return i=new t(n),s(),i}function s(n){n&&(u=n);i.editable(u.editable());var t=r.toJS(u.document);t!=undefined&&t.bizSoln!=null&&t.bizSoln.winStrategy!=null&&t.bizSoln.winStrategy.mapValProps!=null&&l(t.bizSoln.winStrategy.mapValProps.data)}function p(n,t){var o=t.sid(),u,f;if(o==="030203"){u=r.toJS(i.data);for(f in u.content)u.content[f]=new e(u.content[f]);h.unifiedSave(!0,u,t)}}var t=n("jquery"),r=n("knockout"),w=n("jasnybs"),h=n("model/RequestAPI"),c=n("text!./Section030203Template.html"),i={},u={};return{name:["Section030203","sd-section-030203"],template:c,viewModel:{createViewModel:y}}});define("component/Section030204",function(n){"use strict";function c(n){n!=null&&((n.yellowPadPricePercentage()==undefined||n.yellowPadPricePercentage()==null||n.yellowPadPricePercentage()=="")&&n.yellowPadPricePercentage(0),this.isYellowPadPrice=n.isYellowPadPrice()==1?!0:!1,this.yellowPadPricePercentage=n.yellowPadPricePercentage()*t.lowOrHigher(),this.clientPriceExpectDetail=f(n.clientPriceExpectDetail()),this.clientPriceStrategyDetail=f(n.clientPriceStrategyDetail()),this.cmpyPriceStrategyDetail=f(n.cmpyPriceStrategyDetail()),this.competitorPriceStrategyDetail=f(n.competitorPriceStrategyDetail()),this.majorFinancialIssue=f(n.majorFinancialIssue()))}function f(n){return n===undefined||n===null?null:escape(n)}function e(n){return n!=undefined&&n!=null?unescape(n):null}function l(n){n.yellowPadPricePercentage<=0?t.lowOrHigher(-1):t.lowOrHigher(1);t.data.isYellowPadPrice(n.isYellowPadPrice);t.data.yellowPadPricePercentage(Math.abs(n.yellowPadPricePercentage));t.data.clientPriceExpectDetail(e(n.clientPriceExpectDetail));t.data.clientPriceStrategyDetail(e(n.clientPriceStrategyDetail));t.data.cmpyPriceStrategyDetail(e(n.cmpyPriceStrategyDetail));t.data.competitorPriceStrategyDetail(e(n.competitorPriceStrategyDetail));t.data.majorFinancialIssue(e(n.majorFinancialIssue))}function a(){r(window).off("opptySaving");r(window).on("opptySaving",p);r(window).off("updateSection");r(window).on("updateSection",function(n,t){o(t)})}function v(){r(".popover-options a").popover({html:!0});r(".popover-show").popover("hide");a()}function y(n){v();u=n.viewModel;var r=function(){var n=this;n.pursuitClassfication=i.observable();n.editable=i.observable(!0);n.data={isYellowPadPrice:i.observable(!0),yellowPadPricePercentage:i.observable(0),clientPriceExpectDetail:i.observable(""),clientPriceStrategyDetail:i.observable(""),cmpyPriceStrategyDetail:i.observable(""),competitorPriceStrategyDetail:i.observable(""),majorFinancialIssue:i.observable("")};n.data.yellowPadPricePercentage.subscribe(function(t){isNaN(t)&&(alert("Please input is decimal"),n.data.yellowPadPricePercentage(0));return});n.lowOrHigher=i.observable(1)};return t=new r(n),o(),t}function o(n){n&&(u=n);t.pursuitClassfication(u.pursuitClassfication());t.editable(u.editable());var r=i.toJS(u.document);r!=undefined&&r.bizSoln!=null&&r.bizSoln.winStrategy!=null&&r.bizSoln.winStrategy.pricingApproach!=null&&l(r.bizSoln.winStrategy.pricingApproach.data)}function p(n,i){var u=i.sid(),r;if(u==="030204"){if(r=new c(t.data),isNaN(r.yellowPadPricePercentage)){alert("Please input is decimal");return}s.unifiedSave(!0,r,i)}}var r=n("jquery"),i=n("knockout"),w=n("jasnybs"),s=n("model/RequestAPI"),h=n("text!./Section030204Template.html"),t={},u={};return{name:["Section030204","sd-section-030204"],template:h,viewModel:{createViewModel:y}}});define("component/Section040101",function(n){"use strict";function l(){i(window).off("opptySaving");i(window).on("opptySaving",p);i(window).off("updateSection");i(window).on("updateSection",function(n,t){e(t)})}function a(){l();i.messager.model={ok:{text:"Delete",classed:"btn-default"},cancel:{text:"Cancel",classed:"btn-error"}}}function v(){if(t.section.opptyID=r.opptyID(),t.editable())e();else{var n=r.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.scope!=null&&n.solnOverview.scope.allOfferings!=null&&o(n)}}function e(n){n&&(r=n);var i=r.document();i!==undefined&&i.solnOverview!=null&&i.solnOverview.scope!=null&&i.solnOverview.scope.allOfferings!=null?o(i):(sp.app.workingDialog.show("Loading productLines from grip ."),h.getOpptyOverviewAsync(t.section.opptyID).done(function(n){sp.app.workingDialog.hide("Loading productLines from grip .");n==undefined||y(n.productLine)}))}function o(n){var i=n.solnOverview.scope.allOfferings.data.content;t.section.data.content(b(i));t.pageInited(!0)}function y(n){var i=[];for(var r in n)i.push({offeringId:f.newGuid(),serviceLine:n[r].serviceLine,offering:n[r].offering,clientVolume:"",nStdComponent:""});t.section.data.content(i);t.pageInited(!0)}function p(n,i){var f=i.sid(),r;f==="040101"&&t.pageInited()&&(r=w(u.toJS(t.section.data)),c.unifiedSave(!0,r,i))}function w(n){for(var t in n.content)n.content[t].nStdComponent=escape(n.content[t].nStdComponent);return n}function b(n){for(var t in n)n[t].nStdComponent=unescape(n[t].nStdComponent);return n}function k(n){r=n.viewModel;a();var e=function(){var n=this;n.section={opptyID:"",eTag:"",name:"all-offerings",data:{content:u.observable([])}};n.editable=u.observable(r.editable());n.pageInited=u.observable(!1);n.addRow=function(){var t=n.section.data.content();t.push({offeringId:f.newGuid(),serviceLine:"",offering:"",clientVolume:"",nStdComponent:""});n.section.data.content(t)};n.removeRow=function(t){var r=n.section.data.content(),u=r[t].offering;i.messager.confirm("An item will be deleted","<span class=text-warning><b>&nbsp;&nbsp;If you click 'Delete' ,the offering which are cascaded from 'all-Offering' will be deleted meanwhile ! Are you sure to delete the offering '"+u+"' ? <\/b><\/span>",function(){r.splice(t,1);n.section.data.content(r)})}};return t=new e(n),v(),t}var i=n("jquery"),u=n("knockout"),d=n("jasnybs"),s=n("text!./Section040101Template.html"),h=n("model/Oppty"),c=n("model/RequestAPI"),f=n("util/AppUtility"),g=n("jquery_bootstrap"),t={},r={};return{name:["Section040101","sd-section-040101"],template:s,viewModel:{createViewModel:k}}});define("component/Section040102",function(n){"use strict";function h(){r(window).off("opptySaving");r(window).on("opptySaving",a);r(window).off("updateSection");r(window).on("updateSection",function(n,t){f(t)})}function c(){h()}function l(){if(t.section.opptyID=i.opptyID(),t.editable())f();else{var n=i.document(),r=n.solnOverview;n!==undefined&&n.solnOverview!=null&&n.solnOverview.scope!=null&&n.solnOverview.scope.keyScopeItem!=null&&e(n)}}function f(n){n&&(i=n);var t=i.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.scope!=null&&t.solnOverview.scope.keyScopeItem!=null&&e(t)}function e(n){var i=y(n.solnOverview.scope.keyScopeItem.data);t.section.data.keyScopeItemDetail(i.keyScopeItemDetail)}function a(n,i){var f=i.sid(),r;f==="040102"&&(r=v(u.toJS(t.section.data)),s.unifiedSave(!0,r,i))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){i=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"key-scope-items",data:{keyScopeItemDetail:u.observable()}};n.editable=u.observable(i.editable())};return t=new r(n),l(),t}var r=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040102Template.html"),s=n("model/RequestAPI"),t={},i={};return{name:["Section040102","sd-section-040102"],template:o,viewModel:{createViewModel:p}}});define("component/Section0402",function(n){"use strict";function c(){u(window).off("opptySaving");u(window).on("opptySaving",v);u(window).off("updateSection");u(window).on("updateSection",function(n,t){f(t)})}function l(){c()}function a(){if(t.section.opptyID=r.opptyID(),t.editable())f();else{var n=r.document(),i=n.solnOverview;i!=null&&i.clientArch!=null&&e(n)}}function f(n){n&&(r=n);var i=r.document();i!==undefined&&i.solnOverview!=null&&i.solnOverview.clientArch!=null?e(i):t.section.data.attachment([])}function e(n){var i=p(n.solnOverview.clientArch.data);t.section.data.keyComponentDetail(i.keyComponentDetail);t.section.data.painAreaDetail(i.painAreaDetail);t.section.data.keyTechDriverDetail(i.keyTechDriverDetail);t.section.data.bizCriticalAreaDetail(i.bizCriticalAreaDetail);t.section.data.serviceCollaborationDetail(i.serviceCollaborationDetail);t.section.data.integrationNeedDetail(i.integrationNeedDetail);t.section.data.archPrincipleDetail(i.archPrincipleDetail);t.section.data.archPrincipleConflictDetail(i.archPrincipleConflictDetail);t.section.data.attachment(i.attachment)}function v(n,r){var f=r.sid(),u;f==="0402"&&(document.querySelector(".attachment-uploaing-warning").innerText===""||confirm("One or more files are being uploaded. Are you sure to save?")!==!1)&&(u=y(i.toJS(t.section.data)),s.unifiedSave(!0,u,r))}function y(n){n.keyComponentDetail=escape(n.keyComponentDetail);n.painAreaDetail=escape(n.painAreaDetail);n.keyTechDriverDetail=escape(n.keyTechDriverDetail);n.bizCriticalAreaDetail=escape(n.bizCriticalAreaDetail);n.serviceCollaborationDetail=escape(n.serviceCollaborationDetail);n.integrationNeedDetail=escape(n.integrationNeedDetail);n.archPrincipleDetail=escape(n.archPrincipleDetail);n.archPrincipleConflictDetail=escape(n.archPrincipleConflictDetail);for(var t in n.attachment)n.attachment[t].link=escape(n.attachment[t].link);return n}function p(n){if(n.keyComponentDetail=unescape(n.keyComponentDetail),n.painAreaDetail=unescape(n.painAreaDetail),n.keyTechDriverDetail=unescape(n.keyTechDriverDetail),n.bizCriticalAreaDetail=unescape(n.bizCriticalAreaDetail),n.serviceCollaborationDetail=unescape(n.serviceCollaborationDetail),n.integrationNeedDetail=unescape(n.integrationNeedDetail),n.archPrincipleDetail=unescape(n.archPrincipleDetail),n.archPrincipleConflictDetail=unescape(n.archPrincipleConflictDetail),n.attachment!=null)for(var t in n.attachment)n.attachment[t].link=unescape(n.attachment[t].link);else n.attachment=[];return n}function w(n){r=n.viewModel;l();var u=function(){var n=this;n.section={opptyID:"",eTag:"",name:"client-architecture",data:{keyComponentDetail:i.observable(),painAreaDetail:i.observable(),keyTechDriverDetail:i.observable(),bizCriticalAreaDetail:i.observable(),serviceCollaborationDetail:i.observable(),integrationNeedDetail:i.observable(),archPrincipleDetail:i.observable(),archPrincipleConflictDetail:i.observable(),attachment:i.observableArray()}};n.editable=i.observable(r.editable())};return t=new u(n),a(),t}var u=n("jquery"),i=n("knockout"),b=n("jasnybs"),o=n("text!./Section0402Template.html"),s=n("model/RequestAPI"),h=n("./AttachmentManager"),k=n("util/AppUtility"),t={},r={};return{name:["Section0402","sd-section-0402"],template:o,viewModel:{createViewModel:w},subComponents:[h]}});define("component/Section040301",function(n){"use strict";function h(){r(window).off("opptySaving");r(window).on("opptySaving",a);r(window).off("updateSection");r(window).on("updateSection",function(n,t){f(t)})}function c(){h()}function l(){if(t.section.opptyID=i.opptyID(),t.editable())f();else{var n=i.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.solnApproach!=null&&n.solnOverview.solnApproach.summary!=null&&e(n)}}function f(n){n&&(i=n);var t=i.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.solnApproach!=null&&t.solnOverview.solnApproach.summary!=null&&e(t)}function e(n){var i=y(n.solnOverview.solnApproach.summary.data);t.section.data.overviewDetail(i.overviewDetail)}function a(n,i){var f=i.sid(),r;f==="040301"&&(r=v(u.toJS(t.section.data)),s.unifiedSave(!0,r,i))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){i=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"summary",data:{overviewDetail:u.observable("")}};n.editable=u.observable(i.editable())};return t=new r(n),l(),t}var r=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040301Template.html"),s=n("model/RequestAPI"),t={},i={};return{name:["Section040301","sd-section-040301"],template:o,viewModel:{createViewModel:p}}});define("component/Section040302",function(n){"use strict";function c(){u(window).off("opptySaving");u(window).on("opptySaving",v);u(window).off("updateSection");u(window).on("updateSection",function(n,t){f(t)})}function l(){c()}function a(){if(t.section.opptyID=r.opptyID(),t.editable())f();else{var n=r.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.solnApproach!=null&&n.solnOverview.solnApproach.xmo!=null&&e(n)}}function f(n){n&&(r=n);var i=r.document();i!==undefined&&i.solnOverview!=null&&i.solnOverview.solnApproach!=null&&i.solnOverview.solnApproach.xmo!=null?e(i):t.section.data.attachment([])}function e(n){var i=p(n.solnOverview.solnApproach.xmo.data);t.section.data.attachment(i.attachment);t.section.data.cmoDetail(i.cmoDetail);t.section.data.tmoDetail(i.tmoDetail);t.section.data.fmoDetail(i.fmoDetail)}function v(n,r){var f=r.sid(),u;f==="040302"&&(document.querySelector(".attachment-uploaing-warning").innerText===""||confirm("One or more files are being uploaded. Are you sure to save?")!==!1)&&(u=y(i.toJS(t.section.data)),s.unifiedSave(!0,u,r))}function y(n){n.cmoDetail=escape(n.cmoDetail);n.tmoDetail=escape(n.tmoDetail);n.fmoDetail=escape(n.fmoDetail);for(var t in n.attachment)n.attachment[t].link=escape(n.attachment[t].link);return n}function p(n){if(n.cmoDetail=unescape(n.cmoDetail),n.tmoDetail=unescape(n.tmoDetail),n.fmoDetail=unescape(n.fmoDetail),n.attachment!=null)for(var t in n.attachment)n.attachment[t].link=unescape(n.attachment[t].link);else n.attachment=[];return n}function w(n){r=n.viewModel;l();var u=function(){var n=this;n.section={opptyID:"",eTag:"",name:"xmo",data:{attachment:i.observableArray([]),cmoDetail:i.observable(""),tmoDetail:i.observable(""),fmoDetail:i.observable("")}};n.editable=i.observable(r.editable());n.attachmentSelected=function(){insertAttachment(n)}};return t=new u(n),a(),t}var u=n("jquery"),i=n("knockout"),b=n("jasnybs"),o=n("text!./Section040302Template.html"),s=n("model/RequestAPI"),h=n("./AttachmentManager"),t={},r={};return{name:["Section040302","sd-section-040302"],template:o,viewModel:{createViewModel:w},subComponents:[h]}});define("component/Section040303",function(n){"use strict";function l(){f(window).off("opptySaving");f(window).on("opptySaving",p);f(window).off("updateSection");f(window).on("updateSection",function(n,t){e(t)})}function a(){l()}function v(){f(".sd-section-help").tooltip()}function y(){if(t.section.opptyID=r.opptyID(),t.editable())e();else{var n=r.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.solnApproach!=null&&n.solnOverview.solnApproach.hrSoln!=null&&o(n)}}function e(n){n&&(r=n);var t=r.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.solnApproach!=null&&t.solnOverview.solnApproach.hrSoln!=null&&o(t)}function o(n){var r,i;t.section.data.content(b(n.solnOverview.solnApproach.hrSoln.data.content));r=t.section.data.content();t.hrSolutionContent(s());for(i in r)i<t.initIssueCount?(t.hrSolutionContent()[i].approach(r[i].approach),t.hrSolutionContent()[i].checked(r[i].inScope)):t.hrSolutionContent.push(new u(r[i].hrIssue,r[i].hrIssueTitle,"",!0,r[i].inScope,r[i].approach));v()}function p(n,r){var o=r.sid(),f,u,e;if(o==="040303"){f=[];for(u in t.hrSolutionContent())t.hrSolutionContent()[u].checked()?f.push({inScope:!0,hrIssue:t.hrSolutionContent()[u].hrIssue(),hrIssueTitle:t.hrSolutionContent()[u].hrIssueTitle(),approach:escape(t.hrSolutionContent()[u].approach())}):f.push({inScope:!1,hrIssue:t.hrSolutionContent()[u].hrIssue(),hrIssueTitle:t.hrSolutionContent()[u].hrIssueTitle(),approach:""});t.section.data.content(f);e=w(i.toJS(t.section.data));c.unifiedSave(!0,e,r)}}function w(n){for(var t in n)n[t].hrIssueTitle=escape(n[t].hrIssueTitle),n[t].approach=escape(n[t].approach);return n}function b(n){for(var t in n)n[t].hrIssueTitle=unescape(n[t].hrIssueTitle),n[t].approach=unescape(n[t].approach);return n}function u(n,t,r,u,f,e){this.hrIssue=i.observable(n);this.hrIssueTitle=i.observable(t);this.hint=r;this.isOriginal=i.observable(u);this.checked=i.observable(f);this.approach=i.observable(e)}function s(){var n=[];return n.push(new u("ClientEmployee","Client's Employees","Issues or risks related to the client's employees that could negatively or positively impact the HPE solution.",!0,!1,"")),n.push(new u("ClientSubcontractor","Client's Subcontractors","Issues or risks related to the client's subcontractors that could negatively or positively impact the HPE solution.",!0,!1,"")),n.push(new u("ClientContractor","Client's Third Party Contractors","Issues or risks related to the client's third parties that could negatively or positively impact the HPE solution.",!0,!1,"")),n.push(new u("HPEmployee","Existing HPE Employees (Renewals only)","HPE plans for existing account support employees that could negatively or positively impact the HPE solution.",!0,!1,"")),n}function k(n){r=n.viewModel;a();var f=function(){var n=this;n.section={opptyID:"",eTag:"",name:"hr-solutions",data:{content:i.observable([])}};n.editable=i.observable(r.editable());n.hrSolutionContent=i.observableArray(s());n.initIssueCount=n.hrSolutionContent().length;n.addRow=function(){n.hrSolutionContent.push(new u("Other","","",!1,!0,""))};n.removeRow=function(t){var i=n.hrSolutionContent();i.splice(t,1);n.hrSolutionContent(i)}};return t=new f(n),y(),t}var f=n("jquery"),i=n("knockout"),d=n("jasnybs"),h=n("text!./Section040303Template.html"),c=n("model/RequestAPI"),t={},r={};return{name:["Section040303","sd-section-040303"],template:h,viewModel:{createViewModel:k}}});define("component/Section040304",function(n){"use strict";function l(){f(window).off("opptySaving");f(window).on("opptySaving",p);f(window).off("updateSection");f(window).on("updateSection",function(n,t){e(t)})}function a(){l()}function v(){f(".sd-section-help").tooltip()}function y(){if(t.section.opptyID=u.opptyID(),t.editable())e();else{var n=u.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.solnApproach!=null&&n.solnOverview.solnApproach.cmpyChallenge!=null&&o(n)}}function e(n){n&&(u=n);var t=u.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.solnApproach!=null&&t.solnOverview.solnApproach.cmpyChallenge!=null?o(t):self.isNewSection=!0}function r(n,t,r,u,f,e){this.challenge=i.observable(n);this.challengeTitle=i.observable(t);this.hint=r;this.isOriginal=i.observable(u);this.checked=i.observable(f);this.description=i.observable(e)}function o(n){var i,u;t.section.data.content(b(n.solnOverview.solnApproach.cmpyChallenge.data.content));i=t.section.data.content();i[1].challenge==="Trade"&&i.splice(1,1);t.cmpyChallenge(s());for(u in i)u<t.initChallengeCount?(t.cmpyChallenge()[u].description(i[u].description),t.cmpyChallenge()[u].checked(i[u].inScope)):i[u].challenge==="Other"&&t.cmpyChallenge.push(new r(i[u].challenge,i[u].challengeTitle,"",!0,i[u].inScope,i[u].description));v()}function p(n,r){var o=r.sid(),f,u,e;if(o==="040304"){f=[];for(u in t.cmpyChallenge())t.cmpyChallenge()[u].checked()?f.push({inScope:!0,challenge:escape(t.cmpyChallenge()[u].challenge()),challengeTitle:t.cmpyChallenge()[u].challengeTitle(),description:escape(t.cmpyChallenge()[u].description())}):f.push({inScope:!1,challenge:escape(t.cmpyChallenge()[u].challenge()),challengeTitle:t.cmpyChallenge()[u].challengeTitle(),description:""});t.section.data.content(f);e=w(i.toJS(t.section.data));c.unifiedSave(!0,e,r)}}function w(n){for(var t in n)n[t].challengeTitle=escape(n[t].challengeTitle),n[t].description=escape(n[t].description);return n}function b(n){for(var t in n)n[t].challengeTitle=unescape(n[t].challengeTitle),n[t].description=unescape(n[t].description);return n}function s(){var n=[];return n.push(new r("Asset","Asset ownership/refresh","Issues or risks related to the client's requirements for asset ownership that could negatively or positively impact the HPE solution; i.e., long refresh schedules could impact SLAs.",!0,!1,"")),n.push(new r("Initiative","Internal initiatives that could impact deal","Strategic initiative resource consumption, changes to delivery model, changes to offering or SLA standards",!0,!1,"")),n.push(new r("Knowledge","Knowledge and supportability gaps","Are special skill sets or training required? Will the solution require extended knowledge transfer with client resources? Is employee retention an issue?",!0,!1,"")),n.push(new r("Legal","Legal issues related to solution","Client commercial terms/requirements that could negatively impact or limit the solution, our costs or our ability to deliver.",!0,!1,"")),n.push(new r("Sourcing","Location Sourcing limitations","Client requirements that cause the solution to be non-compliant with HPE location sourcing requirements.",!0,!1,"")),n.push(new r("Staffing","Staffing Issues","Does HPE have the resource capacity necessary to deliver the solution? Will third party resources be required?",!0,!1,"")),n}function k(n){u=n.viewModel;a();var f=function(){var n=this;n.section={opptyID:"",eTag:"",name:"company-challenges",data:{content:i.observable([])}};n.editable=i.observable(u.editable());n.cmpyChallenge=i.observableArray(s());n.initChallengeCount=n.cmpyChallenge().length;n.addRow=function(){n.cmpyChallenge.push(new r("Other","","",!1,!0,""))};n.removeRow=function(t){var i=n.cmpyChallenge();i.splice(t,1);n.cmpyChallenge(i)}};return t=new f(n),y(),t}var f=n("jquery"),i=n("knockout"),d=n("jasnybs"),h=n("text!./Section040304Template.html"),c=n("model/RequestAPI"),t={},u={};return{name:["Section040304","sd-section-040304"],template:h,viewModel:{createViewModel:k}}});define("component/Section040305",function(n){"use strict";function h(){r(window).off("opptySaving");r(window).on("opptySaving",a);r(window).off("updateSection");r(window).on("updateSection",function(n,t){f(t)})}function c(){h()}function l(){if(t.section.opptyID=i.opptyID(),t.editable())f();else{var n=i.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.solnApproach!=null&&n.solnOverview.solnApproach.designParam!=null&&e(n)}}function f(n){n&&(i=n);var t=i.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.solnApproach!=null&&t.solnOverview.solnApproach.designParam!=null&&e(t)}function e(n){var i=y(n.solnOverview.solnApproach.designParam.data);t.section.data.solnParamDetail(i.solnParamDetail)}function a(n,i){var f=i.sid(),r;f==="040305"&&(r=v(u.toJS(t.section.data)),s.unifiedSave(!0,r,i))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){i=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"design-params",data:{solnParamDetail:u.observable("")}};n.editable=u.observable(i.editable())};return t=new r(n),l(),t}var r=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040305Template.html"),s=n("model/RequestAPI"),t={},i={};return{name:["Section040305","sd-section-040305"],template:o,viewModel:{createViewModel:p}}});define("component/Section040306",function(n){"use strict";function h(){r(window).off("opptySaving");r(window).on("opptySaving",a);r(window).off("updateSection");r(window).on("updateSection",function(n,t){f(t)})}function c(){h()}function l(){if(t.section.opptyID=i.opptyID(),t.editable())f();else{var n=i.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.solnApproach!=null&&n.solnOverview.solnApproach.deployStrategy!=null&&e(n)}}function f(n){n&&(i=n);var t=i.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.solnApproach!=null&&t.solnOverview.solnApproach.deployStrategy!=null&&e(t)}function e(n){var i=y(n.solnOverview.solnApproach.deployStrategy.data);t.section.data.initialThoughtDetail(i.initialThoughtDetail)}function a(n,i){var f=i.sid(),r;f==="040306"&&(r=v(u.toJS(t.section.data)),s.unifiedSave(!0,r,i))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){i=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"deploy-strategy",data:{initialThoughtDetail:u.observable("")}};n.editable=u.observable(i.editable())};return t=new r(n),l(),t}var r=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section040306Template.html"),s=n("model/RequestAPI"),t={},i={};return{name:["Section040306","sd-section-040306"],template:o,viewModel:{createViewModel:p}}});define("component/Section040307",function(n){"use strict";function c(){r(window).off("opptySaving");r(window).on("opptySaving",y);r(window).off("updateSection");r(window).on("updateSection",function(n,t){f(t)})}function l(){c()}function a(){if(t.section.opptyID=i.opptyID(),t.editable())f();else{var n=i.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.solnApproach!=null&&n.solnOverview.solnApproach.additionalInfo!=null&&e(n)}}function f(n){n&&(i=n);var r=i.document();r!==undefined&&r.solnOverview!=null&&r.solnOverview.solnApproach!=null&&r.solnOverview.solnApproach.additionalInfo!=null?e(r):t.section.data.attachment([])}function v(n){i=n.viewModel;l();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"additional-info",data:{explainDetail:u.observable(""),attachment:u.observableArray()}};n.editable=u.observable(i.editable())};return t=new r(n),a(),t}function e(n){var i=w(n.solnOverview.solnApproach.additionalInfo.data);t.section.data.explainDetail(i.explainDetail);t.section.data.attachment(i.attachment)}function y(n,i){var f=i.sid(),r;f==="040307"&&(document.querySelector(".attachment-uploaing-warning").innerText===""||confirm("One or more files are being uploaded. Are you sure to save?")!==!1)&&(r=p(u.toJS(t.section.data)),s.unifiedSave(!0,r,i))}function p(n){n.explainDetail=escape(n.explainDetail);for(var t in n.attachment)n.attachment[t].link=escape(n.attachment[t].link);return n}function w(n){if(n.explainDetail=unescape(n.explainDetail),n.attachment!=null)for(var t in n.attachment)n.attachment[t].link=unescape(n.attachment[t].link);else n.attachment=[];return n}var r=n("jquery"),u=n("knockout"),b=n("jasnybs"),o=n("text!./Section040307Template.html"),s=n("model/RequestAPI"),h=n("./AttachmentManager"),t={},i={};return{name:["Section040307","sd-section-040307"],template:o,viewModel:{createViewModel:v},subComponents:[h]}});define("component/Section0404",function(n){"use strict";function h(){r(window).off("opptySaving");r(window).on("opptySaving",a);r(window).off("updateSection");r(window).on("updateSection",function(n,t){f(t)})}function c(){h()}function l(){if(t.section.opptyID=i.opptyID(),t.editable())f();else{var n=i.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.innovativeAspect!=null&&e(n)}}function f(n){n&&(i=n);var t=i.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.innovativeAspect!=null&&e(t)}function e(n){var i=y(n.solnOverview.innovativeAspect.data);t.section.data.innovativeElementDetail(i.innovativeElementDetail)}function a(n,i){var f=i.sid(),r;f==="0404"&&(r=v(u.toJS(t.section.data)),s.unifiedSave(!0,r,i))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){i=n.viewModel;c();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"innovative-aspects",data:{innovativeElementDetail:u.observable("")}};n.editable=u.observable(i.editable())};return t=new r(n),l(),t}var r=n("jquery"),u=n("knockout"),w=n("jasnybs"),o=n("text!./Section0404Template.html"),s=n("model/RequestAPI"),t={},i={};return{name:["Section0404","sd-section-0404"],template:o,viewModel:{createViewModel:p}}});define("component/Section040501",function(n){"use strict";function h(){i(window).off("opptySaving");i(window).on("opptySaving",v);i(window).off("updateSection");i(window).on("updateSection",function(n,t){f(t)})}function c(){h();i(".popover-options a").popover({html:!0});i(".popover-show").popover("hide")}function l(){if(t.section.opptyID=r.opptyID(),t.editable())f();else{var n=r.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.deliveryStrategies!=null&&n.solnOverview.deliveryStrategies.locationTarget!=null&&n.solnOverview.scope!=null&&n.solnOverview.scope.allOfferings!=null&&e(n)}}function f(n){var i,o,u,f;if(n&&(r=n),i=r.document(),i!==undefined&&i.solnOverview!=null&&i.solnOverview.deliveryStrategies!=null&&i.solnOverview.deliveryStrategies.locationTarget!=null)e(i);else{if(i!==undefined&&i.solnOverview!=null&&i.solnOverview.scope!=null&&i.solnOverview.scope.allOfferings!=null){o=[];u=i.solnOverview.scope.allOfferings.data.content;for(f in u)o.push({offeringId:u[f].offeringId,offering:u[f].offering,clientVolume:u[f].clientVolume,onShoreWorkLoad:"",rdcWorkload:"",gdcWorkload:"",comment:""});t.section.data.content(o)}t.pageInited(!0)}return i}function a(n,t){var r=[];return i.each(n,function(n,u){var f=-1;i.each(t,function(n,i){if(i.offeringId===u.offeringId){var e=i;return e.clientVolume=u.clientVolume,r.push(e),f=n,Array.removeAt(t,n),!1}});f===-1&&r.push({offeringId:u.offeringId,offering:u.offering,clientVolume:u.clientVolume,onShoreWorkLoad:"",rdcWorkload:"",gdcWorkload:"",comment:""})}),r}function e(n){var i=n.solnOverview.scope.allOfferings.data.content,r=n.solnOverview.deliveryStrategies.locationTarget.data.content,u=a(i,r);t.section.data.content(p(u));t.pageInited(!0)}function v(n,i){var f=i.sid(),r;f==="040501"&&t.pageInited()&&(r=y(u.toJS(t.section.data)),s.unifiedSave(!0,r,i))}function y(n){for(var t in n.content)n.content[t].comment=escape(n.content[t].comment);return n}function p(n){for(var t in n)n[t].comment=unescape(n[t].comment);return n}function w(n){r=n.viewModel;c();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"location-targets",data:{content:u.observable([])}};n.editable=u.observable(r.editable());n.pageInited=u.observable(!1)};return t=new i(n),l(),t}var i=n("jquery"),u=n("knockout"),b=n("jasnybs"),o=n("text!./Section040501Template.html"),s=n("model/RequestAPI"),t={},r={};return{name:["Section040501","sd-section-040501"],template:o,viewModel:{createViewModel:w}}});define("component/Section040502",function(n){"use strict";function i(){}function r(n){i();var t=function(){var n=this};return new t(n)}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section040502Template.html");return{name:["Section040502","sd-section-040502"],template:t,viewModel:{createViewModel:r}}});define("component/Section040503",function(n){"use strict";function h(){u(window).off("opptySaving");u(window).on("opptySaving",a);u(window).off("updateSection");u(window).on("updateSection",function(n,t){f(t)})}function c(){h()}function l(){if(t.section.opptyID=r.opptyID(),t.editable())f();else{var n=r.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.deliveryStrategies!=null&&n.solnOverview.deliveryStrategies.svcMgmt!=null&&e(n)}}function f(n){n&&(r=n);var t=r.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.deliveryStrategies!=null&&t.solnOverview.deliveryStrategies.svcMgmt!=null&&e(t)}function e(n){var i=y(n.solnOverview.deliveryStrategies.svcMgmt.data);t.section.data.svcMeasureDetail(i.svcMeasureDetail);t.section.data.supplierMgmtDetail(i.supplierMgmtDetail);t.section.data.perfMeasureDetail(i.perfMeasureDetail);t.section.data.catalogueStrategyDetail(i.catalogueStrategyDetail);t.section.data.toolingStrategyDetail(i.toolingStrategyDetail)}function a(n,r){var f=r.sid(),u;f==="040503"&&(u=v(i.toJS(t.section.data)),s.unifiedSave(!0,u,r))}function v(n){for(var t in n)n[t]=escape(n[t]);return n}function y(n){for(var t in n)n[t]=unescape(n[t]);return n}function p(n){r=n.viewModel;c();var u=function(){var n=this;n.section={opptyID:"",eTag:"",name:"service-management",data:{svcMeasureDetail:i.observable(""),supplierMgmtDetail:i.observable(""),perfMeasureDetail:i.observable(""),catalogueStrategyDetail:i.observable(""),toolingStrategyDetail:i.observable("")}};n.editable=i.observable(r.editable())};return t=new u(n),l(),t}var u=n("jquery"),i=n("knockout"),w=n("jasnybs"),o=n("text!./Section040503Template.html"),s=n("model/RequestAPI"),t={},r={};return{name:["Section040503","sd-section-040503"],template:o,viewModel:{createViewModel:p}}});define("component/Section040504",function(n){"use strict";function i(){}function r(n){i();var t=function(){var n=this};return new t(n)}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section040504Template.html");return{name:["Section040504","sd-section-040504"],template:t,viewModel:{createViewModel:r}}});define("component/Section040505",function(n){"use strict";function c(){r(window).off("opptySaving");r(window).on("opptySaving",p);r(window).off("updateSection");r(window).on("updateSection",function(n,t){f(t)})}function l(){c();r(".popover-options a").popover({html:!0});r(".popover-show").popover("hide")}function a(){if(t.section.opptyID=u.opptyID(),t.editable())f();else{var n=u.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.deliveryStrategies!=null&&n.solnOverview.deliveryStrategies.svcDeliveryResp!=null&&n.solnOverview.scope!=null&&n.solnOverview.scope.allOfferings!=null&&o(n)}}function f(n){var i,r,f,s,h;if(n&&(u=n),i=u.document(),i!==undefined&&i.solnOverview!=null&&i.solnOverview.deliveryStrategies!=null&&i.solnOverview.deliveryStrategies.svcDeliveryResp!=null)o(i);else{if(t.svcDeliveryResp([]),r=[],i!==undefined&&i.solnOverview!=null&&i.solnOverview.scope!=null&&i.solnOverview.scope.allOfferings!=null){f=i.solnOverview.scope.allOfferings.data.content;for(s in f)r.push({offeringId:f[s].offeringId,offering:f[s].offering,delivery:"",otherBuDelivery:"",specificBuDelivery:"",partnerDelivery:"",thirdPartyDelivery:"",comment:""});t.section.data.content(r);for(h in r)t.svcDeliveryResp.push(new e(r[h]))}t.pageInited(!0)}}function e(n){function u(n){n=="Other"?r.otherOptionVisible(!0):r.otherOptionVisible(!1)}var r=this;r.offeringId=i.observable(n.offeringId);r.offering=i.observable(n.offering);r.delivery=i.observable(n.delivery);r.otherBuDelivery=i.observable(n.otherBuDelivery);r.specificBuDelivery=i.observable(n.specificBuDelivery);r.partnerDelivery=i.observable(n.partnerDelivery);r.thirdPartyDelivery=i.observable(n.thirdPartyDelivery);r.comment=i.observable(n.comment);r.index=t.svcDeliveryResp().length;r.loaded=i.observable(!0);r.otherOptionVisible=i.observable(!1);u(r.otherBuDelivery());r.otherBuDelivery.subscribe(function(n){r.updateSpecificBuDelivery(n)});r.updateSpecificBuDelivery=function(n){r.loaded(!1);u(n)}}function v(n){u=n.viewModel;l();var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"service-delivery-responsibilities",data:{content:i.observable([])}};n.editable=i.observable(u.editable());n.pageInited=i.observable(!1);n.svcDeliveryResp=i.observableArray([])};return t=new r(n),a(),t}function y(n,t){var i=[];return r.each(n,function(n,u){var f=-1;r.each(t,function(n,t){if(t.offeringId===u.offeringId)return i.push(t),f=n,!1});f===-1&&i.push({offeringId:u.offeringId,offering:u.offering,delivery:"",otherBuDelivery:"",specificBuDelivery:"",partnerDelivery:"",thirdPartyDelivery:"",comment:""})}),i}function o(n){var r;t.svcDeliveryResp([]);var u=n.solnOverview.scope.allOfferings.data.content,f=k(n.solnOverview.deliveryStrategies.svcDeliveryResp.data.content),i=y(u,f);t.section.data.content(i);for(r in i)t.svcDeliveryResp.push(new e(i[r]));t.pageInited(!0)}function p(n,i){var u=i.sid(),r;u==="040505"&&t.pageInited()&&(r=w(),h.unifiedSave(!0,r,i))}function w(){var r=[];for(var n in t.svcDeliveryResp())r.push({offeringId:t.svcDeliveryResp()[n].offeringId(),offering:t.svcDeliveryResp()[n].offering(),delivery:t.svcDeliveryResp()[n].delivery(),otherBuDelivery:t.svcDeliveryResp()[n].otherBuDelivery(),specificBuDelivery:t.svcDeliveryResp()[n].specificBuDelivery(),partnerDelivery:t.svcDeliveryResp()[n].partnerDelivery(),thirdPartyDelivery:t.svcDeliveryResp()[n].thirdPartyDelivery(),comment:t.svcDeliveryResp()[n].comment()});return t.section.data.content(r),b(i.toJS(t.section.data))}function b(n){for(var t in n.content)n.content[t].comment=escape(n.content[t].comment);return n}function k(n){for(var t in n)n[t].comment=unescape(n[t].comment);return n}var r=n("jquery"),i=n("knockout"),d=n("jasnybs"),g=n("select2"),s=n("text!./Section040505Template.html"),h=n("model/RequestAPI"),t={},u={};return{name:["Section040505","sd-section-040505"],template:s,viewModel:{createViewModel:v}}});define("component/Section040506",function(n){"use strict";function f(n){return n!=null?{retainedService:n.retainedService,clientDelivery:n.clientDelivery==1?!0:!1,clientPartnerDelivery:n.clientPartnerDelivery,clientThirdPartyDelivery:n.clientThirdPartyDelivery,comment:escape(n.comment)}:{retainedService:"",clientDelivery:"",clientPartnerDelivery:"",clientThirdPartyDelivery:"",comment:""}}function c(){r(window).off("opptySaving");r(window).on("opptySaving",y);r(window).off("updateSection");r(window).on("updateSection",function(n,t){e(t)})}function l(){c();r(".popover-options a").popover({html:!0});r(".popover-show").popover("hide")}function a(){if(t.section.opptyID=i.opptyID(),t.editable())e();else{var n=i.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.deliveryStrategies!=null&&n.solnOverview.deliveryStrategies.clientRetainedResp!=null&&o(n)}}function e(n){n&&(i=n);var t=i.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.deliveryStrategies!=null&&t.solnOverview.deliveryStrategies.clientRetainedResp!=null&&o(t)}function v(n){l();i=n.viewModel;var r=function(){var n=this;n.section={opptyID:"",eTag:"",name:"client-retained-responsibilities"};n.editable=u.observable(i.editable());n.data={content:u.observableArray()};n.addRow=function(){n.data.content.push(new f)};n.remove=function(){n.data.content.remove(this)}};return t=new r(n),t.section.opptyID=i.opptyID(),a(t),t}function y(n,i){var o=i.sid(),r,u,e;if(o==="040506"){r=[];for(u in t.data.content())r.push(new f(t.data.content()[u]));e={content:r};h.unifiedSave(!0,e,i)}}function o(n){var i=n.solnOverview.deliveryStrategies.clientRetainedResp.data.content;t.data.content(p(i))}function p(n){for(var t in n)n[t].comment=unescape(n[t].comment);return n}var r=n("jquery"),u=n("knockout"),w=n("jasnybs"),s=n("text!./Section040506Template.html"),h=n("model/RequestAPI"),t={},i={};return{name:["Section040506","sd-section-040506"],template:s,viewModel:{createViewModel:v}}});define("component/Section0406",function(n){"use strict";function l(){f(window).off("opptySaving");f(window).on("opptySaving",p);f(window).off("updateSection");f(window).on("updateSection",function(n,t){e(t)})}function a(){l()}function v(){f(".sd-section-help").tooltip()}function y(){if(t.section.opptyID=u.opptyID(),t.editable())e();else{var n=u.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.keyClientConstraint!=null&&o(n)}}function e(n){n&&(u=n);var t=u.document();t!==undefined&&t.solnOverview!=null&&t.solnOverview.keyClientConstraint!=null&&o(t)}function o(n){var u,r;t.section.data.content(b(n.solnOverview.keyClientConstraint.data.content));u=t.section.data.content();t.keyClientConstraint(s());for(r in u)r<t.initConstraintCount?(t.keyClientConstraint()[r].checked(u[r].inScope),t.keyClientConstraint()[r].description(u[r].description),t.keyClientConstraint()[r].mitigation(u[r].mitigation)):t.keyClientConstraint.push(new i(u[r].constraint,u[r].constraintTitle,"",!0,u[r].inScope,u[r].description,u[r].mitigation));v()}function p(n,i){var o=i.sid(),f,u,e;if(o==="0406"){f=[];for(u in t.keyClientConstraint())t.keyClientConstraint()[u].checked()?f.push({inScope:!0,constraint:escape(t.keyClientConstraint()[u].constraint()),constraintTitle:escape(t.keyClientConstraint()[u].constraintTitle()),description:escape(t.keyClientConstraint()[u].description()),mitigation:escape(t.keyClientConstraint()[u].mitigation())}):f.push({inScope:!1,constraint:escape(t.keyClientConstraint()[u].constraint()),constraintTitle:escape(t.keyClientConstraint()[u].constraintTitle()),description:"",mitigation:""});t.section.data.content(f);e=w(r.toJS(t.section.data));c.unifiedSave(!0,e,i)}}function w(n){for(var t in n)n[t].constraintTitle=escape(n[t].constraintTitle),n[t].description=escape(n[t].description),n[t].mitigation=escape(n[t].mitigation);return n}function b(n){for(var t in n)n[t].constraintTitle=unescape(n[t].constraintTitle),n[t].description=unescape(n[t].description),n[t].mitigation=unescape(n[t].mitigation);return n}function i(n,t,i,u,f,e,o){this.constraint=r.observable(n);this.constraintTitle=r.observable(t);this.hint=i;this.isOriginal=r.observable(u);this.checked=r.observable(f);this.description=r.observable(e);this.mitigation=r.observable(o)}function s(){var n=[];return n.push(new i("ClientStandard","Client-mandated standards and methods","",!0,!1,"","")),n.push(new i("ClientMandated","Client-mandated products or tools","",!0,!1,"","")),n.push(new i("ClientUnionizedSupport","Client-unionized support","If the client has a unionized labor force that will be impacted by their decision to use HPE services, how will this specifically impact the solution, the cost, delivery risks and commercial terms related to the solution?",!0,!1,"","")),n.push(new i("Regulatory","Data privacy and regulatory issues","",!0,!1,"","")),n.push(new i("ExportImport","Export / import compliance","Export/import compliance (global trade): Is the client a government organization, or a commercial client, involved in any activity related to the following industries: Military/Defense, Aerospace, Nuclear (including nuclear energy), Chemical, Biotech/Pharma, or High Tech Manufacturing? Does the client have activities or locations in \u201cembargoed\u201d or \u201cSanctioned\u201d countries [Link to Embargoed/Sanctioned Country List]? Does the proposed scope of work require HPE to package or distribute customer or third party software products?",!0,!1,"","")),n.push(new i("CMO","HPE CMO responsibilities","",!0,!1,"","")),n.push(new i("Resource","HPE or client resources","",!0,!1,"","")),n.push(new i("LoL","Limits of Liability","Describe any client requests for HPE non-standard limits of liability and how the technical solution and commercial terms will be used to mitigate  these risks.",!0,!1,"","")),n.push(new i("OffshoreLocation","No use of offshore locations","",!0,!1,"","")),n.push(new i("Timeline","Timelines and critical dates","Client-mandated timelines/durations and/or critical dates that HPE will be dependent upon as a part of the deployment of our services.",!0,!1,"","")),n}function k(n){u=n.viewModel;a();var f=function(){var n=this;n.section={opptyID:"",eTag:"",name:"key-client-constraints",data:{content:r.observable([])}};n.editable=r.observable(u.editable());n.opptyItemData=r.observable();n.keyClientConstraint=r.observableArray(s());n.initConstraintCount=n.keyClientConstraint().length;n.addRow=function(){n.keyClientConstraint.push(new i("Other","","",!1,!0,"",""))};n.removeRow=function(t){var i=n.keyClientConstraint();i.splice(t,1);n.keyClientConstraint(i)}};return t=new f(n),y(),t}var f=n("jquery"),r=n("knockout"),d=n("jasnybs"),h=n("text!./Section0406Template.html"),t={},c=n("model/RequestAPI"),u={};return{name:["Section0406","sd-section-0406"],template:h,viewModel:{createViewModel:k}}});define("component/Section0407",function(n){"use strict";function h(){i(window).off("opptySaving");i(window).on("opptySaving",y);i(window).off("updateSection");i(window).on("updateSection",function(n,t){o(t)})}function c(){h();i(".popover-options a").popover({html:!0});i(".popover-show").popover("hide")}function l(){if(t.section.opptyID=r.opptyID(),t.editable())o();else{var n=r.document();n!==undefined&&n.solnOverview!=null&&n.solnOverview.costingReport!=null&&n.solnOverview.scope!=null&&n.solnOverview.scope.allOfferings!=null&&e(n)}}function o(n){var i,f,u,o;if(n&&(r=n),i=r.document(),i!==undefined&&i.solnOverview!=null&&i.solnOverview.costingReport!=null)e(i);else{if(i!==undefined&&i.solnOverview!=null&&i.solnOverview.scope!=null&&i.solnOverview.scope.allOfferings!=null){f=[];u=i.solnOverview.scope.allOfferings.data.content;for(o in u)f.push({offeringId:u[o].offeringId,offering:u[o].offering,xmoApproach:"",cmpyTarget:""});t.section.data.content(f)}t.pageInited(!0)}}function a(n){r=n.viewModel;c();var i=function(){var n=this;n.section={opptyID:"",eTag:"",name:"costing-reports",data:{content:u.observable([])}};n.editable=u.observable(r.editable());n.pageInited=u.observable(!1)};return t=new i(n),l(),t}function v(n,t){var r=[];return i.each(n,function(n,u){var f=-1;i.each(t,function(n,t){if(t.offeringId===u.offeringId)return r.push(t),f=n,!1});f===-1&&r.push({offeringId:u.offeringId,offering:u.offering,xmoApproach:"",cmpyTarget:""})}),r}function e(n){var i=n.solnOverview.scope.allOfferings.data.content,r=n.solnOverview.costingReport.data.content,u=v(i,r);t.section.data.content(u);t.pageInited(!0)}function y(n,i){var e=i.sid(),r;e==="0407"&&t.pageInited()&&(r=u.toJS(t.section.data),f.unifiedSave(!0,r,i))}var i=n("jquery"),u=n("knockout"),p=n("jasnybs"),s=n("text!./Section0407Template.html"),w=n("util/AppUtility"),b=n("model/Oppty"),f=n("model/RequestAPI"),t={},r={};return{name:["Section0407","sd-section-0407"],template:s,viewModel:{createViewModel:a}}});define("component/Section0701",function(n){"use strict";function r(){return i}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section0701Template.html"),i={};return{name:["Section0701","sd-section-0701"],template:t,viewModel:{createViewModel:r}}});define("component/Section0702",function(n){"use strict";function r(){return i}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section0702Template.html"),i={};return{name:["Section0702","sd-section-0702"],template:t,viewModel:{createViewModel:r}}});define("component/Section0703",function(n){"use strict";function r(){return i}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section0703Template.html"),i={};return{name:["Section0703","sd-section-0703"],template:t,viewModel:{createViewModel:r}}});define("component/Section0704",function(n){"use strict";function r(){return i}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section0704Template.html"),i={};return{name:["Section0704","sd-section-0704"],template:t,viewModel:{createViewModel:r}}});define("component/Section0705",function(n){"use strict";function r(){return i}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section0705Template.html"),i={};return{name:["Section0705","sd-section-0705"],template:t,viewModel:{createViewModel:r}}});define("component/Section0706",function(n){"use strict";function r(){return i}var u=n("jquery"),f=n("knockout"),e=n("jasnybs"),t=n("text!./Section0706Template.html"),i={};return{name:["Section0706","sd-section-0706"],template:t,viewModel:{createViewModel:r}}});define("component/Section0707",function(n){"use strict";function u(){var n=function(){var n=this;n.editable=t.observable(!0)};return r}var f=n("jquery"),t=n("knockout"),e=n("jasnybs"),i=n("text!./Section0707Template.html"),r={};return{name:["Section0707","sd-section-0707"],template:i,viewModel:{createViewModel:u}}});define("component/Section0801",function(n){"use strict";function e(n){return n!=undefined&&n!=null?unescape(n):null}function f(n){n!=null?(this.isNewAdd=n.isNewAdd,this.offeringFuncArea=n.offeringFuncArea,this.assumption=n.assumption,this.planToClose=n.planToClose):(this.isNewAdd=!0,this.offeringFuncArea="",this.assumption="",this.planToClose="")}function h(n){if(n.content!=null&&n.content.length>0)for(var i in n.content)n.content[i].isNewAdd=n.content[i].isNewAdd,n.content[i].offeringFuncArea=n.content[i].offeringFuncArea,n.content[i].assumption=e(n.content[i].assumption),n.content[i].planToClose=e(n.content[i].planToClose);else n.content.push(new f(null));t.data.content(n.content)}function c(){u(window).off("opptySaving");u(window).on("opptySaving",y);u(window).off("updateSection");u(window).on("updateSection",function(n,t){o(t)})}function l(){c()}function a(n){l();i=n.viewModel;var u=function(){var n=this;n.editable=r.observable(!0);n.data={content:r.observableArray()};n.addRow=function(){n.data.content.push(new f(null))};n.remove=function(){n.data.content.remove(this)}};return t=new u(n),o(),t}function o(n){n&&(i=n);t.editable(i.editable());var f=null,u=r.toJS(i.document);u!=undefined&&u.solnOverview!=undefined&&u.solnOverview.scope.allOfferings!=undefined&&u.solnOverview.scope.allOfferings.data!=undefined&&u.solnOverview.scope.allOfferings.data.content!=undefined&&(f=u.solnOverview.scope.allOfferings.data.content,v(f),t.data.content.sort(function(n){return n.isNewAdd==!0}))}function v(n){var u=JSON.parse(window.localStorage.getItem(i.opptyID())),e,o,s,c;u!=undefined&&u.keyAssumptions!=undefined&&u.keyAssumptions.content!=undefined&&h(u.keyAssumptions);for(e in n){o=r.toJS(t.data.content());s=!0;for(c in o)o[c].offeringFuncArea==n[e].offering&&(s=!1);s===!0&&(u={isNewAdd:!1,offeringFuncArea:n[e].offering,assumption:"",planToClose:""},t.data.content.push(new f(u)))}}function y(n,u){var o=u.sid();if(o==="0801"){var e=r.toJS(t.data),s={keyAssumptions:e},f=JSON.parse(localStorage.getItem(i.opptyID()));f!=undefined?f["keyAssumptions"]=e:f=s;window.localStorage.setItem(i.opptyID(),JSON.stringify(f))}}var u=n("jquery"),r=n("knockout"),s=n("text!./Section0801Template.html"),p=n("model/RequestAPI"),t={},i={};return{name:["Section0801","sd-section-0801"],template:s,viewModel:{createViewModel:a}}});define("component/Section0802",function(n){"use strict";function f(n){return n!=undefined&&n!=null?unescape(n):null}function e(n){n!=null?(this.offeringFuncArea=t.observable(n.offeringFuncArea),this.riskDescription=t.observable(n.riskDescription),this.mitigationPlan=t.observable(n.mitigationPlan),this.status=t.observable(n.status)):(this.offeringFuncArea=t.observable(""),this.riskDescription=t.observable(""),this.mitigationPlan=t.observable(""),this.status=t.observable("Red"))}function h(n){if(n.content!=null&&n.content.length>0)for(var t in n.content)n.content[t].offeringFuncArea=f(n.content[t].offeringFuncArea),n.content[t].riskDescription=f(n.content[t].riskDescription),n.content[t].mitigationPlan=f(n.content[t].mitigationPlan),n.content[t].status=f(n.content[t].status);else n.content.push(new e(null));r.data.content(n.content)}function c(){u(window).off("opptySaving");u(window).on("opptySaving",v);u(window).off("updateSection");u(window).on("updateSection",function(n,t){o(t)})}function l(){c()}function a(n){l();i=n.viewModel;var u=function(){var n=this;n.editable=t.observable(!0);n.data={content:t.observableArray([new e(null)])};n.addRow=function(){n.data.content.push(new e(null))};n.remove=function(){n.data.content.remove(this)}};return r=new u(n),o(),r}function o(n){n&&(i=n);r.editable(i.editable());var t=JSON.parse(window.localStorage.getItem(i.opptyID()));t!=undefined&&t.keyDeliveryRisks!=undefined&&t.keyDeliveryRisks.content!=undefined&&h(t.keyDeliveryRisks)}function v(n,u){var o=u.sid();if(o==="0802"){var e=t.toJS(r.data),s={keyDeliveryRisks:e},f=JSON.parse(localStorage.getItem(i.opptyID()));f!=undefined?f["keyDeliveryRisks"]=e:f=s;window.localStorage.setItem(i.opptyID(),JSON.stringify(f))}}var u=n("jquery"),t=n("knockout"),s=n("text!./Section0802Template.html"),y=n("model/RequestAPI"),r={},i={};return{name:["Section0802","sd-section-0802"],template:s,viewModel:{createViewModel:a}}});define("component/Section0803",function(n){"use strict";function f(n){return n!=undefined&&n!=null?unescape(n):null}function e(n){n!=null?(this.offeringFuncArea=t.observable(n.offeringFuncArea),this.riskDescription=t.observable(n.riskDescription),this.mitigationPlan=t.observable(n.mitigationPlan),this.status=t.observable(n.status)):(this.offeringFuncArea=t.observable(""),this.riskDescription=t.observable(""),this.mitigationPlan=t.observable(""),this.status=t.observable("Red"))}function h(n){if(n.content!=null&&n.content.length>0)for(var t in n.content)n.content[t].offeringFuncArea=f(n.content[t].offeringFuncArea),n.content[t].riskDescription=f(n.content[t].riskDescription),n.content[t].mitigationPlan=f(n.content[t].mitigationPlan),n.content[t].status=f(n.content[t].status);else n.content.push(new e(null));r.data.content(n.content)}function c(){u(window).off("opptySaving");u(window).on("opptySaving",v);u(window).off("updateSection");u(window).on("updateSection",function(n,t){o(t)})}function l(){c()}function a(n){l();i=n.viewModel;var u=function(){var n=this;n.editable=t.observable(!0);n.data={content:t.observableArray([new e(null)])};n.addRow=function(){n.data.content.push(new e(null))};n.remove=function(){n.data.content.remove(this)}};return r=new u(n),o(),r}function o(n){n&&(i=n);r.editable(i.editable());var t=JSON.parse(window.localStorage.getItem(i.opptyID()));t!=undefined&&t.keyNonDeliveryRisks!=undefined&&t.keyNonDeliveryRisks.content!=undefined&&h(t.keyNonDeliveryRisks)}function v(n,u){var o=u.sid();if(o==="0803"){var e=t.toJS(r.data),s={keyNonDeliveryRisks:e},f=JSON.parse(localStorage.getItem(i.opptyID()));f!=undefined?f["keyNonDeliveryRisks"]=e:f=s;window.localStorage.setItem(i.opptyID(),JSON.stringify(f))}}var u=n("jquery"),t=n("knockout"),s=n("text!./Section0803Template.html"),y=n("model/RequestAPI"),r={},i={};return{name:["Section0803","sd-section-0803"],template:s,viewModel:{createViewModel:a}}});define("component/SDContents",function(n){"use strict";function h(){i("#s4-ribbonrow").hide();i("#s4-titlerow").hide()}function c(){t.opptyID(o.getUrlParameter("OpptyID"));t.opptyID()===""?r.errorOppty("400"):r.getOpptyByIDAsync(t.opptyID()).done(function(n){if(n.status!=undefined&&n.status==404)r.errorOppty("404");else{var i=n.data.opptyOverview.opptyData.data;t.opptyID(i.opptyId);t.opptyName(i.opptyName)}});i("body").show()}function l(n){h();var i=function(){var n=this;n.opptyID=u.observable("");n.opptyName=u.observable("...");n.sdLoaderUrl=sp.app.config.ENV.SectionLoaderUrl};return t=new i(n),c(t),t}var i=n("jquery"),u=n("knockout"),f=n("text!./SDContentsTemplate.html"),e=n("./TopLink"),o=n("util/AppUtility"),r=n("model/RequestAPI"),s=n("./OpptyID"),t={};return{name:"SDContents",template:f,viewModel:{createViewModel:l},subComponents:[e,s]}});define("component/SectionLoader",function(n){"use strict";function oi(){t(window).on("generateMsg",function(n,i,r,u){t(".sd-update-message").text(u);r==0?(t(".sd-update-message").addClass("text-success"),setTimeout(function(){t(".sd-update-message").removeClass("text-success");t(".sd-update-message").text("")},3e3)):(t(".sd-update-message").addClass("text-danger"),setTimeout(function(){t(".sd-update-message").removeClass("text-danger");t(".sd-update-message").text("")},5e3));f=!0});t(window).off("submitableChanged");t(window).on("submitableChanged",function(n,t){f=t.submitFlag;f&&(sp.app.workingDialog.show("Saving section"),r.updateSection(t.viewModel.opptyID(),t.viewModel.sectionName(),t.obj,o).done(function(n,i,f){sp.app.workingDialog.hide("Saving section");f!=undefined&&u==t.viewModel.sid()?o=f.getResponseHeader("ETag"):f===undefined?(r.errorUpdateSection(n,t.viewModel.sid(),t.viewModel.opptyID()),sp.app.workingDialog.show("Save section failed"),setTimeout(function(){sp.app.workingDialog.hide("Save section failed")},3e3),n.status==409&&confirm("Your current data is now up-to-date, maybe someone have already saved this section!\n Do you want to load the lastest data?")&&window.location.reload(!0)):(si(t.viewModel),history.pushState("string-data","section-name","?sid="+u+"&OpptyID="+t.viewModel.opptyID()+""))}))})}function si(n){n.sid(u);t(window).trigger("updateSection",n)}function hi(){oi();t(".navmenu").offcanvas({autohide:!1,recalc:!1,toggle:!1,canvas:"#sd-section-detail"})}function ci(n){var i=h.getUrlParameter("sid");u=i;n.opptyID(h.getUrlParameter("OpptyID"));n.sid(i);n.opptyID()===""?i==""?r.errorOppty("404"):i=="0201"||n.sectionNavigator(r.createSectionModel()):n.sectionNavigator(r.createSectionModel());t("body").show()}function li(n){n.opptyID()!=""&&(sp.app.workingDialog.show("Retrieving Section "+n.title()),r.getSectionByIDAndSectionNameAsync(n.opptyID(),n.sectionName()).done(function(i,u){if(sp.app.workingDialog.hide("Retrieving Section "+n.title()),i.status!=undefined&&i.status>=400)r.errorOppty("404");else if(i.data.opptyOverview!=null&&i.data.opptyOverview.opptyData!=null){var f=i.data.opptyOverview.opptyData.data;o=u.getResponseHeader("ETag");n.document(i.data);n.oppty.ClientName(f.clientName);n.oppty.OpptyName(f.opptyName);n.pursuitClassfication(f.pursuitClassfication);f.involvedGbu!=null&&f.involvedGbu.apps!=null&&(n.involvedGbu("apps"),n.appsInscope(f.involvedGbu.apps.inScope));c=r.createSectionModel(n.pursuitClassfication(),n.involvedGbu(),n.appsInscope());n.sectionNavigator(r.createSectionModel(n.pursuitClassfication(),n.involvedGbu(),n.appsInscope()));t(window).trigger("updateSection",n)}}))}function s(n){var t=["0701","0702","0703","0704","0705","0706","0707","0801","0802","0803"];for(var i in t)if(n==t[i])return!0;return!1}function ai(){hi();c=r.createSectionModel("C","apps",!0);var o=function(){var o=this;o.oppty={OpptyName:i.observable(""),ClientName:i.observable("")};o.document=i.observable();o.sectionNavigator=i.observable(r.createSectionModel("C","apps",!0));o.opptyID=i.observable();o.sdLoaderUrl=sp.app.config.ENV.SectionLoaderUrl;o.sdContentUrl=sp.app.config.ENV.SDContentsUrl;o.pursuitClassfication=i.observable();o.editable=i.observable(!0);o.involvedGbu=i.observable();o.appsInscope=i.observable();o.sid=i.observable();o.title=i.observable();o.sectionName=i.observable();o.prevSid=i.observable();o.nextSid=i.observable();o.sid.subscribe(function(t){for(var i in o.sectionNavigator())if(o.sectionNavigator()[i].sid===o.sid()){o.title(o.sectionNavigator()[i].title);o.sectionName(o.sectionNavigator()[i].sectionName);o.prevSid(o.sectionNavigator()[i].prevSid);o.nextSid(o.sectionNavigator()[i].nextSid);s(t)&&o.sectionName(o.sectionNavigator()[0].sectionName);li(n);return}});o.saveHome=function(){};o.save=function(){e();t(window).triggerHandler("opptySaving",o)};o.saveAndNext=function(){e();n.sid()=="0201"||n.sid()=="0202"?(t(window).triggerHandler("opptySaving",n),f&&(u=o.nextSid(),t(window).triggerHandler("sectionChanged",n))):s(n.sid())?(n.sid(o.nextSid()),history.pushState("string-data","section-name","?sid="+n.sid()+"&OpptyID="+n.opptyID()+"")):(t(window).triggerHandler("opptySaving",n),u=o.nextSid())};o.saveAndPrevious=function(){e();n.sid()=="0201"||n.sid()=="0202"?(t(window).triggerHandler("opptySaving",n),f&&(u=o.prevSid(),t(window).triggerHandler("sectionChanged",n))):s(n.sid())?(n.sid(o.prevSid()),history.pushState("string-data","section-name","?sid="+n.sid()+"&OpptyID="+n.opptyID()+"")):(t(window).triggerHandler("opptySaving",n),u=o.prevSid())};o.changeSection=function(i){e();t(window).triggerHandler("opptySaving",o);u=i;n.sid(u);history.pushState("string-data","section-name","?sid="+n.sid()+"&OpptyID="+n.opptyID()+"")}},n=new o;return ci(n),n}function e(){vi()}function vi(){t(".popover").popover("hide");t(".popover").remove()}var t=n("jquery"),i=n("knockout"),r=n("model/RequestAPI"),l=n("./TopLink"),a=n("text!./SectionLoaderTemplate.html"),v=n("./Section0201"),y=n("./Section0202"),p=n("./Section0301"),w=n("./Section030201"),b=n("./Section030202"),k=n("./Section030203"),d=n("./Section030204"),g=n("./Section040101"),nt=n("./Section040102"),tt=n("./Section0402"),it=n("./Section040301"),rt=n("./Section040302"),ut=n("./Section040303"),ft=n("./Section040304"),et=n("./Section040305"),ot=n("./Section040306"),st=n("./Section040307"),ht=n("./Section0404"),ct=n("./Section040501"),lt=n("./Section040502"),at=n("./Section040503"),vt=n("./Section040504"),yt=n("./Section040505"),pt=n("./Section040506"),wt=n("./Section0406"),bt=n("./Section0407"),kt=n("./Section0701"),dt=n("./Section0702"),gt=n("./Section0703"),ni=n("./Section0704"),ti=n("./Section0705"),ii=n("./Section0706"),ri=n("./Section0707"),ui=n("./Section0801"),fi=n("./Section0802"),ei=n("./Section0803"),h=n("util/AppUtility"),f=!0,u="",c={},o="";return{name:["SectionLoader","sd-section-loader"],template:a,viewModel:{createViewModel:ai},subComponents:[v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,l]}});